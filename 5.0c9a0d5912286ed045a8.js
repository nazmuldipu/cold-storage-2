(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/TAm":function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("fXoL");let r=(()=>{class e{constructor(){this.num_to_bd=["\u09e6","\u09e7","\u09e8","\u09e9","\u09ea","\u09eb","\u09ec","\u09ed","\u09ee","\u09ef"]}transform(e,t){var o=this.numberToArray(e);return this.arrayToTaka(o)}arrayToTaka(e){e=e.reverse();let t="";for(let o=0;o<e.length;o++)(3==o||o>3&&o%2==1)&&(t=","+t),t=e[o]+t;return t}numberToArray(e){let t=[],o=e;for(;o>0;)t.push(o%10+""),o=Math.floor(o/10);for(t=t.reverse(),o=0;o<t.length;o++)t[o]=this.num_to_bd[t[o]];return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Jb({name:"currencyBd",type:e,pure:!0}),e})()},BC91:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("fXoL");let r=(()=>{class e{constructor(){this.num_to_bd=["\u09e6","\u09e7","\u09e8","\u09e9","\u09ea","\u09eb","\u09ec","\u09ed","\u09ee","\u09ef"]}transform(e,t){let o=(e+"").split(".");return 1==o.length?this.engToBd(e):2==o.length?this.engToBd(parseInt(o[0]))+"."+this.engToBd(parseInt(o[1])):""}engToBd(e){let t="";if(e<0&&(t="-",e=-e),e>9){let o=e%10;return t+this.engToBd(Math.floor(e/10))+this.num_to_bd[o]}return t+this.num_to_bd[e]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Jb({name:"numberToBangla",type:e,pure:!0}),e})()},JrkW:function(e,t,o){"use strict";o.d(t,"a",function(){return s});var n=o("7RJT"),r=o("q3Kh"),i=o("fXoL"),c=o("I/3d");let s=(()=>{class e{constructor(e){this.afs=e,this.serviceUrl="inventory",this._inventorySource=new n.BehaviorSubject([]),this.inventorys$=this._inventorySource.asObservable(),this.inventorys=[],this.getAndStoreAll()}create(e){return delete e._id,e.createdAt=new Date,e.version=1,this.afs.collection(this.serviceUrl).add(Object.assign({},e))}getAndStoreAll(){return this.afs.collection(this.serviceUrl,e=>e.orderBy("slug")).snapshotChanges().subscribe(e=>{this.inventorys=[],e.forEach(e=>{let t=e.payload.doc.data();t._id=e.payload.doc.id,this.inventorys.push(t)}),this._inventorySource.next(this.inventorys)})}getAll(){return this.afs.collection(this.serviceUrl,e=>e.orderBy("serialNo")).snapshotChanges().pipe(Object(r.map)(e=>e.map(e=>{const t=e.payload.doc.data();return Object.assign({id:e.payload.doc.id},t)})))}get(e){return this.afs.doc(this.serviceUrl+"/"+e).valueChanges()}update(e,t){return delete t._id,t.version=t.version?t.version+1:1,this.afs.doc(this.serviceUrl+"/"+e).update(Object.assign({},t))}delete(e){return this.afs.doc(this.serviceUrl+"/"+e).delete()}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(c.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Kj3r:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o("7o/Q"),r=o("D0XW");function i(e,t=r.a){return o=>o.lift(new c(e,t))}class c{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))}}class s extends n.a{constructor(e,t,o){super(e),this.dueTime=t,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(a,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function a(e){e.debouncedNext()}},"O+Ta":function(e,t,o){"use strict";o.r(t),o.d(t,"ROUTES",function(){return un}),o.d(t,"DashboardModule",function(){return hn});var n=o("tyNb"),r=o("B01t"),i=o("KZX/"),c=o("fXoL");let s=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["app-test"]],decls:8,vars:0,consts:[[1,"A4","landscape"],[1,"sheet","padding-10mm"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.Pb(1,"section",1),c.Pb(2,"article"),c.xc(3,"This is an A4 document (landscape) 0."),c.Ob(),c.Ob(),c.Ob(),c.Pb(4,"div",0),c.Pb(5,"section",1),c.Pb(6,"article"),c.xc(7,"This is an A4 document 2."),c.Ob(),c.Ob(),c.Ob())},styles:["[_nghost-%COMP%]{display:block;background:#e0e0e0}.A4[_ngcontent-%COMP%]{padding:15px}.sheet[_ngcontent-%COMP%]{background:#fff;box-shadow:0 .5mm 2mm rgba(0,0,0,.3);margin:0 auto}.A4[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:210mm;height:296mm}.A4.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:297mm;height:209mm}.sheet.padding-10mm[_ngcontent-%COMP%]{padding:10mm}@media print{@page{size:auto!important}.A4.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{transform:rotate(-90deg)}}"]}),e})();var a=o("mrSG"),l=o("OABl"),b=o("z3bE"),d=o("3Pt+"),u=o("ofXK");function h(e,t){if(1&e&&(c.Pb(0,"div",19),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function m(e,t){1&e&&(c.Pb(0,"small",20),c.xc(1,"Agent Name Required"),c.Ob())}function g(e,t){1&e&&(c.Pb(0,"small",21),c.xc(1," Father name required "),c.Ob())}function f(e,t){if(1&e&&(c.Pb(0,"small",21),c.Pb(1,"div",22),c.xc(2," Phone required "),c.Ob(),c.Pb(3,"div",22),c.xc(4," Phone patter should be 01945564841 "),c.Ob(),c.Ob()),2&e){const e=c.bc();c.yb(1),c.hc("hidden",!e.form.controls.phone.errors.required),c.yb(2),c.hc("hidden",!e.form.controls.phone.errors.pattern)}}function p(e,t){1&e&&(c.Pb(0,"small",20),c.xc(1,"Agent address required"),c.Ob())}function v(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",18),c.Zb("click",function(){return c.pc(e),c.bc().onDelete()}),c.xc(1,"Delete"),c.Ob()}}function y(e,t){if(1&e&&(c.Pb(0,"div",21),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let O=(()=>{class e{constructor(e){this.fb=e,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){e.agent&&null!=this.agent&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.agent))}createForm(){this.form=this.fb.group({name:["",d.q.required],father:["",d.q.required],phone:["",[d.q.required,d.q.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],address:["",d.q.required]})}submit(){this.form.valid&&(this.exists?this.update.emit(this.form.value):this.create.emit(this.form.value),this.clear())}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.agent._id),this.clear()}clear(){this.exists=!1,this.agent=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["agent-form"]],inputs:{agent:"agent"},outputs:{create:"create",update:"update",delete:"delete"},features:[c.wb],decls:35,vars:10,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","Agent Name",1,"form-control","form-control-sm"],["class","form-text text-danger",4,"ngIf"],["for","father",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","father","formControlName","father","placeholder","Agent father name",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","phone",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","phone","maxlength","11","formControlName","phone","placeholder","Agent phone",1,"form-control","form-control-sm"],["for","address",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","address","formControlName","address","rows","3","placeholder","Address",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"form-text","text-danger"],[1,"text-danger"],[3,"hidden"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,h,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"label",4),c.xc(6,"Name"),c.Ob(),c.Pb(7,"div",5),c.Lb(8,"input",6),c.vc(9,m,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(10,"div",3),c.Pb(11,"label",8),c.xc(12,"Father"),c.Ob(),c.Pb(13,"div",5),c.Lb(14,"input",9),c.vc(15,g,2,0,"small",10),c.Ob(),c.Ob(),c.Pb(16,"div",3),c.Pb(17,"label",11),c.xc(18,"Phone"),c.Ob(),c.Pb(19,"div",5),c.Lb(20,"input",12),c.vc(21,f,5,2,"small",10),c.Ob(),c.Ob(),c.Pb(22,"div",3),c.Pb(23,"label",13),c.xc(24,"Address"),c.Ob(),c.Pb(25,"div",5),c.Lb(26,"textarea",14),c.vc(27,p,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(28,"div",15),c.Pb(29,"button",16),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(30),c.Ob(),c.vc(31,v,2,0,"button",17),c.Pb(32,"button",18),c.Zb("click",function(){return t.clear()}),c.xc(33,"Clear"),c.Ob(),c.Ob(),c.vc(34,y,2,1,"div",10),c.Ob()),2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," Agent\n"),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(6),c.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),c.yb(6),c.hc("ngIf",t.form.controls.father.errors&&t.form.controls.father.touched),c.yb(6),c.hc("ngIf",t.form.controls.phone.errors&&t.form.controls.phone.touched),c.yb(6),c.hc("ngIf",t.form.controls.address.errors&&t.form.controls.address.touched),c.yb(3),c.yc(t.exists?"Update":"Save"),c.yb(1),c.hc("ngIf",t.exists),c.yb(3),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,d.a,d.i,d.c,d.f],styles:[""]}),e})();var P=o("1kSV");function x(e,t){1&e&&c.Lb(0,"td",15)}function L(e,t){1&e&&(c.Pb(0,"th",11),c.xc(1,"Father"),c.Ob())}function _(e,t){if(1&e&&(c.Pb(0,"td"),c.xc(1),c.Ob()),2&e){const e=c.bc().$implicit;c.yb(1),c.zc(" ",e.father," ")}}function C(e,t){if(1&e){const e=c.Qb();c.Pb(0,"tr"),c.Pb(1,"th",16),c.xc(2),c.Ob(),c.Pb(3,"td"),c.xc(4),c.Ob(),c.vc(5,_,2,1,"td",17),c.Pb(6,"td"),c.xc(7),c.Ob(),c.Pb(8,"td"),c.Pb(9,"a",18),c.Zb("click",function(){c.pc(e);const o=t.$implicit;return c.bc().onEdit(o._id)}),c.xc(10),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=t.$implicit,o=t.index,n=c.bc();c.yb(2),c.yc(o+1),c.yb(2),c.zc(" ",e.name," "),c.yb(1),c.hc("ngIf",!n.short),c.yb(2),c.zc(" ",e.phone," "),c.yb(3),c.yc(n.short?"Select":"Edit")}}function w(e,t){if(1&e){const e=c.Qb();c.Pb(0,"div",19),c.Pb(1,"ngb-pagination",20),c.Zb("pageChange",function(t){return c.pc(e),c.bc().page=t})("pageChange",function(){return c.pc(e),c.bc().refreshAgent()}),c.Ob(),c.Pb(2,"select",21),c.Zb("ngModelChange",function(t){return c.pc(e),c.bc().pageSize=t})("ngModelChange",function(){return c.pc(e),c.bc().refreshAgent()}),c.Pb(3,"option",22),c.xc(4,"4/Page"),c.Ob(),c.Pb(5,"option",22),c.xc(6,"8/Page"),c.Ob(),c.Pb(7,"option",22),c.xc(8,"16/Page"),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=c.bc();c.yb(1),c.hc("collectionSize",e.agentList.length)("page",e.page)("pageSize",e.pageSize),c.yb(1),c.hc("ngModel",e.pageSize),c.yb(1),c.hc("ngValue",4),c.yb(2),c.hc("ngValue",8),c.yb(2),c.hc("ngValue",16)}}let S=(()=>{class e{constructor(){this.edit=new c.n,this.searching=!1,this.page=1,this.pageSize=8,this.agentPage=[],this.agentSearch=[]}ngOnChanges(e){e.agentList&&null!=this.agentList&&this.agentList.length>0&&this.refreshAgent()}onEdit(e){this.edit.emit(e)}refreshAgent(){this.agentPage=this.agentList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onSearch(e){e.length>2?(this.searching=!0,console.log(e,e.length),this.agentPage=this.search(e)):(this.searching=!1,this.refreshAgent())}search(e){return this.agentList.filter(t=>{const o=e.toLowerCase();return t.name.toLowerCase().includes(o)||t.phone.includes(o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["agent-list"]],inputs:{agentList:"agentList",short:"short"},outputs:{edit:"edit"},features:[c.wb],decls:28,vars:4,consts:[[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","Name / Phone",1,"form-control","form-control-sm",3,"keyup"],[1,"table","table-striped","border","table-sm"],["colspan","4",1,"form-head"],["class","form-head",4,"ngIf"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between p-2",4,"ngIf"],[1,"form-head"],["scope","row"],[4,"ngIf"],[1,"edit_link",3,"click"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(c.Pb(0,"form"),c.Pb(1,"div",0),c.Lb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"div",5),c.Lb(7,"i",6),c.Ob(),c.Ob(),c.Pb(8,"input",7),c.Zb("keyup",function(e){return t.onSearch(e.target.value)}),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(9,"table",8),c.Pb(10,"thead"),c.Pb(11,"tr"),c.Pb(12,"td",9),c.xc(13," Agent List "),c.Ob(),c.vc(14,x,1,0,"td",10),c.Ob(),c.Pb(15,"tr"),c.Pb(16,"th",11),c.xc(17,"#"),c.Ob(),c.Pb(18,"th",11),c.xc(19,"Name"),c.Ob(),c.vc(20,L,2,0,"th",12),c.Pb(21,"th",11),c.xc(22,"Phone"),c.Ob(),c.Pb(23,"th",11),c.xc(24,"Action"),c.Ob(),c.Ob(),c.Ob(),c.Pb(25,"tbody"),c.vc(26,C,11,5,"tr",13),c.Ob(),c.Ob(),c.vc(27,w,9,7,"div",14)),2&e&&(c.yb(14),c.hc("ngIf",!t.short),c.yb(6),c.hc("ngIf",!t.short),c.yb(6),c.hc("ngForOf",t.agentPage),c.yb(1),c.hc("ngIf",!t.searching))},directives:[d.s,d.j,d.k,u.n,u.m,P.i,d.p,d.i,d.l,d.m,d.r],styles:[""]}),e})(),k=(()=>{class e{constructor(e,t){this.agentService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.agentList=[],this.errorMessage=""}ngOnInit(){this.getAgentList()}getAgentList(){return Object(a.a)(this,void 0,void 0,function*(){this.agentService.agents$.subscribe(e=>{this.agentList=e,this.agentList.sort(this.util.dynamicSortObject("priority"))})})}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});yield this.agentService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.agent.createdAt});yield this.agentService.update(this.agent._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.agentService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Agent Deleting ERROR ! "}),this.clear())})}onEdit(e){this.agent=this.agentList.find(t=>t._id===e)}clear(){this.agent=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(l.a),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-agent"]],decls:9,vars:2,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"agent","create","update","delete"],[1,"col-md-8","mt-2"],[3,"agentList","edit"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Agent\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"agent-form",5),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",6),c.Pb(8,"agent-list",7),c.Zb("edit",function(e){return t.onEdit(e)}),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("agent",t.agent),c.yb(2),c.hc("agentList",t.agentList))},directives:[O,S],styles:[""]}),e})();var z=o("ZmEn");function D(e,t){if(1&e&&(c.Pb(0,"div",15),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function M(e,t){1&e&&(c.Pb(0,"small",16),c.xc(1,"Chamber Name Required"),c.Ob())}function j(e,t){1&e&&(c.Pb(0,"small",16),c.xc(1,"Chamber capacity required"),c.Ob())}function q(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",11),c.Zb("click",function(){return c.pc(e),c.bc().onDelete()}),c.xc(1,"Delete"),c.Ob()}}function I(e,t){if(1&e&&(c.Pb(0,"div",17),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let E=(()=>{class e{constructor(e){this.fb=e,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){e.chamber&&null!=this.chamber&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.chamber))}createForm(){this.form=this.fb.group({name:["",d.q.required],capacity:["",d.q.required]})}submit(){this.form.valid&&(this.exists?this.update.emit(this.form.value):this.create.emit(this.form.value),this.clear())}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.chamber._id),this.clear()}clear(){this.exists=!1,this.chamber=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["chamber-form"]],inputs:{chamber:"chamber"},outputs:{create:"create",update:"update",delete:"delete"},features:[c.wb],decls:23,vars:8,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","Chamber Name",1,"form-control","form-control-sm"],["id","nameHelp","class","form-text text-danger",4,"ngIf"],["for","capacity",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","capacity","formControlName","capacity","placeholder","Chamber capacity",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["class","text-danger",4,"ngIf"],[1,"alert","alert-danger"],["id","nameHelp",1,"form-text","text-danger"],[1,"text-danger"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,D,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"label",4),c.xc(6,"Name"),c.Ob(),c.Pb(7,"div",5),c.Lb(8,"input",6),c.vc(9,M,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(10,"div",3),c.Pb(11,"label",8),c.xc(12,"Capacity"),c.Ob(),c.Pb(13,"div",5),c.Lb(14,"input",9),c.vc(15,j,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(16,"div",10),c.Pb(17,"button",11),c.Zb("click",function(){return t.clear()}),c.xc(18,"Clear"),c.Ob(),c.vc(19,q,2,0,"button",12),c.Pb(20,"button",13),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(21),c.Ob(),c.Ob(),c.vc(22,I,2,1,"div",14),c.Ob()),2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," Chamber\n"),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(6),c.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),c.yb(6),c.hc("ngIf",t.form.controls.capacity.errors&&t.form.controls.capacity.touched),c.yb(4),c.hc("ngIf",t.exists),c.yb(2),c.yc(t.exists?"Update":"Save"),c.yb(1),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,d.a,d.i,d.c,d.n],styles:[""]}),e})();function F(e,t){if(1&e){const e=c.Qb();c.Pb(0,"tr"),c.Pb(1,"th",15),c.xc(2),c.Ob(),c.Pb(3,"td"),c.xc(4),c.Ob(),c.Pb(5,"td"),c.xc(6),c.Ob(),c.Pb(7,"td"),c.Pb(8,"a",16),c.Zb("click",function(){c.pc(e);const o=t.$implicit;return c.bc().onEdit(o._id)}),c.xc(9,"Edit"),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=t.$implicit,o=t.index;c.yb(2),c.yc(o+1),c.yb(2),c.zc(" ",e.name," "),c.yb(2),c.yc(e.capacity)}}let N=(()=>{class e{constructor(e,t){this.chamberService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.page=1,this.pageSize=8,this.chamberPage=[],this.chamberList=[],this.errorMessage=""}ngOnInit(){this.getChamberList()}getChamberList(){return Object(a.a)(this,void 0,void 0,function*(){this.chamberService.chambers$.subscribe(e=>{this.chamberList=e,this.refreshChamber(),this.chamberList.sort(this.util.dynamicSortObject("name"))})})}refreshChamber(){this.chamberPage=this.chamberList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase()});yield this.chamberService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name),createdAt:this.chamber.createdAt});yield this.chamberService.update(this.chamber._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.chamberService.delete(e).then(()=>{this.sendingData=!1,this.chamber=null}).catch(e=>{this.sendingData=!1,this.errorMessage="Chamber Deleting ERROR ! "}),this.clear())})}onEdit(e){this.chamber=this.chamberList.find(t=>t._id===e),console.log("onEdit",e)}clear(){this.chamber=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(z.a),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-chamber"]],decls:33,vars:9,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"chamber","create","update","delete"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","4",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Chamber\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"chamber-form",5),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",6),c.Pb(8,"table",7),c.Pb(9,"thead"),c.Pb(10,"tr"),c.Pb(11,"td",8),c.xc(12," Chamber List "),c.Ob(),c.Ob(),c.Pb(13,"tr"),c.Pb(14,"th",9),c.xc(15,"#"),c.Ob(),c.Pb(16,"th",9),c.xc(17,"Name"),c.Ob(),c.Pb(18,"th",9),c.xc(19,"Capacity"),c.Ob(),c.Pb(20,"th",9),c.xc(21,"Action"),c.Ob(),c.Ob(),c.Ob(),c.Pb(22,"tbody"),c.vc(23,F,10,3,"tr",10),c.Ob(),c.Ob(),c.Pb(24,"div",11),c.Pb(25,"ngb-pagination",12),c.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshChamber()}),c.Ob(),c.Pb(26,"select",13),c.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshChamber()}),c.Pb(27,"option",14),c.xc(28,"4/Page"),c.Ob(),c.Pb(29,"option",14),c.xc(30,"8/Page"),c.Ob(),c.Pb(31,"option",14),c.xc(32,"16/Page"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("chamber",t.chamber),c.yb(17),c.hc("ngForOf",t.chamberPage),c.yb(2),c.hc("collectionSize",t.chamberList.length)("page",t.page)("pageSize",t.pageSize),c.yb(1),c.hc("ngModel",t.pageSize),c.yb(1),c.hc("ngValue",4),c.yb(2),c.hc("ngValue",8),c.yb(2),c.hc("ngValue",16))},directives:[E,u.m,P.i,d.p,d.i,d.l,d.m,d.r],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:.875rem}"]}),e})();var V=o("R1Qo");function R(e,t){if(1&e&&(c.Pb(0,"div",30),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function A(e,t){1&e&&(c.Pb(0,"small",31),c.xc(1,"Agent Name Required"),c.Ob())}function Z(e,t){1&e&&(c.Pb(0,"small",32),c.xc(1," Email required "),c.Ob())}function B(e,t){if(1&e&&(c.Pb(0,"small",32),c.Pb(1,"div",33),c.xc(2," Phone required "),c.Ob(),c.Pb(3,"div",33),c.xc(4," Phone patter should be 01945564841 "),c.Ob(),c.Ob()),2&e){const e=c.bc();c.yb(1),c.hc("hidden",!e.form.controls.phone.errors.required),c.yb(2),c.hc("hidden",!e.form.controls.phone.errors.pattern)}}function T(e,t){1&e&&(c.Pb(0,"small",32),c.xc(1," Company VAT number required "),c.Ob())}function U(e,t){1&e&&(c.Pb(0,"small",32),c.xc(1," Trade Licence required "),c.Ob())}function $(e,t){1&e&&(c.Pb(0,"small",32),c.xc(1," Company TIN number required "),c.Ob())}function K(e,t){1&e&&(c.Pb(0,"small",32),c.xc(1," Vat percent required "),c.Ob())}function Q(e,t){1&e&&(c.Pb(0,"small",32),c.xc(1," Company website required "),c.Ob())}function G(e,t){1&e&&(c.Pb(0,"small",31),c.xc(1,"Agent address required"),c.Ob())}function Y(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",29),c.Zb("click",function(){return c.pc(e),c.bc().onDelete()}),c.xc(1,"Delete"),c.Ob()}}function J(e,t){if(1&e&&(c.Pb(0,"div",32),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let W=(()=>{class e{constructor(e){this.fb=e,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){e.company&&null!=this.company&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.company))}createForm(){this.form=this.fb.group({name:["",d.q.required],email:["",d.q.required],phone:["",[d.q.required,d.q.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],address:["",d.q.required],vat_no:[""],trade_licence:["",d.q.required],tin_no:[""],website:[""],vat:[""]})}submit(){this.form.valid&&(this.exists?this.update.emit(this.form.value):this.create.emit(this.form.value),this.clear())}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.company._id),this.clear()}clear(){this.exists=!1,this.company=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["company-form"]],inputs:{company:"company"},outputs:{create:"create",update:"update",delete:"delete"},features:[c.wb],decls:62,vars:15,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","Agent Name",1,"form-control","form-control-sm"],["class","form-text text-danger",4,"ngIf"],["for","email",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-6","col-md-4"],["type","text","id","email","formControlName","email","placeholder","Company email",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","phone",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","phone","maxlength","11","formControlName","phone","placeholder","Agent phone",1,"form-control","form-control-sm"],["for","vat_no",1,"d-none","d-sm-block","col-md-2","col-form-label","col-form-label-sm"],["type","text","id","vat_no","formControlName","vat_no","placeholder","Company VAT number",1,"form-control","form-control-sm"],["for","trade_licence",1,"d-none","d-sm-block","col-md-2","col-form-label","col-form-label-sm"],["type","text","id","trade_licence","formControlName","trade_licence","placeholder","Trade Licence number",1,"form-control","form-control-sm"],["for","tin_no",1,"d-none","d-sm-block","col-md-2","col-form-label","col-form-label-sm"],["type","text","id","tin_no","formControlName","tin_no","placeholder","Company TIN number",1,"form-control","form-control-sm"],["for","vat",1,"d-none","d-sm-block","col-md-2","col-form-label","col-form-label-sm"],["type","text","id","vat","formControlName","vat","maxlength","2","placeholder","VAT percent",1,"form-control","form-control-sm"],["for","website",1,"d-none","d-sm-block","col-md-2","col-form-label","col-form-label-sm"],["type","text","id","website","formControlName","website","placeholder","Company website address",1,"form-control","form-control-sm"],["for","address",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","address","formControlName","address","rows","2","placeholder","Address",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"form-text","text-danger"],[1,"text-danger"],[3,"hidden"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,R,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"label",4),c.xc(6,"Name*"),c.Ob(),c.Pb(7,"div",5),c.Lb(8,"input",6),c.vc(9,A,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(10,"div",3),c.Pb(11,"label",8),c.xc(12,"Email*"),c.Ob(),c.Pb(13,"div",9),c.Lb(14,"input",10),c.vc(15,Z,2,0,"small",11),c.Ob(),c.Pb(16,"label",12),c.xc(17,"Phone*"),c.Ob(),c.Pb(18,"div",9),c.Lb(19,"input",13),c.vc(20,B,5,2,"small",11),c.Ob(),c.Ob(),c.Pb(21,"div",3),c.Pb(22,"label",14),c.xc(23,"Vat no"),c.Ob(),c.Pb(24,"div",9),c.Lb(25,"input",15),c.vc(26,T,2,0,"small",11),c.Ob(),c.Pb(27,"label",16),c.xc(28,"Trade Licence*"),c.Ob(),c.Pb(29,"div",9),c.Lb(30,"input",17),c.vc(31,U,2,0,"small",11),c.Ob(),c.Ob(),c.Pb(32,"div",3),c.Pb(33,"label",18),c.xc(34,"Tin no"),c.Ob(),c.Pb(35,"div",9),c.Lb(36,"input",19),c.vc(37,$,2,0,"small",11),c.Ob(),c.Pb(38,"label",20),c.xc(39,"Vat percent"),c.Ob(),c.Pb(40,"div",9),c.Lb(41,"input",21),c.vc(42,K,2,0,"small",11),c.Ob(),c.Ob(),c.Pb(43,"div",3),c.Pb(44,"label",22),c.xc(45,"Website"),c.Ob(),c.Pb(46,"div",9),c.Lb(47,"input",23),c.vc(48,Q,2,0,"small",11),c.Ob(),c.Ob(),c.Pb(49,"div",3),c.Pb(50,"label",24),c.xc(51,"Address*"),c.Ob(),c.Pb(52,"div",5),c.Lb(53,"textarea",25),c.vc(54,G,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(55,"div",26),c.Pb(56,"button",27),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(57),c.Ob(),c.vc(58,Y,2,0,"button",28),c.Pb(59,"button",29),c.Zb("click",function(){return t.clear()}),c.xc(60,"Clear"),c.Ob(),c.Ob(),c.vc(61,J,2,1,"div",11),c.Ob()),2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," Company\n"),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(6),c.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),c.yb(6),c.hc("ngIf",t.form.controls.email.errors&&t.form.controls.email.touched),c.yb(5),c.hc("ngIf",t.form.controls.phone.errors&&t.form.controls.phone.touched),c.yb(6),c.hc("ngIf",t.form.controls.vat_no.errors&&t.form.controls.vat_no.touched),c.yb(5),c.hc("ngIf",t.form.controls.trade_licence.errors&&t.form.controls.trade_licence.touched),c.yb(6),c.hc("ngIf",t.form.controls.tin_no.errors&&t.form.controls.tin_no.touched),c.yb(5),c.hc("ngIf",t.form.controls.vat.errors&&t.form.controls.vat.touched),c.yb(6),c.hc("ngIf",t.form.controls.website.errors&&t.form.controls.website.touched),c.yb(6),c.hc("ngIf",t.form.controls.address.errors&&t.form.controls.address.touched),c.yb(3),c.yc(t.exists?"Update":"Save"),c.yb(1),c.hc("ngIf",t.exists),c.yb(3),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,d.a,d.i,d.c,d.f],styles:[""]}),e})(),H=(()=>{class e{constructor(e,t){this.companyService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.companyList=[],this.errorMessage=""}ngOnInit(){this.getCompanyList()}getCompanyList(){return Object(a.a)(this,void 0,void 0,function*(){this.companyService.companys$.subscribe(e=>{this.companyList=e,this.companyList.sort(this.util.dynamicSortObject("name")),this.companyList.length>0&&(this.company=this.companyList[0])})})}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase()});yield this.companyService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name),createdAt:this.company.createdAt});yield this.companyService.update(this.company._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.companyService.delete(e).then(()=>{this.sendingData=!1,this.company=null}).catch(e=>{this.sendingData=!1,this.errorMessage="Company Deleting ERROR ! "}),this.clear())})}onEdit(e){this.company=this.companyList.find(t=>t._id===e),console.log("onEdit",e)}clear(){this.company=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(V.a),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-company"]],decls:7,vars:1,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"offset-md-2","col-12","col-md-8","p-md-0","mt-2"],[1,"border","rounded"],[3,"company","create","update","delete"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Company\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"company-form",5),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("company",t.company))},directives:[W],styles:[""]}),e})();const X={name:"Total Agro and Aquaculture Lim.",name_bd:"\u099f\u09cb\u099f\u09be\u09b2 \u098f\u0997\u09cd\u09b0\u09cb \u098f\u09a8\u09cd\u09a1 \u098f\u0995\u09cb\u09df\u09be \u0995\u09be\u09b2\u099a\u09be\u09b0 \u09b2\u09bf\u0983 ",service:"Coldstorage",service_bd:"\u0995\u09cb\u09b2\u09cd\u09a1 \u09b8\u09cd\u099f\u09cb\u09b0\u09c7\u099c",address:"Mohendra nagar, Lalmonirhat",address_bd:"\u09ae\u09b9\u09c7\u09a8\u09cd\u09a6\u09cd\u09b0\u09a8\u0997\u09b0, \u09b2\u09be\u09b2\u09ae\u09a8\u09bf\u09b0\u09b9\u09be\u099f ",phone:"01729-99-477",phone_bd:"\u09e6\u09e7\u09ed\u09e8\u09ef-\u09ef\u09ef\u09e6\u09ea\u09ed\u09ed"};var ee=o("IzEk"),te=o("1IUP"),oe=o("JrkW"),ne=o("BC91"),re=o("/TAm");let ie=(()=>{class e{constructor(){this.num_to_bd={0:{value:""},1:{value:"\u098f\u0995"},2:{value:"\u09a6\u09c1\u0987"},3:{value:"\u09a4\u09bf\u09a8"},4:{value:"\u099a\u09be\u09b0"},5:{value:"\u09aa\u09be\u0981\u099a"},6:{value:"\u099b\u09af\u09bc"},7:{value:"\u09b8\u09be\u09a4"},8:{value:"\u0986\u099f"},9:{value:"\u09a8\u09af\u09bc"},10:{value:"\u09a6\u09b6"},11:{value:"\u098f\u0997\u09be\u09b0"},12:{value:"\u09ac\u09be\u09b0"},13:{value:"\u09a4\u09c7\u09b0"},14:{value:"\u099a\u09cc\u09a6\u09cd\u09a6"},15:{value:"\u09aa\u09a8\u09c7\u09b0"},16:{value:"\u09b7\u09cb\u09b2"},17:{value:"\u09b8\u09a4\u09c7\u09b0"},18:{value:"\u0986\u09a0\u09be\u09b0"},19:{value:"\u098a\u09a8\u09bf\u09b6"},20:{value:"\u09ac\u09bf\u09b6"},21:{value:"\u098f\u0995\u09c1\u09b6"},22:{value:"\u09ac\u09be\u0987\u09b6"},23:{value:"\u09a4\u09c7\u0987\u09b6"},24:{value:"\u099a\u09ac\u09cd\u09ac\u09bf\u09b6"},25:{value:"\u09aa\u0981\u099a\u09bf\u09b6"},26:{value:"\u099b\u09be\u09ac\u09cd\u09ac\u09bf\u09b6"},27:{value:"\u09b8\u09be\u09a4\u09be\u09b6"},28:{value:"\u0986\u09a0\u09be\u09b6"},29:{value:"\u098a\u09a8\u09a4\u09cd\u09b0\u09bf\u09b6"},30:{value:"\u09a4\u09cd\u09b0\u09bf\u09b6"},31:{value:"\u098f\u0995\u09a4\u09cd\u09b0\u09bf\u09b6"},32:{value:"\u09ac\u09a4\u09cd\u09b0\u09bf\u09b6"},33:{value:"\u09a4\u09c7\u09a4\u09cd\u09b0\u09bf\u09b6"},34:{value:"\u099a\u09cc\u09a4\u09cd\u09b0\u09bf\u09b6"},35:{value:"\u09aa\u0981\u09af\u09bc\u09a4\u09cd\u09b0\u09bf\u09b6"},36:{value:"\u099b\u09a4\u09cd\u09b0\u09bf\u09b6"},37:{value:"\u09b8\u09be\u0981\u0987\u09a4\u09cd\u09b0\u09bf\u09b6"},38:{value:"\u0986\u099f\u09a4\u09cd\u09b0\u09bf\u09b6"},39:{value:"\u098a\u09a8\u099a\u09b2\u09cd\u09b2\u09bf\u09b6"},40:{value:"\u099a\u09b2\u09cd\u09b2\u09bf\u09b6"},41:{value:"\u098f\u0995\u099a\u09b2\u09cd\u09b2\u09bf\u09b6"},42:{value:"\u09ac\u09bf\u09af\u09bc\u09be\u09b2\u09cd\u09b2\u09bf\u09b6"},43:{value:"\u09a4\u09c7\u09a4\u09be\u09b2\u09cd\u09b2\u09bf\u09b6"},44:{value:"\u099a\u09c1\u09af\u09bc\u09be\u09b2\u09cd\u09b2\u09bf\u09b6"},45:{value:"\u09aa\u0981\u09af\u09bc\u09a4\u09be\u09b2\u09cd\u09b2\u09bf\u09b6"},46:{value:"\u099b\u09c7\u099a\u09b2\u09cd\u09b2\u09bf\u09b6"},47:{value:"\u09b8\u09be\u09a4\u099a\u09b2\u09cd\u09b2\u09bf\u09b6"},48:{value:"\u0986\u099f\u099a\u09b2\u09cd\u09b2\u09bf\u09b6"},49:{value:"\u098a\u09a8\u09aa\u099e\u09cd\u099a\u09be\u09b6"},50:{value:"\u09aa\u099e\u09cd\u099a\u09be\u09b6"},51:{value:"\u098f\u0995\u09be\u09a8\u09cd\u09a8"},52:{value:"\u09ac\u09be\u09af\u09bc\u09be\u09a8\u09cd\u09a8"},53:{value:"\u09a4\u09bf\u09aa\u09cd\u09aa\u09be\u09a8\u09cd\u09a8"},54:{value:"\u099a\u09c1\u09af\u09bc\u09be\u09a8\u09cd\u09a8"},55:{value:"\u09aa\u099e\u09cd\u099a\u09be\u09a8\u09cd\u09a8"},56:{value:"\u099b\u09be\u09aa\u09cd\u09aa\u09be\u09a8\u09cd\u09a8"},57:{value:"\u09b8\u09be\u09a4\u09be\u09a8\u09cd\u09a8"},58:{value:"\u0986\u099f\u09be\u09a8\u09cd\u09a8"},59:{value:"\u098a\u09a8\u09b7\u09be\u099f"},60:{value:"\u09b7\u09be\u099f"},61:{value:"\u098f\u0995\u09b7\u099f\u09cd\u099f\u09bf"},62:{value:"\u09ac\u09be\u09b7\u099f\u09cd\u099f\u09bf"},63:{value:"\u09a4\u09c7\u09b7\u099f\u09cd\u099f\u09bf"},64:{value:"\u099a\u09cc\u09b7\u099f\u09cd\u099f\u09bf"},65:{value:"\u09aa\u0981\u09af\u09bc\u09b7\u099f\u09cd\u099f\u09bf"},66:{value:"\u099b\u09c7\u09b7\u099f\u09cd\u099f\u09bf"},67:{value:"\u09b8\u09be\u09a4\u09b7\u099f\u09cd\u099f\u09bf"},68:{value:"\u0986\u099f\u09b7\u099f\u09cd\u099f\u09bf"},69:{value:"\u098a\u09a8\u09b8\u09a4\u09cd\u09a4\u09b0"},70:{value:"\u09b8\u09a4\u09cd\u09a4\u09b0"},71:{value:"\u098f\u0995\u09be\u09a4\u09cd\u09a4\u09b0"},72:{value:"\u09ac\u09be\u09b9\u09be\u09a4\u09cd\u09a4\u09b0"},73:{value:"\u09a4\u09bf\u09af\u09bc\u09be\u09a4\u09cd\u09a4\u09b0"},74:{value:"\u099a\u09c1\u09af\u09bc\u09be\u09a4\u09cd\u09a4\u09b0"},75:{value:"\u09aa\u0981\u099a\u09be\u09a4\u09cd\u09a4\u09b0"},76:{value:"\u099b\u09bf\u09af\u09bc\u09be\u09a4\u09cd\u09a4\u09b0"},77:{value:"\u09b8\u09be\u09a4\u09be\u09a4\u09cd\u09a4\u09b0"},78:{value:"\u0986\u099f\u09be\u09a4\u09cd\u09a4\u09b0"},79:{value:"\u098a\u09a8\u0986\u09b6\u09bf"},80:{value:"\u0986\u09b6\u09bf"},81:{value:"\u098f\u0995\u09be\u09b6\u09bf"},82:{value:"\u09ac\u09bf\u09b0\u09be\u09b6\u09bf"},83:{value:"\u09a4\u09bf\u09b0\u09be\u09b6\u09bf"},84:{value:"\u099a\u09c1\u09b0\u09be\u09b6\u09bf"},85:{value:"\u09aa\u0981\u099a\u09be\u09b6\u09bf"},86:{value:"\u099b\u09bf\u09af\u09bc\u09be\u09b6\u09bf"},87:{value:"\u09b8\u09be\u09a4\u09be\u09b6\u09bf"},88:{value:"\u0986\u099f\u09be\u09b6\u09bf"},89:{value:"\u098a\u09a8\u09a8\u09ac\u09cd\u09ac\u0987"},90:{value:"\u09a8\u09ac\u09cd\u09ac\u0987"},91:{value:"\u098f\u0995\u09be\u09a8\u09ac\u09cd\u09ac\u0987"},92:{value:"\u09ac\u09bf\u09b0\u09be\u09a8\u09ac\u09cd\u09ac\u0987"},93:{value:"\u09a4\u09bf\u09b0\u09be\u09a8\u09ac\u09cd\u09ac\u0987"},94:{value:"\u099a\u09c1\u09b0\u09be\u09a8\u09ac\u09cd\u09ac\u0987"},95:{value:"\u09aa\u0981\u099a\u09be\u09a8\u09ac\u09cd\u09ac\u0987"},96:{value:"\u099b\u09bf\u09af\u09bc\u09be\u09a8\u09ac\u09cd\u09ac\u0987"},97:{value:"\u09b8\u09be\u09a4\u09be\u09a8\u09ac\u09cd\u09ac\u0987"},98:{value:"\u0986\u099f\u09be\u09a8\u09ac\u09cd\u09ac\u0987"},99:{value:"\u09a8\u09bf\u09b0\u09be\u09a8\u09ac\u09cd\u09ac\u0987"}},this.hundred=" \u09b6\u09a4 ",this.thousand=" \u09b9\u09be\u099c\u09be\u09b0 ",this.lakh=" \u09b2\u0995\u09cd\u09b7 ",this.crore=" \u0995\u09cb\u099f\u09bf "}transform(e,t){return e>=1e9?"\u09b8\u09c0\u09ae\u09be\u09b0 \u09ac\u09be\u0987\u09b0\u09c7":e>=1e7?this.transform(Math.floor(e/1e7))+this.crore+this.transform(e%1e7):e>=1e5?this.transform(Math.floor(e/1e5))+this.lakh+this.transform(e%1e5):e>=1e3?this.transform(Math.floor(e/1e3))+this.thousand+this.transform(e%1e3):e>=100?this.transform(Math.floor(e/100))+this.hundred+this.transform(e%100):this.num_to_bd[e].value}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Jb({name:"numberToWordBd",type:e,pure:!0}),e})();function ce(e,t){1&e&&(c.Pb(0,"div",12),c.xc(1,"\u09ae\u09be\u09b0\u09ab\u09a4\u0983"),c.Ob())}let se=(()=>{class e{constructor(e,t,o){this.activatedRoute=e,this.ledgerService=t,this.inventoryService=o,this.company=X,this.id=e.snapshot.params.id}ngOnInit(){this.id&&this.getLedger(this.id)}getLedger(e){return Object(a.a)(this,void 0,void 0,function*(){yield this.ledgerService.ledgers$.pipe(Object(ee.a)(2)).subscribe(t=>{this.ledger=t.find(t=>t._id==e),this.ledger&&this.ledger.sr_no&&this.getInventory(this.ledger.sr_no)})})}getInventory(e){return Object(a.a)(this,void 0,void 0,function*(){console.log("sr",e),yield this.inventoryService.inventorys$.pipe(Object(ee.a)(2)).subscribe(t=>{this.inventory=t.find(t=>t.sr_no==e)})})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(n.a),c.Kb(te.a),c.Kb(oe.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-contract"]],decls:167,vars:40,consts:[[1,"output"],[1,"receipt"],[1,"row"],[1,"col-12"],[1,"head"],[1,"text-center"],[1,"p-2","border","border-dark","rounded"],[1,"col-6"],[1,"col-6","text-right"],[1,"row",2,"font-size","18px"],[1,"col-auto","pr-0"],[1,"col"],[1,"col-auto","p-0"],[1,"col-2"],[1,"col-3"],[1,"row","mt-3",2,"font-size","18px"],["class","col-auto p-0",4,"ngIf"],[1,"col-auto"],[1,"row","mb-5","pt-5"],[1,"table","table-bordered","table-sm"],[2,"min-width","100px"],[1,"text-center","col-amount"],["colspan","10"],["rowspan","2"],["colspan","2"],["rowspan","2",2,"min-width","100px"],[1,"row","mt-5","py-5"],[1,"border-top","border-dark"],[1,"col","text-center"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.Pb(3,"div",3),c.Pb(4,"div",4),c.Pb(5,"h5",5),c.Pb(6,"span",6),c.xc(7,"\u099a\u09c1\u0995\u09cd\u09a4\u09bf \u09aa\u09a4\u09cd\u09b0"),c.Ob(),c.Ob(),c.Pb(8,"h3",5),c.xc(9),c.Ob(),c.Pb(10,"h5",5),c.xc(11),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(12,"div",2),c.Lb(13,"div",7),c.Pb(14,"div",8),c.xc(15,"\u09a4\u09be\u09b0\u09bf\u0996\u0983 _ _ _/ _ _ _/ _ _ _ _ \x1b"),c.Ob(),c.Ob(),c.Pb(16,"div",9),c.Pb(17,"div",10),c.xc(18,"\u09ae\u099c\u09c1\u09a4\u0995\u09be\u09b0\u09c0\u09b0 \u09a8\u09be\u09ae\u0983 "),c.Ob(),c.Pb(19,"div",11),c.Pb(20,"strong"),c.xc(21),c.Ob(),c.Ob(),c.Pb(22,"div",12),c.xc(23,"\u09ae\u09cb\u09ac\u09be\u0987\u09b2 \u09a8\u09ae\u09cd\u09ac\u09b0\u0983 "),c.Ob(),c.Pb(24,"div",13),c.Pb(25,"strong"),c.xc(26),c.Ob(),c.Ob(),c.Pb(27,"div",12),c.xc(28,"\u09aa\u09bf\u09a4\u09be\u09b0 \u09a8\u09be\u09ae\u0983 "),c.Ob(),c.Pb(29,"div",14),c.Pb(30,"strong"),c.xc(31),c.Ob(),c.Ob(),c.Ob(),c.Pb(32,"div",15),c.Pb(33,"div",11),c.Pb(34,"strong"),c.xc(35),c.Ob(),c.Ob(),c.vc(36,ce,2,0,"div",16),c.Pb(37,"div",17),c.Pb(38,"strong"),c.xc(39),c.Ob(),c.Ob(),c.Pb(40,"div",10),c.xc(41,"\u09b2\u099f \u09a8\u0982 "),c.Ob(),c.Pb(42,"div",17),c.Pb(43,"strong"),c.xc(44),c.Ob(),c.Ob(),c.Ob(),c.Pb(45,"div",18),c.Pb(46,"div",3),c.Pb(47,"table",19),c.Pb(48,"tbody"),c.Pb(49,"tr",5),c.Pb(50,"td"),c.xc(51,"\u0986\u09b2\u09c1\u09b0 \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 "),c.Lb(52,"br"),c.xc(53," \u09b8\u0982\u0996\u09cd\u09af\u09be"),c.Ob(),c.Pb(54,"td"),c.xc(55,"\u09ac\u09b8\u09cd\u09a4\u09be \u09aa\u09cd\u09b0\u09a4\u09bf \u09ad\u09be\u09dc\u09be\u09b0 "),c.Lb(56,"br"),c.xc(57," \u09b9\u09be\u09b0 (\u099f\u09be\u0995\u09be) "),c.Ob(),c.Pb(58,"td"),c.xc(59,"\u09ae\u09cb\u099f \u09ad\u09be\u09dc\u09be "),c.Lb(60,"br"),c.xc(61," (\u099f\u09be\u0995\u09be) "),c.Ob(),c.Pb(62,"td"),c.xc(63,"\u0996\u09be\u09b2\u09bf \u09ac\u09b8\u09cd\u09a4\u09be"),c.Ob(),c.Pb(64,"td"),c.xc(65,"\u09aa\u09cd\u09b0\u09a4\u09bf\u099f\u09bf \u0996\u09be\u09b2\u09bf "),c.Lb(66,"br"),c.xc(67," \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09ae\u09c2\u09b2\u09cd\u09af "),c.Ob(),c.Pb(68,"td"),c.xc(69,"\u09ae\u09cb\u099f \u0996\u09be\u09b2\u09bf "),c.Lb(70,"br"),c.xc(71," \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09ae\u09c2\u09b2\u09cd\u09af "),c.Ob(),c.Pb(72,"td"),c.xc(73,"\u098b\u09a3 "),c.Lb(74,"br"),c.xc(75," (\u099f\u09be\u0995\u09be)"),c.Ob(),c.Pb(76,"td"),c.xc(77,"\u098b\u09a3 \u0996\u09b0\u099a "),c.Lb(78,"br"),c.xc(79," (\u099f\u09be\u0995\u09be) "),c.Ob(),c.Pb(80,"td"),c.xc(81,"\u09ae\u09cb\u099f "),c.Lb(82,"br"),c.xc(83," \u09aa\u09cd\u09b0\u09be\u09aa\u09cd\u09af \u099f\u09be\u0995\u09be"),c.Ob(),c.Pb(84,"td",20),c.xc(85,"\u09ae\u09a8\u09cd\u09a4\u09ac\u09cd\u09af"),c.Ob(),c.Ob(),c.Pb(86,"tr",21),c.Pb(87,"td"),c.xc(88),c.cc(89,"numberToBangla"),c.Ob(),c.Pb(90,"td"),c.xc(91),c.cc(92,"numberToBangla"),c.Ob(),c.Pb(93,"td"),c.xc(94),c.cc(95,"currencyBd"),c.Ob(),c.Pb(96,"td"),c.xc(97),c.cc(98,"numberToBangla"),c.Ob(),c.Pb(99,"td"),c.xc(100),c.cc(101,"numberToBangla"),c.Ob(),c.Pb(102,"td"),c.xc(103),c.cc(104,"currencyBd"),c.Ob(),c.Pb(105,"td"),c.xc(106),c.cc(107,"currencyBd"),c.Ob(),c.Pb(108,"td"),c.xc(109),c.cc(110,"currencyBd"),c.Ob(),c.Pb(111,"td"),c.Pb(112,"strong"),c.xc(113),c.cc(114,"currencyBd"),c.Ob(),c.Ob(),c.Lb(115,"td"),c.Ob(),c.Pb(116,"tr"),c.Pb(117,"td",22),c.xc(118),c.cc(119,"numberToWordBd"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(120,"table",19),c.Pb(121,"tbody"),c.Pb(122,"tr",5),c.Pb(123,"td",23),c.xc(124,"\u09ad\u09be\u09dc\u09be \u0986\u09a6\u09be\u09df\u09c7\u09b0 \u09a4\u09be\u09b0\u09bf\u0996 "),c.Ob(),c.Pb(125,"td",23),c.xc(126,"\u09b0\u09b6\u09bf\u09a6/\u099b\u09be\u09dc\u09aa\u09a4\u09cd\u09b0 \u09a8\u0982 "),c.Ob(),c.Pb(127,"td",23),c.xc(128,"\u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be"),c.Ob(),c.Pb(129,"td",23),c.xc(130,"\u0986\u09a6\u09be\u09df\u0995\u09c3\u09a4 \u099f\u09be\u0995\u09be"),c.Ob(),c.Pb(131,"td",24),c.xc(132,"\u0985\u09ac\u09b6\u09bf\u09b7\u09cd\u099f\u09c7\u09b0 \u09ac\u09bf\u09ac\u09b0\u09a3"),c.Ob(),c.Pb(133,"td",23),c.xc(134,"\u0986\u09a6\u09be\u09df\u0995\u09be\u09b0\u09c0\u09b0 \u09b8\u09be\u0995\u09cd\u09b7\u09b0"),c.Ob(),c.Pb(135,"td",25),c.xc(136,"\u09ae\u09a8\u09cd\u09a4\u09ac\u09cd\u09af"),c.Ob(),c.Ob(),c.Pb(137,"tr",5),c.Pb(138,"td"),c.xc(139,"\u0989\u09a6\u09cd\u09ac\u09c3\u09a4\u09cd\u09a4 \u09ac\u09b8\u09cd\u09a4\u09be"),c.Ob(),c.Pb(140,"td"),c.xc(141,"\u09aa\u09cd\u09b0\u09be\u09aa\u09cd\u09af \u099f\u09be\u0995\u09be"),c.Ob(),c.Ob(),c.Pb(142,"tr",21),c.Lb(143,"td"),c.Lb(144,"td"),c.Lb(145,"td"),c.Lb(146,"td"),c.Lb(147,"td"),c.Lb(148,"td"),c.Lb(149,"td"),c.Lb(150,"td"),c.Ob(),c.Ob(),c.Ob(),c.xc(151," > \u09ac\u09bf\u09b6\u09c7\u09b7 \u09a6\u09cd\u09b0\u09b7\u09cd\u099f\u09ac\u09cd\u09af\u0983 \u098f\u0995 \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u0993\u099c\u09a8 \u09eb\u09e6\u0995\u09c7\u099c\u09bf\u09b0 \u098a\u09b0\u09cd\u09a6\u09cd\u09a7\u09c7 \u09b9\u09ac\u09c7 \u09a8\u09be\u0964 "),c.Lb(152,"br"),c.xc(153," > \u0985\u09aa\u09b0 \u09aa\u09c3\u09b7\u09cd\u09a0\u09be\u09b0 \u09b6\u09b0\u09cd\u09a4\u09be\u09ac\u09b2\u09c0 \u09aa\u09b0\u09bf\u09df\u09be/ \u099c\u09cd\u099e\u09be\u09a4 \u09b8\u09cd\u09ac-\u099c\u09cd\u099e\u09be\u09a8\u09c7 \u0993 \u09b8\u09c1\u09b8\u09cd\u09a5 \u09b6\u09b0\u09c0\u09b0\u09c7 \u099a\u09c1\u0995\u09cd\u09a4\u09bf \u09aa\u09a4\u09cd\u09b0 \u09b8\u09cd\u09ac\u09be\u0995\u09cd\u09b7\u09b0 \u0995\u09b0\u09bf\u09b2\u09bf\u09df\u09be\u09ae\u0964 "),c.Ob(),c.Ob(),c.Pb(154,"div",26),c.Pb(155,"div",17),c.Pb(156,"span",27),c.xc(157,"\u09b8\u09b9\u0995\u09be\u09b0\u09c0\u09b0 \u09b8\u09be\u0995\u09cd\u09b7\u09b0"),c.Ob(),c.Ob(),c.Pb(158,"div",28),c.Pb(159,"span",27),c.xc(160,"\u09ae\u099c\u09c1\u09a6\u0995\u09be\u09b0\u09c0/\u09aa\u09cd\u09b0\u09c0\u09a4\u09bf\u09a8\u09bf\u09a7\u09bf\u09b0 \u09b8\u09be\u0995\u09cd\u09b7\u09b0"),c.Ob(),c.Ob(),c.Pb(161,"div",28),c.Pb(162,"span",27),c.xc(163,"\u09b8\u09c1\u09aa\u09be\u09b0\u09ad\u09be\u0987\u099c\u09be\u09b0/\u09b9\u09bf\u09b8\u09be\u09ac \u09b0\u0995\u09cd\u09b7\u0995"),c.Ob(),c.Ob(),c.Pb(164,"div",17),c.Pb(165,"span",27),c.xc(166,"\u09ac\u09cd\u09af\u09ac\u09b8\u09cd\u09a5\u09be\u09aa\u0995"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(9),c.yc(null==t.company?null:t.company.name_bd),c.yb(2),c.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),c.yb(10),c.zc(" ",null==t.ledger||null==t.ledger.customer?null:t.ledger.customer.name,""),c.yb(5),c.zc(" ",null==t.ledger||null==t.ledger.customer?null:t.ledger.customer.phone,""),c.yb(5),c.zc(" ",null==t.ledger||null==t.ledger.customer?null:t.ledger.customer.father,""),c.yb(4),c.zc(" ",null==t.ledger||null==t.ledger.customer?null:t.ledger.customer.address,""),c.yb(1),c.hc("ngIf",null==t.inventory?null:t.inventory.agent),c.yb(3),c.yc(null==t.inventory||null==t.inventory.agent?null:t.inventory.agent.name),c.yb(5),c.yc(null==t.inventory?null:t.inventory.sr_no),c.yb(44),c.yc(c.dc(89,20,null==t.ledger?null:t.ledger.quantity)),c.yb(3),c.yc(c.dc(92,22,null==t.ledger?null:t.ledger.rate)),c.yb(3),c.yc(c.dc(95,24,null==t.ledger?null:t.ledger.service_amount)),c.yb(3),c.yc(c.dc(98,26,null==t.ledger?null:t.ledger.emptyBag_quantity)),c.yb(3),c.yc(c.dc(101,28,null==t.ledger?null:t.ledger.emptyBag_rate)),c.yb(3),c.yc(c.dc(104,30,null==t.ledger?null:t.ledger.emptyBag_amount)),c.yb(3),c.yc(c.dc(107,32,null==t.ledger?null:t.ledger.loan_amount)),c.yb(3),c.yc(c.dc(110,34,null==t.ledger?null:t.ledger.loan_profit)),c.yb(4),c.zc(" ",c.dc(114,36,null==t.ledger?null:t.ledger.total_amount),""),c.yb(5),c.zc("\u09ae\u09cb\u099f \u09aa\u09cd\u09b0\u09be\u09aa\u09cd\u09af \u099f\u09be\u0995\u09be (\u0995\u09a5\u09be\u09df) - ",c.dc(119,38,null==t.ledger?null:t.ledger.total_amount)," \u099f\u09be\u0995\u09be \u09ae\u09be\u09a4\u09cd\u09b0 \u0964 "))},directives:[u.n],pipes:[ne.a,re.a,ie],styles:["[_nghost-%COMP%]{display:block;background:#e0e0e0}h3[_ngcontent-%COMP%]{text-align:center}.receipt[_ngcontent-%COMP%]{height:8.5in;width:100%;float:left;padding:10px}.output[_ngcontent-%COMP%]{height:8.5in;width:11in;position:absolute;top:50px;left:10px}.col-amount[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:100px;vertical-align:middle;font-size:18px}@media print{.output[_ngcontent-%COMP%]{transform:rotate(270deg);top:2in;left:-1in}}"]}),e})();var ae=o("1Wpa");function le(e,t){if(1&e&&(c.Pb(0,"div",19),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage," ")}}function be(e,t){1&e&&(c.Pb(0,"small",20),c.xc(1,"Loading Party Name Required"),c.Ob())}function de(e,t){1&e&&(c.Pb(0,"small",21),c.xc(1," Father name required "),c.Ob())}function ue(e,t){if(1&e&&(c.Pb(0,"small",21),c.Pb(1,"div",22),c.xc(2," Phone required "),c.Ob(),c.Pb(3,"div",22),c.xc(4," Phone patter should be 01945564841 "),c.Ob(),c.Ob()),2&e){const e=c.bc();c.yb(1),c.hc("hidden",!e.form.controls.phone.errors.required),c.yb(2),c.hc("hidden",!e.form.controls.phone.errors.pattern)}}function he(e,t){1&e&&(c.Pb(0,"small",20),c.xc(1,"Loading Party address required"),c.Ob())}function me(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",18),c.Zb("click",function(){return c.pc(e),c.bc().onDelete()}),c.xc(1,"Delete"),c.Ob()}}function ge(e,t){if(1&e&&(c.Pb(0,"div",21),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let fe=(()=>{class e{constructor(e){this.fb=e,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){e.customer&&null!=this.customer&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.customer))}createForm(){this.form=this.fb.group({name:["",d.q.required],father:["",d.q.required],phone:["",[d.q.required,d.q.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],address:["",d.q.required]})}submit(){this.form.valid&&(this.exists?this.update.emit(this.form.value):this.create.emit(this.form.value),this.clear())}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.customer._id),this.clear()}clear(){this.exists=!1,this.customer=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["customer-form"]],inputs:{customer:"customer"},outputs:{create:"create",update:"update",delete:"delete"},features:[c.wb],decls:35,vars:10,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","Loading Party Name",1,"form-control","form-control-sm"],["class","form-text text-danger",4,"ngIf"],["for","father",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","father","formControlName","father","placeholder","Loading Party father name",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","phone",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","phone","maxlength","11","formControlName","phone","placeholder","Loading Party phone",1,"form-control","form-control-sm"],["for","address",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","address","formControlName","address","rows","3","placeholder","Address",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"form-text","text-danger"],[1,"text-danger"],[3,"hidden"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,le,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"label",4),c.xc(6,"Name"),c.Ob(),c.Pb(7,"div",5),c.Lb(8,"input",6),c.vc(9,be,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(10,"div",3),c.Pb(11,"label",8),c.xc(12,"Father"),c.Ob(),c.Pb(13,"div",5),c.Lb(14,"input",9),c.vc(15,de,2,0,"small",10),c.Ob(),c.Ob(),c.Pb(16,"div",3),c.Pb(17,"label",11),c.xc(18,"Phone"),c.Ob(),c.Pb(19,"div",5),c.Lb(20,"input",12),c.vc(21,ue,5,2,"small",10),c.Ob(),c.Ob(),c.Pb(22,"div",3),c.Pb(23,"label",13),c.xc(24,"Address"),c.Ob(),c.Pb(25,"div",5),c.Lb(26,"textarea",14),c.vc(27,he,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(28,"div",15),c.Pb(29,"button",16),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(30),c.Ob(),c.vc(31,me,2,0,"button",17),c.Pb(32,"button",18),c.Zb("click",function(){return t.clear()}),c.xc(33,"Clear"),c.Ob(),c.Ob(),c.vc(34,ge,2,1,"div",10),c.Ob()),2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," Loading Party "),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(6),c.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),c.yb(6),c.hc("ngIf",t.form.controls.father.errors&&t.form.controls.father.touched),c.yb(6),c.hc("ngIf",t.form.controls.phone.errors&&t.form.controls.phone.touched),c.yb(6),c.hc("ngIf",t.form.controls.address.errors&&t.form.controls.address.touched),c.yb(3),c.yc(t.exists?"Update":"Save"),c.yb(1),c.hc("ngIf",t.exists),c.yb(3),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,d.a,d.i,d.c,d.f],styles:[""]}),e})();function pe(e,t){1&e&&c.Lb(0,"td",18)}function ve(e,t){1&e&&(c.Pb(0,"th",11),c.xc(1,"Father"),c.Ob())}function ye(e,t){if(1&e&&(c.Pb(0,"td"),c.xc(1),c.Ob()),2&e){const e=c.bc().$implicit;c.yb(1),c.zc(" ",e.father," ")}}function Oe(e,t){if(1&e){const e=c.Qb();c.Pb(0,"tr"),c.Pb(1,"th",19),c.xc(2),c.Ob(),c.Pb(3,"td"),c.xc(4),c.Ob(),c.vc(5,ye,2,1,"td",20),c.Pb(6,"td"),c.xc(7),c.Ob(),c.Pb(8,"td"),c.Pb(9,"a",21),c.Zb("click",function(){c.pc(e);const o=t.$implicit;return c.bc().onEdit(o._id)}),c.xc(10),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=t.$implicit,o=t.index,n=c.bc();c.yb(2),c.yc(o+1),c.yb(2),c.zc(" ",e.name," "),c.yb(1),c.hc("ngIf",!n.short),c.yb(2),c.zc(" ",e.phone," "),c.yb(3),c.yc(n.short?"Select":"Edit")}}let Pe=(()=>{class e{constructor(){this.edit=new c.n,this.page=1,this.pageSize=8,this.searching=!1,this.customerPage=[]}ngOnChanges(e){e.customerList&&null!=this.customerList&&this.refreshCustomer()}refreshCustomer(){this.customerPage=this.customerList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onEdit(e){this.edit.emit(e)}onSearch(e){e.length>2?(this.searching=!0,console.log(e,e.length),this.customerPage=this.search(e)):(this.searching=!1,this.refreshCustomer())}search(e){return this.customerList.filter(t=>{const o=e.toLowerCase();return t.name.toLowerCase().includes(o)||t.phone.includes(o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["customer-list"]],inputs:{customerList:"customerList",short:"short"},outputs:{edit:"edit"},features:[c.wb],decls:36,vars:10,consts:[[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","Name / Phone",1,"form-control","form-control-sm",3,"keyup"],[1,"table","table-striped","border","table-sm"],["colspan","4",1,"form-head"],["class","form-head",4,"ngIf"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"form-head"],["scope","row"],[4,"ngIf"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(c.Pb(0,"form"),c.Pb(1,"div",0),c.Lb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"div",5),c.Lb(7,"i",6),c.Ob(),c.Ob(),c.Pb(8,"input",7),c.Zb("keyup",function(e){return t.onSearch(e.target.value)}),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(9,"table",8),c.Pb(10,"thead"),c.Pb(11,"tr"),c.Pb(12,"td",9),c.xc(13," Loading Party List "),c.Ob(),c.vc(14,pe,1,0,"td",10),c.Ob(),c.Pb(15,"tr"),c.Pb(16,"th",11),c.xc(17,"#"),c.Ob(),c.Pb(18,"th",11),c.xc(19,"Name"),c.Ob(),c.vc(20,ve,2,0,"th",12),c.Pb(21,"th",11),c.xc(22,"Phone"),c.Ob(),c.Pb(23,"th",11),c.xc(24,"Action"),c.Ob(),c.Ob(),c.Ob(),c.Pb(25,"tbody"),c.vc(26,Oe,11,5,"tr",13),c.Ob(),c.Ob(),c.Pb(27,"div",14),c.Pb(28,"ngb-pagination",15),c.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshCustomer()}),c.Ob(),c.Pb(29,"select",16),c.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshCustomer()}),c.Pb(30,"option",17),c.xc(31,"4/Page"),c.Ob(),c.Pb(32,"option",17),c.xc(33,"8/Page"),c.Ob(),c.Pb(34,"option",17),c.xc(35,"16/Page"),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(14),c.hc("ngIf",!t.short),c.yb(6),c.hc("ngIf",!t.short),c.yb(6),c.hc("ngForOf",t.customerPage),c.yb(2),c.hc("collectionSize",t.customerList.length)("page",t.page)("pageSize",t.pageSize),c.yb(1),c.hc("ngModel",t.pageSize),c.yb(1),c.hc("ngValue",4),c.yb(2),c.hc("ngValue",8),c.yb(2),c.hc("ngValue",16))},directives:[d.s,d.j,d.k,u.n,u.m,P.i,d.p,d.i,d.l,d.m,d.r],styles:[""]}),e})(),xe=(()=>{class e{constructor(e,t){this.customerService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.customerList=[],this.errorMessage=""}ngOnInit(){this.getCustomerList()}getCustomerList(){return Object(a.a)(this,void 0,void 0,function*(){this.customerService.customers$.subscribe(e=>{this.customerList=e,this.customerList.sort(this.util.dynamicSortObject("priority"))})})}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});yield this.customerService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.customer.createdAt});yield this.customerService.update(this.customer._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.customerService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Agent Deleting ERROR ! "}),this.clear())})}onEdit(e){this.customer=this.customerList.find(t=>t._id===e)}clear(){this.customer=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(ae.a),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-customer"]],decls:9,vars:3,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"customer","create","update","delete"],[1,"col-md-8","mt-2"],[3,"customerList","short","edit"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Loading Party\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"customer-form",5),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",6),c.Pb(8,"customer-list",7),c.Zb("edit",function(e){return t.onEdit(e)}),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("customer",t.customer),c.yb(2),c.hc("customerList",t.customerList)("short",!1))},directives:[fe,Pe],styles:[""]}),e})();var Le=o("HK7g");let _e=(()=>{class e{constructor(e,t){this.deliveryService=e,this.activatedRoute=t,this.company=X,this.id=t.snapshot.params.id}ngOnInit(){this.id&&this.getDelivery(this.id)}getDelivery(e){return Object(a.a)(this,void 0,void 0,function*(){this.deliveryService.deliverys$.subscribe(t=>{this.delivery=t.find(t=>t._id==e)})})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(Le.a),c.Kb(n.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-delivery-print"]],decls:259,vars:96,consts:[[1,"output"],[1,"receipt1","border-right"],[1,"row"],[1,"col-12","text-center"],[1,"border","p-1","strong","rounded"],[1,"head"],[1,"text-center","company-name"],[1,"text-center"],[1,"col-6"],[1,"col-6","text-right"],[1,"col-auto"],[1,"col","p-0"],[1,"col-auto","pl-0"],[1,"table","table-bordered","my-3","mb-5"],[1,"text-right"],["colspan","3"],["colspan","4"],[1,"row","mt-5","pt-5"],[1,"col-auto","mt-5"],[1,"border-top"],[1,"col","text-center","mt-5"],[1,"col-auto","text-right","mt-5"],[1,"receipt2","border-right"],[1,"row","mt-3"],[1,"col"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.Pb(3,"div",3),c.Pb(4,"span",4),c.xc(5,"\u09ad\u09be\u09dc\u09be \u0986\u09a6\u09be\u09df \u09b0\u09b8\u09bf\u09a6"),c.Ob(),c.Ob(),c.Ob(),c.Pb(6,"div",5),c.Pb(7,"div",6),c.xc(8),c.Ob(),c.Pb(9,"div",7),c.xc(10),c.Ob(),c.Ob(),c.Pb(11,"div",2),c.Pb(12,"div",8),c.xc(13,"\u09b2\u099f \u09a8\u0982 - "),c.Pb(14,"strong"),c.xc(15),c.Ob(),c.Ob(),c.Pb(16,"div",9),c.xc(17),c.cc(18,"date"),c.Ob(),c.Ob(),c.Pb(19,"div",2),c.Pb(20,"div",10),c.xc(21,"\u0997\u09cd\u09b0\u09be\u09b9\u0995\u09c7\u09b0 \u09a8\u09be\u09ae\u0983 "),c.Ob(),c.Pb(22,"div",11),c.Pb(23,"strong"),c.xc(24),c.Ob(),c.Ob(),c.Pb(25,"div",10),c.xc(26,"\u09aa\u09bf\u09a4\u09be\u0983 "),c.Ob(),c.Pb(27,"div",12),c.Pb(28,"strong"),c.xc(29),c.Ob(),c.Ob(),c.Ob(),c.Pb(30,"div",2),c.Pb(31,"div",10),c.xc(32,"\u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 "),c.Ob(),c.Pb(33,"div",11),c.Pb(34,"strong"),c.xc(35),c.Ob(),c.Ob(),c.Ob(),c.Pb(36,"div",2),c.Pb(37,"div",10),c.xc(38,"\u09a0\u09bf\u0995\u09be\u09a8\u09be\u0983 "),c.Ob(),c.Pb(39,"div",11),c.Pb(40,"strong"),c.xc(41),c.Ob(),c.Ob(),c.Ob(),c.Pb(42,"table",13),c.Pb(43,"tbody"),c.Pb(44,"tr"),c.Pb(45,"td"),c.xc(46,"\u09ac\u09bf\u09ac\u09b0\u09a3"),c.Ob(),c.Pb(47,"td",7),c.xc(48,"\u09b8\u0982\u0996\u09cd\u09af\u09be"),c.Ob(),c.Pb(49,"td",7),c.xc(50,"\u09b9\u09be\u09b0"),c.Ob(),c.Pb(51,"td",14),c.xc(52,"\u09ae\u09cb\u099f"),c.Ob(),c.Ob(),c.Pb(53,"tr"),c.Pb(54,"td"),c.xc(55,"\u0986\u09b2\u09c1\u09b0 \u09ac\u09b8\u09cd\u09a4\u09be"),c.Ob(),c.Pb(56,"td",7),c.xc(57),c.cc(58,"numberToBangla"),c.Ob(),c.Pb(59,"td",7),c.xc(60),c.cc(61,"currencyBd"),c.Ob(),c.Pb(62,"td",14),c.xc(63),c.cc(64,"currencyBd"),c.Ob(),c.Ob(),c.Pb(65,"tr"),c.Pb(66,"td"),c.xc(67,"\u0996\u09be\u09b2\u09bf \u09ac\u09b8\u09cd\u09a4\u09be"),c.Ob(),c.Pb(68,"td",7),c.xc(69),c.cc(70,"numberToBangla"),c.Ob(),c.Pb(71,"td",7),c.xc(72),c.cc(73,"currencyBd"),c.Ob(),c.Pb(74,"td",14),c.xc(75),c.cc(76,"currencyBd"),c.Ob(),c.Ob(),c.Pb(77,"tr"),c.Pb(78,"td"),c.xc(79,"\u098b\u09a3"),c.Ob(),c.Pb(80,"td",7),c.xc(81),c.cc(82,"numberToBangla"),c.Ob(),c.Pb(83,"td",7),c.xc(84),c.cc(85,"currencyBd"),c.Ob(),c.Pb(86,"td",14),c.xc(87),c.cc(88,"currencyBd"),c.Ob(),c.Ob(),c.Pb(89,"tr"),c.Pb(90,"td",15),c.xc(91,"\u09b8\u09b0\u09cd\u09ac\u09ae\u09cb\u099f \u09aa\u09cd\u09b0\u09be\u09aa\u09cd\u09a4\u0983 "),c.Ob(),c.Pb(92,"th",14),c.xc(93),c.cc(94,"currencyBd"),c.Ob(),c.Ob(),c.Pb(95,"tr"),c.Pb(96,"td",16),c.xc(97),c.cc(98,"numberToWordBd"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(99,"div",17),c.Pb(100,"div",18),c.Pb(101,"span",19),c.xc(102,"\u0995\u09b0\u09cd\u09ae\u09be\u09a7\u09cd\u09af\u0995\u09cd\u09b7"),c.Ob(),c.Ob(),c.Pb(103,"div",20),c.Pb(104,"span",19),c.xc(105," \u09b8\u09c1\u09aa\u09be\u09b0\u09ad\u09be\u0987\u099c\u09be\u09b0/\u09b9\u09bf\u09b8\u09be\u09ac \u09b0\u0995\u09cd\u09b7\u0995 "),c.Ob(),c.Ob(),c.Pb(106,"div",21),c.Pb(107,"span",19),c.xc(108,"\u0986\u09a6\u09be\u09df\u0995\u09be\u09b0\u09c0"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(109,"div",22),c.Pb(110,"div",2),c.Pb(111,"div",3),c.Pb(112,"span",4),c.xc(113,"\u099b\u09be\u09dc\u09aa\u09a4\u09cd\u09b0 \u09b0\u09b8\u09bf\u09a6"),c.Ob(),c.Ob(),c.Ob(),c.Pb(114,"div",5),c.Pb(115,"div",6),c.xc(116),c.Ob(),c.Pb(117,"div",7),c.xc(118),c.Ob(),c.Ob(),c.Pb(119,"div",2),c.Pb(120,"div",8),c.xc(121,"\u09b2\u099f \u09a8\u0982 - "),c.Pb(122,"strong"),c.xc(123),c.Ob(),c.Ob(),c.Pb(124,"div",9),c.xc(125),c.cc(126,"date"),c.Ob(),c.Ob(),c.Pb(127,"div",2),c.Pb(128,"div",10),c.xc(129,"\u0997\u09cd\u09b0\u09be\u09b9\u0995\u09c7\u09b0 \u09a8\u09be\u09ae\u0983 "),c.Ob(),c.Pb(130,"div",11),c.Pb(131,"strong"),c.xc(132),c.Ob(),c.Ob(),c.Pb(133,"div",10),c.xc(134,"\u09aa\u09bf\u09a4\u09be\u0983 "),c.Ob(),c.Pb(135,"div",12),c.Pb(136,"strong"),c.xc(137),c.Ob(),c.Ob(),c.Ob(),c.Pb(138,"div",2),c.Pb(139,"div",10),c.xc(140,"\u09a0\u09bf\u0995\u09be\u09a8\u09be\u0983 "),c.Ob(),c.Pb(141,"div",11),c.Pb(142,"strong"),c.xc(143),c.Ob(),c.Ob(),c.Ob(),c.Pb(144,"div",2),c.Pb(145,"div",10),c.xc(146,"\u09aa\u09cd\u09b0\u09a6\u09a4\u09cd\u09a4 \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be\u0983 "),c.Ob(),c.Pb(147,"div",11),c.Pb(148,"strong"),c.xc(149),c.cc(150,"numberToBangla"),c.cc(151,"numberToWordBd"),c.Ob(),c.Ob(),c.Ob(),c.Pb(152,"div",23),c.Pb(153,"div",24),c.Pb(154,"span",19),c.xc(155," \u09aa\u09b0\u09bf\u09a6\u09b0\u09cd\u09b6\u0995 "),c.Ob(),c.Ob(),c.Pb(156,"div",10),c.Pb(157,"span",19),c.xc(158,"\u0995\u09b0\u09cd\u09ae\u09be\u09a7\u09cd\u09af\u0995\u09cd\u09b7"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(159,"div",22),c.Pb(160,"div",2),c.Pb(161,"div",3),c.Pb(162,"span",4),c.xc(163,"\u09b2\u09c7\u09ac\u09be\u09b0 \u0995\u09aa\u09bf"),c.Ob(),c.Ob(),c.Ob(),c.Pb(164,"div",5),c.Pb(165,"div",6),c.xc(166),c.Ob(),c.Pb(167,"div",7),c.xc(168),c.Ob(),c.Ob(),c.Pb(169,"div",2),c.Pb(170,"div",8),c.xc(171,"\u09b2\u099f \u09a8\u0982 - "),c.Pb(172,"strong"),c.xc(173),c.Ob(),c.Ob(),c.Pb(174,"div",9),c.xc(175),c.cc(176,"date"),c.Ob(),c.Ob(),c.Pb(177,"div",2),c.Pb(178,"div",10),c.xc(179,"\u0997\u09cd\u09b0\u09be\u09b9\u0995\u09c7\u09b0 \u09a8\u09be\u09ae\u0983 "),c.Ob(),c.Pb(180,"div",11),c.Pb(181,"strong"),c.xc(182),c.Ob(),c.Ob(),c.Pb(183,"div",10),c.xc(184,"\u09aa\u09bf\u09a4\u09be\u0983 "),c.Ob(),c.Pb(185,"div",12),c.Pb(186,"strong"),c.xc(187),c.Ob(),c.Ob(),c.Ob(),c.Pb(188,"div",2),c.Pb(189,"div",10),c.xc(190,"\u09a0\u09bf\u0995\u09be\u09a8\u09be\u0983 "),c.Ob(),c.Pb(191,"div",11),c.Pb(192,"strong"),c.xc(193),c.Ob(),c.Ob(),c.Ob(),c.Pb(194,"div",2),c.Pb(195,"div",10),c.xc(196,"\u09aa\u09cd\u09b0\u09a6\u09a4\u09cd\u09a4 \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be\u0983 "),c.Ob(),c.Pb(197,"div",11),c.Pb(198,"strong"),c.xc(199),c.cc(200,"numberToBangla"),c.cc(201,"numberToWordBd"),c.Ob(),c.Ob(),c.Ob(),c.Pb(202,"div",23),c.Pb(203,"div",24),c.Pb(204,"span",19),c.xc(205," \u09aa\u09b0\u09bf\u09a6\u09b0\u09cd\u09b6\u0995 "),c.Ob(),c.Ob(),c.Pb(206,"div",10),c.Pb(207,"span",19),c.xc(208,"\u0995\u09b0\u09cd\u09ae\u09be\u09a7\u09cd\u09af\u0995\u09cd\u09b7"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(209,"div",22),c.Pb(210,"div",2),c.Pb(211,"div",3),c.Pb(212,"span",4),c.xc(213,"\u0997\u09c7\u099f \u09aa\u09be\u09b6"),c.Ob(),c.Ob(),c.Ob(),c.Pb(214,"div",5),c.Pb(215,"div",6),c.xc(216),c.Ob(),c.Pb(217,"div",7),c.xc(218),c.Ob(),c.Ob(),c.Pb(219,"div",2),c.Pb(220,"div",8),c.xc(221,"\u09b2\u099f \u09a8\u0982 - "),c.Pb(222,"strong"),c.xc(223),c.Ob(),c.Ob(),c.Pb(224,"div",9),c.xc(225),c.cc(226,"date"),c.Ob(),c.Ob(),c.Pb(227,"div",2),c.Pb(228,"div",10),c.xc(229,"\u0997\u09cd\u09b0\u09be\u09b9\u0995\u09c7\u09b0 \u09a8\u09be\u09ae\u0983 "),c.Ob(),c.Pb(230,"div",11),c.Pb(231,"strong"),c.xc(232),c.Ob(),c.Ob(),c.Pb(233,"div",10),c.xc(234,"\u09aa\u09bf\u09a4\u09be\u0983 "),c.Ob(),c.Pb(235,"div",12),c.Pb(236,"strong"),c.xc(237),c.Ob(),c.Ob(),c.Ob(),c.Pb(238,"div",2),c.Pb(239,"div",10),c.xc(240,"\u09a0\u09bf\u0995\u09be\u09a8\u09be\u0983 "),c.Ob(),c.Pb(241,"div",11),c.Pb(242,"strong"),c.xc(243),c.Ob(),c.Ob(),c.Ob(),c.Pb(244,"div",2),c.Pb(245,"div",10),c.xc(246,"\u09aa\u09cd\u09b0\u09a6\u09a4\u09cd\u09a4 \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be\u0983 "),c.Ob(),c.Pb(247,"div",11),c.Pb(248,"strong"),c.xc(249),c.cc(250,"numberToBangla"),c.cc(251,"numberToWordBd"),c.Ob(),c.Ob(),c.Ob(),c.Pb(252,"div",23),c.Pb(253,"div",24),c.Pb(254,"span",19),c.xc(255," \u09aa\u09b0\u09bf\u09a6\u09b0\u09cd\u09b6\u0995 "),c.Ob(),c.Ob(),c.Pb(256,"div",10),c.Pb(257,"span",19),c.xc(258,"\u0995\u09b0\u09cd\u09ae\u09be\u09a7\u09cd\u09af\u0995\u09cd\u09b7"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(8),c.yc(null==t.company?null:t.company.name_bd),c.yb(2),c.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),c.yb(5),c.yc(null==t.delivery?null:t.delivery.sr_no),c.yb(2),c.zc("\u09a4\u09be\u09b0\u09bf\u0996 - ",c.ec(18,50,null==t.delivery?null:t.delivery.date.toMillis(),"dd/MM/yyyy"),""),c.yb(7),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.name,""),c.yb(5),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.father,""),c.yb(6),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.phone,""),c.yb(6),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.address,""),c.yb(16),c.yc(c.dc(58,53,null==t.delivery?null:t.delivery.quantity)),c.yb(3),c.yc(c.dc(61,55,null==t.delivery?null:t.delivery.rate)),c.yb(3),c.yc(c.dc(64,57,null==t.delivery?null:t.delivery.service_rent)),c.yb(6),c.yc(c.dc(70,59,null==t.delivery?null:t.delivery.emptyBag_quantity)),c.yb(3),c.yc(c.dc(73,61,null==t.delivery?null:t.delivery.emptyBag_rate)),c.yb(3),c.yc(c.dc(76,63,null==t.delivery?null:t.delivery.emptyBag_amount)),c.yb(6),c.yc(c.dc(82,65,null==t.delivery?null:t.delivery.loan_amount)),c.yb(3),c.yc(c.dc(85,67,null==t.delivery?null:t.delivery.loan_rate)),c.yb(3),c.yc(c.dc(88,69,null==t.delivery?null:t.delivery.loan_payable)),c.yb(6),c.yc(c.dc(94,71,null==t.delivery?null:t.delivery.total)),c.yb(4),c.zc("\u099f\u09be\u0995\u09be \u0995\u09a5\u09be\u09df\u0983 ",c.dc(98,73,null==t.delivery?null:t.delivery.total)," \u099f\u09be\u0995\u09be \u09ae\u09be\u09a4\u09cd\u09b0 \u0964"),c.yb(19),c.yc(null==t.company?null:t.company.name_bd),c.yb(2),c.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),c.yb(5),c.yc(null==t.delivery?null:t.delivery.sr_no),c.yb(2),c.zc("\u09a4\u09be\u09b0\u09bf\u0996 - ",c.ec(126,75,null==t.delivery?null:t.delivery.date.toMillis(),"dd/MM/yyyy"),""),c.yb(7),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.name,""),c.yb(5),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.father,""),c.yb(6),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.address,""),c.yb(6),c.Ac(" ",c.dc(150,78,null==t.delivery?null:t.delivery.quantity),"(",c.dc(151,80,null==t.delivery?null:t.delivery.quantity),") \u09ac\u09b8\u09cd\u09a4\u09be"),c.yb(17),c.yc(null==t.company?null:t.company.name_bd),c.yb(2),c.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),c.yb(5),c.yc(null==t.delivery?null:t.delivery.sr_no),c.yb(2),c.zc("\u09a4\u09be\u09b0\u09bf\u0996 - ",c.ec(176,82,null==t.delivery?null:t.delivery.date.toMillis(),"dd/MM/yyyy"),""),c.yb(7),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.name,""),c.yb(5),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.father,""),c.yb(6),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.address,""),c.yb(6),c.Ac(" ",c.dc(200,85,null==t.delivery?null:t.delivery.quantity),"(",c.dc(201,87,null==t.delivery?null:t.delivery.quantity),") \u09ac\u09b8\u09cd\u09a4\u09be"),c.yb(17),c.yc(null==t.company?null:t.company.name_bd),c.yb(2),c.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),c.yb(5),c.yc(null==t.delivery?null:t.delivery.sr_no),c.yb(2),c.zc("\u09a4\u09be\u09b0\u09bf\u0996 - ",c.ec(226,89,null==t.delivery?null:t.delivery.date.toMillis(),"dd/MM/yyyy"),""),c.yb(7),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.name,""),c.yb(5),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.father,""),c.yb(6),c.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.address,""),c.yb(6),c.Ac(" ",c.dc(250,92,null==t.delivery?null:t.delivery.quantity)," (",c.dc(251,94,null==t.delivery?null:t.delivery.quantity),") \u09ac\u09b8\u09cd\u09a4\u09be"))},pipes:[u.d,ne.a,re.a,ie],styles:["[_nghost-%COMP%]{display:block;background:#e0e0e0;font-size:12px}h3[_ngcontent-%COMP%]{text-align:center}.receipt[_ngcontent-%COMP%]{width:50%;height:25%;float:left;padding:10px;border:1px solid #000}.receipt1[_ngcontent-%COMP%]{height:48%}.receipt1[_ngcontent-%COMP%], .receipt2[_ngcontent-%COMP%]{width:50%;float:left;padding:10px;border-bottom:1px solid #000}.receipt2[_ngcontent-%COMP%]{height:16%}.output[_ngcontent-%COMP%]{height:297mm;width:210mm;position:absolute;top:50px;left:10px;padding:5px 15px}.company-name[_ngcontent-%COMP%]{font-size:17px}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.15rem}@media print{.output[_ngcontent-%COMP%]{left:0;top:0}}"]}),e})();var Ce=function(e){return e.RECEIVE="RECEIVE",e.DELIVERY="DELIVERY",e}({}),we=o("Kj3r"),Se=o("/uUt"),ke=o("lJxs");function ze(e,t){if(1&e&&(c.Pb(0,"div",26),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function De(e,t){if(1&e&&(c.Pb(0,"option",27),c.xc(1),c.Ob()),2&e){const e=t.$implicit;c.hc("value",e.key),c.yb(1),c.zc(" ",e.value," ")}}function Me(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"label",28),c.xc(2,"Party name"),c.Ob(),c.Pb(3,"label",29),c.xc(4),c.Ob(),c.Pb(5,"label",28),c.xc(6,"Party phone"),c.Ob(),c.Pb(7,"label",29),c.xc(8),c.Ob(),c.Pb(9,"label",28),c.xc(10,"Party father"),c.Ob(),c.Pb(11,"label",29),c.xc(12),c.Ob(),c.Mb()),2&e){const e=c.bc();c.yb(4),c.zc("",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.name," "),c.yb(4),c.zc("",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.phone," "),c.yb(4),c.zc("",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.father," ")}}function je(e,t){if(1&e){const e=c.Qb();c.Pb(0,"div",4),c.Pb(1,"label",30),c.xc(2,"Loan*"),c.Ob(),c.Pb(3,"input",31),c.Zb("change",function(){return c.pc(e),c.bc().onLoanChange()}),c.Ob(),c.Pb(4,"label",32),c.xc(5,"Loan Profit*"),c.Ob(),c.Lb(6,"input",33),c.Pb(7,"label",34),c.xc(8,"Loan Payable*"),c.Ob(),c.Lb(9,"input",35),c.Ob()}}function qe(e,t){if(1&e){const e=c.Qb();c.Pb(0,"div",4),c.Pb(1,"label",36),c.xc(2,"Quantity*"),c.Ob(),c.Pb(3,"input",37),c.Zb("change",function(){return c.pc(e),c.bc().onQuantityChange()}),c.Ob(),c.Pb(4,"label",38),c.xc(5,"Rate*"),c.Ob(),c.Lb(6,"input",39),c.Pb(7,"label",40),c.xc(8,"Rent*"),c.Ob(),c.Lb(9,"input",41),c.Ob()}}function Ie(e,t){if(1&e){const e=c.Qb();c.Pb(0,"div",4),c.Pb(1,"label",42),c.xc(2,"Empty Bag Quantity*"),c.Ob(),c.Pb(3,"input",43),c.Zb("change",function(){return c.pc(e),c.bc().onEmptybagQuantityChange()}),c.Ob(),c.Pb(4,"label",44),c.xc(5,"Empty bag rate*"),c.Ob(),c.Lb(6,"input",45),c.Pb(7,"label",46),c.xc(8,"Empty bag amount*"),c.Ob(),c.Lb(9,"input",47),c.Ob()}}function Ee(e,t){1&e&&(c.Pb(0,"div",4),c.Pb(1,"label",48),c.xc(2,"Total*"),c.Ob(),c.Lb(3,"input",49),c.Ob())}function Fe(e,t){if(1&e&&(c.Pb(0,"div",50),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}function Ne(e,t){if(1&e&&(c.Pb(0,"table",51),c.Pb(1,"thead"),c.Pb(2,"tr"),c.Pb(3,"td",52),c.xc(4," Ledger info "),c.Ob(),c.Ob(),c.Pb(5,"tr"),c.Pb(6,"th",53),c.xc(7,"#"),c.Ob(),c.Pb(8,"th",53),c.xc(9,"SR_No"),c.Ob(),c.Pb(10,"th",53),c.xc(11,"Party"),c.Ob(),c.Pb(12,"th",53),c.xc(13,"Loan"),c.Ob(),c.Pb(14,"th",53),c.xc(15,"Product"),c.Ob(),c.Pb(16,"th",53),c.xc(17,"Empty bag"),c.Ob(),c.Pb(18,"th",53),c.xc(19,"Total"),c.Ob(),c.Ob(),c.Ob(),c.Pb(20,"tbody"),c.Pb(21,"tr"),c.Pb(22,"th",54),c.xc(23,"1"),c.Ob(),c.Pb(24,"td"),c.xc(25),c.Ob(),c.Pb(26,"td"),c.Pb(27,"div"),c.xc(28),c.Ob(),c.Pb(29,"div"),c.xc(30),c.Ob(),c.Pb(31,"div"),c.xc(32),c.Ob(),c.Ob(),c.Pb(33,"td"),c.Pb(34,"div"),c.Pb(35,"div"),c.xc(36),c.Ob(),c.Pb(37,"div"),c.xc(38),c.Ob(),c.Pb(39,"div"),c.xc(40),c.Ob(),c.Ob(),c.Ob(),c.Pb(41,"td"),c.Pb(42,"div"),c.xc(43),c.Ob(),c.Pb(44,"div"),c.xc(45),c.Ob(),c.Pb(46,"div"),c.xc(47),c.Ob(),c.Ob(),c.Pb(48,"td"),c.Pb(49,"div"),c.Pb(50,"div"),c.xc(51),c.Ob(),c.Pb(52,"div"),c.xc(53),c.Ob(),c.Pb(54,"div"),c.xc(55),c.Ob(),c.Ob(),c.Ob(),c.Pb(56,"td"),c.xc(57),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e){const e=c.bc();c.yb(25),c.yc(e.ledger.sr_no),c.yb(3),c.Ac("Name : ",null==e.ledger.customer?null:e.ledger.customer.name," [",null==e.ledger.customer?null:e.ledger.customer.phone,"]"),c.yb(2),c.zc("C/O : ",null==e.ledger.customer?null:e.ledger.customer.father,""),c.yb(2),c.yc(null==e.ledger.customer?null:e.ledger.customer.address),c.yb(4),c.zc("Amount: ",e.ledger.loan_amount," "),c.yb(2),c.zc("Rate: ",e.ledger.loan_rate," "),c.yb(2),c.zc("Payable: ",e.ledger.loan_payable," "),c.yb(3),c.zc("Quanity: ",e.ledger.quantity," "),c.yb(2),c.zc("Rate: ",e.ledger.rate," "),c.yb(2),c.zc("Amount: ",e.ledger.service_amount," "),c.yb(4),c.zc("Quanity: ",e.ledger.emptyBag_quantity," "),c.yb(2),c.zc("Rate: ",e.ledger.emptyBag_rate," "),c.yb(2),c.zc("Amount: ",e.ledger.emptyBag_amount," "),c.yb(2),c.yc(e.ledger.total_amount)}}function Ve(e,t){if(1&e&&(c.Pb(0,"tr"),c.Pb(1,"td",54),c.xc(2),c.Ob(),c.Pb(3,"td",54),c.xc(4),c.Ob(),c.Pb(5,"td"),c.Pb(6,"div"),c.xc(7),c.Ob(),c.Pb(8,"div"),c.xc(9),c.Ob(),c.Pb(10,"div"),c.xc(11),c.Ob(),c.Ob(),c.Pb(12,"td",60),c.xc(13),c.Ob(),c.Pb(14,"td",60),c.xc(15),c.Ob(),c.Pb(16,"td",60),c.xc(17),c.Ob(),c.Pb(18,"td",60),c.xc(19),c.Ob(),c.Pb(20,"td",60),c.xc(21),c.Ob(),c.Pb(22,"td",60),c.xc(23),c.Ob(),c.Pb(24,"th",60),c.xc(25),c.Ob(),c.Ob()),2&e){const e=t.$implicit,o=t.index;c.yb(2),c.yc(o+1),c.yb(2),c.yc(e.sr_no),c.yb(3),c.yc(e.customer.name),c.yb(2),c.yc(e.customer.phone),c.yb(2),c.yc(e.customer.address),c.yb(2),c.yc(e.loan_amount),c.yb(2),c.yc(e.loan_payable),c.yb(2),c.yc(e.quantity),c.yb(2),c.yc(e.service_rent),c.yb(2),c.yc(e.emptyBag_quantity),c.yb(2),c.yc(e.emptyBag_amount),c.yb(2),c.yc(e.total)}}function Re(e,t){if(1&e&&(c.Pb(0,"table",55),c.Pb(1,"thead"),c.Pb(2,"tr"),c.Pb(3,"td",56),c.xc(4," Delivery info "),c.Ob(),c.Ob(),c.Pb(5,"tr"),c.Pb(6,"th",57),c.xc(7,"#"),c.Ob(),c.Pb(8,"th",57),c.xc(9,"SR_No"),c.Ob(),c.Pb(10,"th",57),c.xc(11,"Party"),c.Ob(),c.Pb(12,"th",58),c.xc(13,"Loan"),c.Ob(),c.Pb(14,"th",58),c.xc(15,"Product"),c.Ob(),c.Pb(16,"th",58),c.xc(17,"Empty Bag"),c.Ob(),c.Pb(18,"th",57),c.xc(19,"Total"),c.Ob(),c.Ob(),c.Pb(20,"tr"),c.Pb(21,"th"),c.xc(22,"Amount"),c.Ob(),c.Pb(23,"th"),c.xc(24,"Payable"),c.Ob(),c.Pb(25,"th"),c.xc(26,"Quantity"),c.Ob(),c.Pb(27,"th"),c.xc(28,"Rent"),c.Ob(),c.Pb(29,"th"),c.xc(30,"Quanity"),c.Ob(),c.Pb(31,"th"),c.xc(32,"Price"),c.Ob(),c.Ob(),c.Ob(),c.Pb(33,"tbody"),c.vc(34,Ve,26,12,"tr",59),c.Pb(35,"tr"),c.Lb(36,"td"),c.Lb(37,"td"),c.Lb(38,"td"),c.Pb(39,"th",60),c.xc(40),c.Ob(),c.Pb(41,"th",60),c.xc(42),c.Ob(),c.Pb(43,"th",60),c.xc(44),c.Ob(),c.Pb(45,"th",60),c.xc(46),c.Ob(),c.Pb(47,"th",60),c.xc(48),c.Ob(),c.Pb(49,"th",60),c.xc(50),c.Ob(),c.Pb(51,"th",60),c.xc(52),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e){const e=c.bc();c.yb(34),c.hc("ngForOf",e.preDel),c.yb(6),c.yc(e.pre_delivery.loan_amount),c.yb(2),c.yc(e.pre_delivery.loan_payable),c.yb(2),c.yc(e.pre_delivery.quantity),c.yb(2),c.yc(e.pre_delivery.service_rent),c.yb(2),c.yc(e.pre_delivery.emptyBag_quantity),c.yb(2),c.yc(e.pre_delivery.emptyBag_amount),c.yb(2),c.yc(e.pre_delivery.total)}}let Ae=(()=>{class e{constructor(e,t){this.fb=e,this.util=t,this.create=new c.n,this.errorMessage="",this.mouseoverShifting=!1,this.typeEnum=Ce,this.searchLedger=e=>e.pipe(Object(we.a)(200),Object(Se.a)(),Object(ke.a)(e=>(e.length<2?[]:this.ledgerList.filter(t=>t.sr_no.indexOf(e.toLowerCase())>-1&&t.year==this.ngDate.year).slice(0,10)).map(e=>e.sr_no))),this.pre_delivery={quantity:0,service_rent:0,loan_amount:0,loan_profit:0,loan_payable:0,emptyBag_quantity:0,emptyBag_amount:0,total:0},this.ngDate=this.util.convertJsDateToNgbDate(new Date),this.createForm(),this.form.get("inventoryType").disable()}ngOnChanges(e){e.vouchar_no&&null!=this.vouchar_no&&this.form.controls.vouchar_no.setValue(this.vouchar_no+1)}createForm(){this.form=this.fb.group({vouchar_no:["",d.q.required],date:[this.ngDate,d.q.required],year:[this.ngDate.year,d.q.required],inventoryType:["DELIVERY",d.q.required],sr_no:["",d.q.required],customer:["",d.q.required],quantity:["",d.q.required],rate:["",d.q.required],service_rent:["",d.q.required],loan_amount:["",d.q.required],loan_rate:["",d.q.required],loan_profit:["",d.q.required],loan_payable:["",d.q.required],emptyBag_quantity:["",d.q.required],emptyBag_rate:["",d.q.required],emptyBag_amount:["",d.q.required],total:["",d.q.required]})}onSelectSRNo(e){const t=this.ledgerList.find(t=>t.sr_no==e.item&&t.year==this.ngDate.year);this.ledger=t,this.preDel=this.deliveryList.filter(t=>t.sr_no==e.item&&t.year==this.ngDate.year);let o={quantity:0,service_rent:0,loan_amount:0,loan_profit:0,loan_payable:0,emptyBag_quantity:0,emptyBag_amount:0,total:0};this.preDel&&(this.preDel.forEach(e=>{o.quantity+=e.quantity,o.service_rent+=e.service_rent,o.loan_amount+=e.loan_amount,o.loan_payable+=e.loan_payable,o.emptyBag_quantity+=e.emptyBag_quantity,o.emptyBag_amount+=e.emptyBag_amount,o.total+=e.total}),this.pre_delivery=o),this.form.patchValue({customer:t.customer,quantity:t.quantity-o.quantity,rate:t.rate,service_rent:t.service_amount-o.service_rent,loan_amount:t.loan_amount?t.loan_amount-o.loan_amount:0,loan_rate:t.loan_rate?t.loan_rate:0,loan_profit:t.loan_profit?t.loan_profit-o.loan_profit:0,loan_payable:t.loan_payable?t.loan_payable-o.loan_payable:0,emptyBag_quantity:t.emptyBag_quantity-o.emptyBag_quantity,emptyBag_rate:t.emptyBag_rate,emptyBag_amount:t.emptyBag_amount-o.emptyBag_amount,total:t.service_amount+(t.loan_payable?t.loan_payable:0)+t.emptyBag_amount}),this.updateTotal()}onQuantityChange(){const e=this.form.value;this.form.controls.service_rent.setValue(e.quantity*e.rate),this.updateTotal()}onEmptybagQuantityChange(){const e=this.form.value;this.form.controls.emptyBag_amount.setValue(e.emptyBag_quantity*e.emptyBag_rate),this.updateTotal()}onLoanChange(){const e=this.form.value,t=e.loan_amount*e.loan_rate/100,o=t+e.loan_amount;this.form.controls.loan_profit.setValue(t),this.form.controls.loan_payable.setValue(o),this.updateTotal()}updateTotal(){const e=this.form.value;this.form.controls.total.setValue(e.service_rent+e.loan_payable+e.emptyBag_amount)}submit(){if(this.form.valid){this.errorMessage="",this.updateTotal();const e=this.form.value;if(e.quantity>this.ledger.quantity-this.pre_delivery.quantity)this.errorMessage="Quantity value error, should be less then or equl to "+(this.ledger.quantity-this.pre_delivery.quantity);else if(e.loan_amount>this.ledger.loan_amount-this.pre_delivery.loan_amount)this.errorMessage="Loan error, should be less then or equal to "+(this.ledger.loan_amount-this.pre_delivery.loan_amount);else if(e.emptyBag_quantity>this.ledger.emptyBag_quantity-this.pre_delivery.emptyBag_quantity)this.errorMessage="Empty bag error, should be less then or equal to "+(this.ledger.emptyBag_quantity-this.pre_delivery.emptyBag_quantity);else if(e.total>0){const t=this.util.convertNgbDateToJsDate(e.date),o=Object.assign(Object.assign({},e),{date:t});this.create.emit(o),this.clear()}}}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clear(){this.ledger=null,this.preDel=null,this.pre_delivery={quantity:0,service_rent:0,loan_amount:0,loan_profit:0,loan_payable:0,emptyBag_quantity:0,emptyBag_amount:0,total:0},this.form.reset(),this.form.patchValue({vouchar_no:this.vouchar_no+1,date:this.ngDate,year:this.ngDate.year,inventoryType:"DELIVERY"})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["delivery-form"]],inputs:{vouchar_no:"vouchar_no",ledgerList:"ledgerList",deliveryList:"deliveryList"},outputs:{create:"create"},features:[c.wb],decls:40,vars:15,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],[1,"col-auto"],["for","vouchar_no",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","text","id","vouchar_no","formControlName","vouchar_no","readonly","",1,"form-control","form-control-sm"],["for","inventoryType",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","inventoryType","formControlName","inventoryType",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","year",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","year","formControlName","year","placeholder","Year",1,"form-control","form-control-sm"],["for","date",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["date","ngbDatepicker"],["for","sr_no",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","sr_no","type","text","formControlName","sr_no",1,"form-control","form-control-sm",3,"ngbTypeahead","editable","selectItem"],[4,"ngIf"],["class","col-auto",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],["class","table table-striped border table-sm",4,"ngIf"],["class","table table-bordered table-sm",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"],["for","customer",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","customer",1,"form-control","form-control-sm","m-0"],["for","loan_amount",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","loan_amount","formControlName","loan_amount","placeholder","Loan amount",1,"form-control","form-control-sm",3,"change"],["for","loan_profit",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","loan_profit","formControlName","loan_profit","readonly","",1,"form-control","form-control-sm"],["for","loan_payable",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","loan_payable","formControlName","loan_payable","readonly","",1,"form-control","form-control-sm"],["for","quantity",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","quantity","formControlName","quantity","placeholder","Quantity",1,"form-control","form-control-sm",3,"change"],["for","rate",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","rate","formControlName","rate","placeholder","Rate","readonly","",1,"form-control","form-control-sm"],["for","service_rent",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","service_rent","formControlName","service_rent","placeholder","Service Rent","readonly","",1,"form-control","form-control-sm"],["for","emptyBag_quantity",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","emptyBag_quantity","formControlName","emptyBag_quantity","placeholder","Empty bag quantity",1,"form-control","form-control-sm",3,"change"],["for","emptyBag_rate",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","emptyBag_rate","formControlName","emptyBag_rate","readonly","",1,"form-control","form-control-sm"],["for","emptyBag_amount",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","emptyBag_amount","formControlName","emptyBag_amount","readonly","",1,"form-control","form-control-sm"],["for","total",1,"d-none","d-sm-block","col-form-label"],["type","number","id","total","formControlName","total","readonly","",1,"form-control"],[1,"text-danger"],[1,"table","table-striped","border","table-sm"],["colspan","8",1,"form-head"],["scope","col"],["scope","row"],[1,"table","table-bordered","table-sm"],["colspan","10",1,"form-head"],["rowspan","2","scope","col"],["colspan","2","scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"]],template:function(e,t){if(1&e){const e=c.Qb();c.Pb(0,"div",0),c.xc(1," New Delivery\n"),c.Ob(),c.vc(2,ze,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"label",5),c.xc(7,"No.*"),c.Ob(),c.Lb(8,"input",6),c.Pb(9,"label",7),c.xc(10,"Type*"),c.Ob(),c.Pb(11,"select",8),c.Pb(12,"option",9),c.xc(13,"Select a Type"),c.Ob(),c.vc(14,De,2,2,"option",10),c.cc(15,"keyvalue"),c.Ob(),c.Pb(16,"label",11),c.xc(17,"Year*"),c.Ob(),c.Lb(18,"input",12),c.Pb(19,"label",13),c.xc(20,"Date*"),c.Ob(),c.Pb(21,"input",14,15),c.Zb("click",function(){return c.pc(e),c.oc(22).toggle()}),c.Ob(),c.Ob(),c.Pb(23,"div",4),c.Pb(24,"label",16),c.xc(25,"SR No*"),c.Ob(),c.Pb(26,"input",17),c.Zb("selectItem",function(e){return t.onSelectSRNo(e)}),c.Ob(),c.vc(27,Me,13,3,"ng-container",18),c.Ob(),c.vc(28,je,10,0,"div",19),c.vc(29,qe,10,0,"div",19),c.vc(30,Ie,10,0,"div",19),c.vc(31,Ee,4,0,"div",19),c.Ob(),c.Pb(32,"div",20),c.Pb(33,"button",21),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(34,"Save"),c.Ob(),c.Pb(35,"button",22),c.Zb("click",function(){return t.clear()}),c.xc(36,"Clear"),c.Ob(),c.Ob(),c.vc(37,Fe,2,1,"div",23),c.Ob(),c.vc(38,Ne,58,15,"table",24),c.vc(39,Re,53,8,"table",25)}2&e&&(c.yb(2),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(11),c.hc("ngForOf",c.dc(15,13,t.typeEnum)),c.yb(12),c.hc("ngbTypeahead",t.searchLedger)("editable",!1),c.yb(1),c.hc("ngIf",t.form.value.customer),c.yb(1),c.hc("ngIf",t.form.value.customer),c.yb(1),c.hc("ngIf",t.form.value.customer),c.yb(1),c.hc("ngIf",t.form.value.customer),c.yb(1),c.hc("ngIf",t.form.value.customer),c.yb(6),c.hc("ngIf",t.mouseoverShifting),c.yb(1),c.hc("ngIf",t.ledger),c.yb(1),c.hc("ngIf",t.preDel&&t.preDel.length>0))},directives:[u.n,d.s,d.j,d.d,d.a,d.i,d.c,d.p,d.m,d.r,u.m,d.n,P.f,P.j],pipes:[u.h],styles:[""]}),e})();function Ze(e,t){if(1&e&&(c.Pb(0,"tr"),c.Pb(1,"th",16),c.xc(2),c.Ob(),c.Pb(3,"td"),c.xc(4),c.Ob(),c.Pb(5,"td"),c.xc(6),c.Ob(),c.Pb(7,"td"),c.xc(8),c.Ob(),c.Pb(9,"td"),c.xc(10),c.Ob(),c.Pb(11,"td"),c.xc(12),c.Ob(),c.Pb(13,"td"),c.xc(14),c.Ob(),c.Pb(15,"td"),c.Pb(16,"a",17),c.xc(17,"Print"),c.Ob(),c.Ob(),c.Ob()),2&e){const e=t.$implicit,o=t.index;c.yb(2),c.yc(o+1),c.yb(2),c.yc(e.sr_no),c.yb(2),c.zc(" ",e.customer.name," "),c.yb(2),c.yc(e.service_rent),c.yb(2),c.yc(e.emptyBag_amount),c.yb(2),c.yc(e.loan_payable),c.yb(2),c.yc(e.total),c.yb(2),c.jc("routerLink","/dashboard/delivery-print/",e._id,"")}}let Be=(()=>{class e{constructor(){this.page=1,this.pageSize=8,this.deliveryPage=[]}ngOnChanges(e){e.deliveryList&&null!=this.deliveryList&&this.refreshDelivery()}refreshDelivery(){this.deliveryPage=this.deliveryList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onSearch(e){e.length>=2?(console.log(e,e.length),this.deliveryPage=this.search(e)):this.refreshDelivery()}search(e){return this.deliveryList.filter(t=>{const o=e.toLowerCase();return t.sr_no.toLowerCase().includes(o)||t.customer.name.includes(o)||t.customer.phone.includes(o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["delivery-list"]],inputs:{deliveryList:"deliveryList"},features:[c.wb],decls:41,vars:8,consts:[[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","Name / Phone",1,"form-control","form-control-sm",3,"keyup"],[1,"table","table-striped","border","table-sm"],["colspan","8",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"routerLink"]],template:function(e,t){1&e&&(c.Pb(0,"form"),c.Pb(1,"div",0),c.Lb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"div",5),c.Lb(7,"i",6),c.Ob(),c.Ob(),c.Pb(8,"input",7),c.Zb("keyup",function(e){return t.onSearch(e.target.value)}),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(9,"table",8),c.Pb(10,"thead"),c.Pb(11,"tr"),c.Pb(12,"td",9),c.xc(13," Delivery List "),c.Ob(),c.Ob(),c.Pb(14,"tr"),c.Pb(15,"th",10),c.xc(16,"#"),c.Ob(),c.Pb(17,"th",10),c.xc(18,"SR_No"),c.Ob(),c.Pb(19,"th",10),c.xc(20,"Party"),c.Ob(),c.Pb(21,"th",10),c.xc(22,"Rent"),c.Ob(),c.Pb(23,"th",10),c.xc(24,"Empty bag"),c.Ob(),c.Pb(25,"th",10),c.xc(26,"Loan"),c.Ob(),c.Pb(27,"th",10),c.xc(28,"Total"),c.Ob(),c.Lb(29,"th"),c.Ob(),c.Ob(),c.Pb(30,"tbody"),c.vc(31,Ze,18,8,"tr",11),c.Ob(),c.Ob(),c.Pb(32,"div",12),c.Pb(33,"ngb-pagination",13),c.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshDelivery()}),c.Ob(),c.Pb(34,"select",14),c.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshDelivery()}),c.Pb(35,"option",15),c.xc(36,"4/Page"),c.Ob(),c.Pb(37,"option",15),c.xc(38,"8/Page"),c.Ob(),c.Pb(39,"option",15),c.xc(40,"16/Page"),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(31),c.hc("ngForOf",t.deliveryPage),c.yb(2),c.hc("collectionSize",t.deliveryList.length)("page",t.page)("pageSize",t.pageSize),c.yb(1),c.hc("ngModel",t.pageSize),c.yb(1),c.hc("ngValue",4),c.yb(2),c.hc("ngValue",8),c.yb(2),c.hc("ngValue",16))},directives:[d.s,d.j,d.k,u.m,P.i,d.p,d.i,d.l,d.m,d.r,n.d],styles:[""]}),e})(),Te=(()=>{class e{constructor(e,t,o){this.deliveryService=e,this.ledgerService=t,this.router=o,this.sendingData=!1,this.ledgerList=[],this.deliveryList=[],this.year=(new Date).getFullYear()}ngOnInit(){this.getDeliveryListbyYear(this.year),this.getLedgerforyear(this.year)}getLedgerforyear(e){return Object(a.a)(this,void 0,void 0,function*(){this.ledgerService.ledgers$.pipe(Object(ee.a)(2)).subscribe(t=>{this.ledgerList=t.filter(t=>t.year==e)})})}getDeliveryListbyYear(e){return Object(a.a)(this,void 0,void 0,function*(){this.deliveryService.deliverys$.subscribe(t=>{this.deliveryList=t.filter(t=>t.year==e)})})}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,yield this.deliveryService.create(e).then(e=>{this.router.navigate(["dashboard/delivery-print",e.id])}).catch(e=>{console.log("error",e)})})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(Le.a),c.Kb(te.a),c.Kb(n.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-delivery"]],decls:9,vars:4,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-12","p-md-0","mt-2"],[1,"border","rounded"],[3,"ledgerList","deliveryList","vouchar_no","create"],[3,"deliveryList"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Delivery\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"delivery-form",5),c.Zb("create",function(e){return t.onCreate(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",3),c.Lb(8,"delivery-list",6),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("ledgerList",t.ledgerList)("deliveryList",t.deliveryList)("vouchar_no",t.deliveryList.length),c.yb(2),c.hc("deliveryList",t.deliveryList))},directives:[Ae,Be],styles:[""]}),e})();var Ue=o("oXKd");function $e(e,t){if(1&e&&(c.Pb(0,"div",19),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function Ke(e,t){if(1&e&&(c.Pb(0,"option",20),c.xc(1),c.Ob()),2&e){const e=t.$implicit;c.hc("ngValue",e),c.yb(1),c.zc(" ",e.name," ")}}function Qe(e,t){1&e&&(c.Pb(0,"small",21),c.xc(1,"Floor Name Required"),c.Ob())}function Ge(e,t){1&e&&(c.Pb(0,"small",21),c.xc(1,"Floor capacity required"),c.Ob())}function Ye(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",17),c.Zb("click",function(){return c.pc(e),c.bc().onDelete()}),c.xc(1,"Delete"),c.Ob()}}function Je(e,t){if(1&e&&(c.Pb(0,"div",22),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let We=(()=>{class e{constructor(e){this.fb=e,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.clear=new c.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){if(e.floor&&null!=this.floor){this.form.reset();const e=this.chamberList.find(e=>e._id==this.floor.chamber._id),t=Object.assign(Object.assign({},this.floor),{chamber:e});this.exists=!0,this.form.patchValue(t)}}createForm(){this.form=this.fb.group({chamber:["",d.q.required],name:["",d.q.required],capacity:["",d.q.required]})}submit(){if(this.form.valid){const e=this.form.value,t={_id:e.chamber._id,name:e.chamber.name,slug:e.chamber.slug},o=Object.assign(Object.assign({},this.form.value),{chamber:t});this.exists?this.update.emit(o):this.create.emit(o),this.clean()}}onDelete(){this.delete.emit(this.floor._id),this.clean()}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clean(){this.exists=!1,this.floor=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["floor-form"]],inputs:{floor:"floor",chamberList:"chamberList"},outputs:{create:"create",update:"update",delete:"delete",clear:"clear"},features:[c.wb],decls:31,vars:9,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","chamber",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["id","chamber","formControlName","chamber",1,"form-control","form-control-sm"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","name","formControlName","name","placeholder","Floor Name",1,"form-control","form-control-sm"],["id","nameHelp","class","form-text text-danger",4,"ngIf"],["for","capacity",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","capacity","formControlName","capacity","placeholder","Floor capacity",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"ngValue"],["id","nameHelp",1,"form-text","text-danger"],[1,"text-danger"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,$e,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"label",4),c.xc(6,"Chamber"),c.Ob(),c.Pb(7,"div",5),c.Pb(8,"select",6),c.Pb(9,"option",7),c.xc(10,"Select a chamber"),c.Ob(),c.vc(11,Ke,2,2,"option",8),c.Ob(),c.Ob(),c.Ob(),c.Pb(12,"div",3),c.Pb(13,"label",9),c.xc(14,"Name"),c.Ob(),c.Pb(15,"div",5),c.Lb(16,"input",10),c.vc(17,Qe,2,0,"small",11),c.Ob(),c.Ob(),c.Pb(18,"div",3),c.Pb(19,"label",12),c.xc(20,"Capacity"),c.Ob(),c.Pb(21,"div",5),c.Lb(22,"input",13),c.vc(23,Ge,2,0,"small",11),c.Ob(),c.Ob(),c.Pb(24,"div",14),c.Pb(25,"button",15),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(26),c.Ob(),c.vc(27,Ye,2,0,"button",16),c.Pb(28,"button",17),c.Zb("click",function(){return t.clean()}),c.xc(29,"Clear"),c.Ob(),c.Ob(),c.vc(30,Je,2,1,"div",18),c.Ob()),2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," Floor\n"),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(8),c.hc("ngForOf",t.chamberList),c.yb(6),c.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),c.yb(6),c.hc("ngIf",t.form.controls.capacity.errors&&t.form.controls.capacity.touched),c.yb(3),c.yc(t.exists?"Update":"Save"),c.yb(1),c.hc("ngIf",t.exists),c.yb(3),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,d.p,d.i,d.c,d.m,d.r,u.m,d.a,d.n],styles:[""]}),e})();function He(e,t){if(1&e){const e=c.Qb();c.Pb(0,"tr"),c.Pb(1,"th",15),c.xc(2),c.Ob(),c.Pb(3,"td"),c.xc(4),c.Ob(),c.Pb(5,"td"),c.xc(6),c.Ob(),c.Pb(7,"td"),c.xc(8),c.cc(9,"numberToBangla"),c.Ob(),c.Pb(10,"td"),c.Pb(11,"a",16),c.Zb("click",function(){c.pc(e);const o=t.$implicit;return c.bc().onEdit(o._id)}),c.xc(12,"Edit"),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=t.$implicit,o=t.index;c.yb(2),c.yc(o+1),c.yb(2),c.yc(e.chamber.name),c.yb(2),c.zc("",e.name," "),c.yb(2),c.yc(c.dc(9,4,e.capacity))}}let Xe=(()=>{class e{constructor(e,t,o){this.floorService=e,this.chamberService=t,this.util=o,this.sendingData=!1,this.loadingData=!1,this.chamberList=[],this.floorList=[],this.page=1,this.pageSize=8,this.floorPage=[],this.errorMessage=""}ngOnInit(){this.getChamberList(),this.getFloorList()}getChamberList(){return Object(a.a)(this,void 0,void 0,function*(){this.chamberService.chambers$.subscribe(e=>{this.chamberList=e,this.chamberList.sort(this.util.dynamicSortObject("name"))})})}getFloorList(){return Object(a.a)(this,void 0,void 0,function*(){this.floorService.floors$.subscribe(e=>{this.floorList=e,this.floorList.sort(this.util.dynamicSortObject("chamber.name")),this.refreshFloor()})})}refreshFloor(){this.floorPage=this.floorList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});yield this.floorService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.floor.createdAt});yield this.floorService.update(this.floor._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.floorService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Floor Deleting ERROR ! "}),this.clear())})}onEdit(e){this.floor=this.floorList.find(t=>t._id===e)}clear(){this.floor=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(Ue.a),c.Kb(z.a),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-floor"]],decls:35,vars:10,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"floor","chamberList","create","update","delete"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","5",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Floor\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"floor-form",5),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",6),c.Pb(8,"table",7),c.Pb(9,"thead"),c.Pb(10,"tr"),c.Pb(11,"td",8),c.xc(12," Floor List "),c.Ob(),c.Ob(),c.Pb(13,"tr"),c.Pb(14,"th",9),c.xc(15,"#"),c.Ob(),c.Pb(16,"th",9),c.xc(17,"Chamber"),c.Ob(),c.Pb(18,"th",9),c.xc(19,"Name"),c.Ob(),c.Pb(20,"th",9),c.xc(21,"Capacity"),c.Ob(),c.Pb(22,"th",9),c.xc(23,"Action"),c.Ob(),c.Ob(),c.Ob(),c.Pb(24,"tbody"),c.vc(25,He,13,6,"tr",10),c.Ob(),c.Ob(),c.Pb(26,"div",11),c.Pb(27,"ngb-pagination",12),c.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshFloor()}),c.Ob(),c.Pb(28,"select",13),c.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshFloor()}),c.Pb(29,"option",14),c.xc(30,"4/Page"),c.Ob(),c.Pb(31,"option",14),c.xc(32,"8/Page"),c.Ob(),c.Pb(33,"option",14),c.xc(34,"16/Page"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("floor",t.floor)("chamberList",t.chamberList),c.yb(19),c.hc("ngForOf",t.floorPage),c.yb(2),c.hc("collectionSize",t.floorList.length)("page",t.page)("pageSize",t.pageSize),c.yb(1),c.hc("ngModel",t.pageSize),c.yb(1),c.hc("ngValue",4),c.yb(2),c.hc("ngValue",8),c.yb(2),c.hc("ngValue",16))},directives:[We,u.m,P.i,d.p,d.i,d.l,d.m,d.r],pipes:[ne.a],styles:[""]}),e})();var et=o("u6mN");function tt(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"a",22),c.xc(2),c.Ob(),c.Mb()),2&e){const e=t.$implicit;c.yb(1),c.hc("routerLink",e.url),c.yb(1),c.zc(" ",e.name," ")}}let ot=(()=>{class e{constructor(e,t){this.auth=e,this.router=t}ngOnInit(){this.quickLinks=[{name:"Add Inventory",url:"/dashboard/inventory"},{name:"Pallot",url:"/dashboard/pallot"},{name:"Ledger",url:"/dashboard/ledger-add"},{name:"Delivery",url:"/dashboard/delivery"}],this.auth.user$.subscribe(e=>{this.user=e?{_id:e.uid,email:e.email}:null})}isAuthenticated(){return!!this.user}onLinkClick(e){console.log(e.value),this.router.navigate([e.value.url])}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(et.a),c.Kb(n.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-index"]],decls:85,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-6","col-lg-3","mb-4"],[1,"card","widget-overview-box","widget-overview-box-1"],[1,"overview-icon"],["aria-hidden","true",1,"fa","fa-print"],[1,"overview-title"],[1,"row","overview-detail"],[1,"col-6"],[1,"overview-number"],[1,"overview-subtext"],[1,"card","widget-overview-box","widget-overview-box-2"],["aria-hidden","true",1,"fa","fa-usd"],[1,"col-12","col-md-6","col-lg-3"],[1,"card","widget-overview-box","widget-overview-box-3"],["aria-hidden","true",1,"fa","fa-user-o"],[1,"card","widget-overview-box","widget-overview-box-4"],["aria-hidden","true",1,"fa","fa-truck"],[1,"card","widget-overview-box"],["aria-hidden","true",1,"fa","fa-link"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"routerLink"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.Pb(3,"div",3),c.Pb(4,"div"),c.Pb(5,"span",4),c.Lb(6,"i",5),c.Ob(),c.Pb(7,"span",6),c.xc(8,"Inventory"),c.Ob(),c.Ob(),c.Pb(9,"div",7),c.Pb(10,"div",8),c.Pb(11,"div",9),c.xc(12,"640"),c.Ob(),c.Pb(13,"div",10),c.xc(14,"Pending"),c.Ob(),c.Ob(),c.Pb(15,"div",8),c.Pb(16,"div",9),c.xc(17,"1420"),c.Ob(),c.Pb(18,"div",10),c.xc(19,"Completed"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(20,"div",2),c.Pb(21,"div",11),c.Pb(22,"div"),c.Pb(23,"span",4),c.Lb(24,"i",12),c.Ob(),c.Pb(25,"span",6),c.xc(26,"Ledger"),c.Ob(),c.Ob(),c.Pb(27,"div",7),c.Pb(28,"div",8),c.Pb(29,"div",9),c.xc(30,"$2,100"),c.Ob(),c.Pb(31,"div",10),c.xc(32,"Expenses"),c.Ob(),c.Ob(),c.Pb(33,"div",8),c.Pb(34,"div",9),c.xc(35,"$9,640"),c.Ob(),c.Pb(36,"div",10),c.xc(37,"Income"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(38,"div",13),c.Pb(39,"div",14),c.Pb(40,"div"),c.Pb(41,"span",4),c.Lb(42,"i",15),c.Ob(),c.Pb(43,"span",6),c.xc(44,"Party"),c.Ob(),c.Ob(),c.Pb(45,"div",7),c.Pb(46,"div",8),c.Pb(47,"div",9),c.xc(48,"8272"),c.Ob(),c.Pb(49,"div",10),c.xc(50,"Active"),c.Ob(),c.Ob(),c.Pb(51,"div",8),c.Pb(52,"div",9),c.xc(53,"25402"),c.Ob(),c.Pb(54,"div",10),c.xc(55,"Registered"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(56,"div",2),c.Pb(57,"div",16),c.Pb(58,"div"),c.Pb(59,"span",4),c.Lb(60,"i",17),c.Ob(),c.Pb(61,"span",6),c.xc(62,"Delivery"),c.Ob(),c.Ob(),c.Pb(63,"div",7),c.Pb(64,"div",8),c.Pb(65,"div",9),c.xc(66,"12"),c.Ob(),c.Pb(67,"div",10),c.xc(68,"New"),c.Ob(),c.Ob(),c.Pb(69,"div",8),c.Pb(70,"div",9),c.xc(71,"85"),c.Ob(),c.Pb(72,"div",10),c.xc(73,"Responded"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(74,"div",0),c.Pb(75,"div",1),c.Pb(76,"div",2),c.Pb(77,"div",18),c.Pb(78,"div"),c.Pb(79,"span",4),c.Lb(80,"i",19),c.Ob(),c.Pb(81,"span",6),c.xc(82,"Quick Links"),c.Ob(),c.Ob(),c.Pb(83,"div",20),c.vc(84,tt,3,2,"ng-container",21),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(84),c.hc("ngForOf",t.quickLinks))},directives:[u.m,n.d],styles:["[_nghost-%COMP%]{padding:15px;display:block;background-color:#f8f9fa;min-height:calc(100vh - 60px)}[_nghost-%COMP%]     .p-listbox{border:none}.card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.widget-overview-box[_ngcontent-%COMP%]{min-height:6rem;position:relative;border-left:4px solid}.widget-overview-box[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{display:inline-block;border-radius:4px;width:2em;height:2rem;line-height:2rem;text-align:center;vertical-align:middle}.widget-overview-box.widget-overview-box-1[_ngcontent-%COMP%]{border-left-color:#64b5f6}.widget-overview-box.widget-overview-box-1[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{background:#64b5f6;color:#1976d2}.widget-overview-box.widget-overview-box-1[_ngcontent-%COMP%]   .overview-title[_ngcontent-%COMP%]{color:#64b5f6}.widget-overview-box.widget-overview-box-2[_ngcontent-%COMP%]{border-left-color:#7986cb}.widget-overview-box.widget-overview-box-2[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{background:#7986cb;color:#303f9f}.widget-overview-box.widget-overview-box-2[_ngcontent-%COMP%]   .overview-title[_ngcontent-%COMP%]{color:#7986cb}.widget-overview-box.widget-overview-box-3[_ngcontent-%COMP%]{border-left-color:#4db6ac}.widget-overview-box.widget-overview-box-3[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{background:#4db6ac;color:#00796b}.widget-overview-box.widget-overview-box-3[_ngcontent-%COMP%]   .overview-title[_ngcontent-%COMP%]{color:#4db6ac}.widget-overview-box.widget-overview-box-4[_ngcontent-%COMP%]{border-left-color:#4dd0e1}.widget-overview-box.widget-overview-box-4[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{background:#4dd0e1;color:#0097a7}.widget-overview-box.widget-overview-box-4[_ngcontent-%COMP%]   .overview-title[_ngcontent-%COMP%]{color:#4dd0e1}.card[_ngcontent-%COMP%]{background:#fff;padding:1.25rem;margin-bottom:2rem;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);border-radius:4px}.widget-overview-box.widget-overview-box-1[_ngcontent-%COMP%]   .widget-overview-box[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{display:inline-block;border-radius:4px;width:2em;height:2rem;line-height:2rem;text-align:center;vertical-align:middle}.widget-overview-box[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;line-height:inherit}.widget-overview-box[_ngcontent-%COMP%]   .overview-title[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;vertical-align:middle;margin-left:.5rem}.widget-overview-box[_ngcontent-%COMP%]   .overview-detail[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.widget-overview-box[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]:first-child{border-right:1px solid #dee2e6}.widget-overview-box[_ngcontent-%COMP%]   .overview-detail[_ngcontent-%COMP%]   .p-col-6[_ngcontent-%COMP%]{padding:.5rem}.widget-overview-box[_ngcontent-%COMP%]   .overview-number[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.widget-overview-box[_ngcontent-%COMP%]   .overview-subtext[_ngcontent-%COMP%]{color:#6c757d;font-weight:500;margin-top:.25rem}h4[_ngcontent-%COMP%]:first-child{margin-top:0}.list-group-item[_ngcontent-%COMP%]{padding:.25rem 1.25rem}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]{border:none}"]}),e})();function nt(e,t){if(1&e){const e=c.Qb();c.Nb(0),c.Pb(1,"customer-list",22),c.Zb("edit",function(t){return c.pc(e),c.bc().onCustomerClick(t)}),c.Ob(),c.Mb()}if(2&e){const e=c.bc();c.yb(1),c.hc("customerList",e.customerList)("short",!0)}}function rt(e,t){if(1&e){const e=c.Qb();c.Nb(0),c.Pb(1,"agent-list",23),c.Zb("edit",function(t){return c.pc(e),c.bc().onAgentClick(t)}),c.Ob(),c.Mb()}if(2&e){const e=c.bc();c.yb(1),c.hc("agentList",e.agentList)("short",!0)}}function it(e,t){if(1&e&&(c.Pb(0,"tr"),c.Pb(1,"th",24),c.xc(2),c.cc(3,"numberToBangla"),c.Ob(),c.Pb(4,"td",20),c.xc(5),c.Ob(),c.Pb(6,"td",20),c.xc(7),c.cc(8,"numberToBangla"),c.Ob(),c.Lb(9,"td"),c.Lb(10,"td"),c.Lb(11,"td"),c.Ob()),2&e){const e=t.$implicit,o=t.index;c.yb(2),c.yc(c.dc(3,3,o+1)),c.yb(3),c.zc(" ",e.sr_no," "),c.yb(2),c.zc(" ",c.dc(8,5,e.quantity)," ")}}const ct=function(e,t){return{"btn-primary":e,"btn-light":t}};let st=(()=>{class e{constructor(e,t,o,n){this.inventoryService=e,this.util=t,this.agentService=o,this.customerService=n,this.company_info=X,this.mode="agent",this.inventoryList=[],this.agentList=[],this.customerList=[],this.filteredInventoryList=[],this.total=0,this.year=(new Date).getFullYear(),this.getAgentList(),this.getCustomerList()}ngOnInit(){this.getInventoryByYear(this.year)}getInventoryByYear(e){return Object(a.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.pipe(Object(ee.a)(2)).subscribe(t=>{this.inventoryList=t.filter(t=>t.year==e)})})}getCustomerList(){return Object(a.a)(this,void 0,void 0,function*(){this.customerService.customers$.pipe(Object(ee.a)(2)).subscribe(e=>{this.customerList=e,this.customerList.sort(this.util.dynamicSortObject("priority"))})})}getAgentList(){return Object(a.a)(this,void 0,void 0,function*(){this.agentService.agents$.pipe(Object(ee.a)(2)).subscribe(e=>{this.agentList=e,this.agentList.sort(this.util.dynamicSortObject("name"))})})}onModechange(e){this.mode=e}onCustomerClick(e){this.filteredInventoryList=this.inventoryList.filter(t=>t.customer._id==e),this.calculateTotalQuantity()}onAgentClick(e){this.filteredInventoryList=this.inventoryList.filter(t=>null!=t.agent&&t.agent._id==e),this.calculateTotalQuantity()}calculateTotalQuantity(){let e=0;this.filteredInventoryList.forEach(t=>{e+=t.quantity}),this.total=e}onPrint(){window.print()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(oe.a),c.Kb(b.a),c.Kb(l.a),c.Kb(ae.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-inventory-list"]],decls:51,vars:19,consts:[[1,"page-head","d-print-none"],[1,"container"],[1,"row"],[1,"col-md-4","d-print-none"],[1,"d-flex","justify-content-between"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-sm",3,"ngClass","click"],["type","radio","name","options","id","option1"],["type","radio","name","options","id","option2"],[1,"btn","btn-sm","btn-primary","ml-5",3,"click"],[1,"fa","fa-print"],[4,"ngIf"],[1,"col"],[1,"table","table-bordered","table-sm"],["colspan","7",1,"text-center","pt-3"],["scope","col",2,"width","4%"],["scope","col",1,"text-center",2,"width","15%"],["scope","col",1,"text-center"],["scope","col",1,"text-center",2,"width","20%"],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3"],[3,"customerList","short","edit"],[3,"agentList","short","edit"],["scope","row"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Inventory list\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"div",5),c.Pb(7,"label",6),c.Zb("click",function(){return t.onModechange("agent")}),c.Lb(8,"input",7),c.xc(9," Agent "),c.Ob(),c.Pb(10,"label",6),c.Zb("click",function(){return t.onModechange("party")}),c.Lb(11,"input",8),c.xc(12," Party "),c.Ob(),c.Ob(),c.Pb(13,"button",9),c.Zb("click",function(){return t.onPrint()}),c.Lb(14,"i",10),c.xc(15,"Print"),c.Ob(),c.Ob(),c.vc(16,nt,2,2,"ng-container",11),c.vc(17,rt,2,2,"ng-container",11),c.Ob(),c.Pb(18,"div",12),c.Pb(19,"table",13),c.Pb(20,"thead"),c.Pb(21,"tr"),c.Pb(22,"td",14),c.Pb(23,"h4"),c.xc(24),c.Ob(),c.Pb(25,"h5"),c.xc(26),c.cc(27,"numberToBangla"),c.Ob(),c.Ob(),c.Ob(),c.Pb(28,"tr"),c.Pb(29,"th",15),c.xc(30,"#"),c.Ob(),c.Pb(31,"th",16),c.xc(32,"\u09b2\u099f \u09a8\u0982"),c.Ob(),c.Pb(33,"th",16),c.xc(34,"\u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be "),c.Ob(),c.Pb(35,"th",17),c.xc(36,"\u0996\u09be\u09b2\u09bf \u09ac\u09b8\u09cd\u09a4\u09be "),c.Ob(),c.Pb(37,"th",17),c.xc(38,"\u098b\u09a3\u09c7\u09b0 \u09aa\u09b0\u09bf\u09ae\u09be\u09a3"),c.Ob(),c.Pb(39,"th",18),c.xc(40,"\u09ae\u09a8\u09cd\u09a4\u09ac\u09cd\u09af"),c.Ob(),c.Ob(),c.Ob(),c.Pb(41,"tbody"),c.vc(42,it,12,7,"tr",19),c.Pb(43,"tr"),c.Lb(44,"th"),c.Pb(45,"th",20),c.xc(46,"\u09ae\u09cb\u099f"),c.Ob(),c.Pb(47,"th",20),c.xc(48),c.cc(49,"numberToBangla"),c.Ob(),c.Lb(50,"th",21),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(7),c.hc("ngClass",c.lc(13,ct,"agent"===t.mode,"party"===t.mode)),c.yb(3),c.hc("ngClass",c.lc(16,ct,"party"===t.mode,"agent"===t.mode)),c.yb(6),c.hc("ngIf","party"==t.mode),c.yb(1),c.hc("ngIf","agent"==t.mode),c.yb(7),c.Ac("",t.company_info.name_bd," (",t.company_info.service_bd,")"),c.yb(2),c.zc("\u0996\u09be\u09b2\u09bf \u09ac\u09b8\u09cd\u09a4\u09be \u0993 \u098b\u09a3\u09c7\u09b0 \u09b9\u09bf\u09b8\u09be\u09ac - ",c.dc(27,9,t.year),""),c.yb(16),c.hc("ngForOf",t.filteredInventoryList),c.yb(6),c.zc("",c.dc(49,11,t.total)," \u09ac\u09b8\u09cd\u09a4\u09be"))},directives:[u.l,u.n,u.m,Pe,S],pipes:[ne.a],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-family:SolaimanLipi}td[_ngcontent-%COMP%]{padding:15px}@media print{@page{size[_ngcontent-%COMP%]:A4;padding:15px}}"]}),e})(),at=(()=>{class e{constructor(e,t){this.inventoryService=e,this.activatedRoute=t,this.company=X,this.id=t.snapshot.params.id}ngOnInit(){this.id&&this.getInventory(this.id)}getInventory(e){return Object(a.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.subscribe(t=>{this.inventory=t.find(t=>t._id==e)})})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(oe.a),c.Kb(n.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-inventory-print"]],decls:85,vars:17,consts:[[1,"output"],[1,"receipt"],[1,"head"],[1,"text-center"],[1,"row"],[1,"col-12","text-center"],[1,"border","p-1","strong","rounded"],[1,"col-6"],[1,"col-6","text-right"],[1,"table","table-bordered"],[1,"col-auto"],[1,"col","p-0"],[1,"border-left","col-auto"],[1,"col-auto","pl-0"],[1,"row","mb-3"],[1,"row","mt-5","pt-5"],[1,"border-top"],[1,"col","text-center"],[1,"col-auto","text-right"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.Pb(3,"h3",3),c.xc(4),c.Ob(),c.Pb(5,"h3",3),c.xc(6),c.Ob(),c.Pb(7,"h5",3),c.xc(8),c.Ob(),c.Ob(),c.Pb(9,"div",4),c.Pb(10,"div",5),c.Pb(11,"span",6),c.xc(12,"\u09aa\u09be\u09b0\u09cd\u099f\u09bf \u0995\u09aa\u09bf"),c.Ob(),c.Ob(),c.Ob(),c.Pb(13,"div",4),c.Pb(14,"div",7),c.xc(15),c.Ob(),c.Pb(16,"div",8),c.xc(17),c.cc(18,"date"),c.Ob(),c.Ob(),c.Pb(19,"table",9),c.Pb(20,"tbody"),c.Pb(21,"tr"),c.Pb(22,"td"),c.xc(23,"\u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be "),c.Ob(),c.Pb(24,"td"),c.Pb(25,"strong"),c.xc(26),c.cc(27,"numberToBangla"),c.Ob(),c.Ob(),c.Ob(),c.Pb(28,"tr"),c.Pb(29,"td"),c.xc(30,"\u0986\u09b2\u09c1\u09b0 \u09ac\u09bf\u09ac\u09b0\u09a3 "),c.Ob(),c.Lb(31,"td"),c.Ob(),c.Pb(32,"tr"),c.Pb(33,"td"),c.xc(34," \u09aa\u09cd\u09b0\u09a4\u09bf \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09ad\u09be\u09dc\u09be (\u09eb\u09e6 \u0995\u09c7\u099c\u09bf) "),c.Ob(),c.Lb(35,"td"),c.Ob(),c.Pb(36,"tr"),c.Pb(37,"td"),c.xc(38,"\u098b\u09a3 \u09aa\u09cd\u09b0\u09a6\u09be\u09a8 "),c.Ob(),c.Lb(39,"td"),c.Ob(),c.Pb(40,"tr"),c.Pb(41,"td"),c.xc(42,"\u0996\u09be\u09b2\u09bf \u09ac\u09b8\u09cd\u09a4\u09be \u09aa\u09cd\u09b0\u09a6\u09be\u09a8 "),c.Ob(),c.Lb(43,"td"),c.Ob(),c.Ob(),c.Ob(),c.Pb(44,"div",4),c.Pb(45,"div",10),c.xc(46,"\u09ae\u099c\u09c1\u09a4\u0995\u09be\u09b0\u09c0\u09b0 \u09a8\u09be\u09ae\u0983 "),c.Ob(),c.Pb(47,"div",11),c.Pb(48,"strong"),c.xc(49),c.Ob(),c.Ob(),c.Pb(50,"div",12),c.xc(51,"\u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 "),c.Ob(),c.Pb(52,"div",13),c.Pb(53,"strong"),c.xc(54),c.Ob(),c.Ob(),c.Ob(),c.Pb(55,"div",4),c.Pb(56,"div",10),c.xc(57,"\u09aa\u09bf\u09a4\u09be\u09b0 \u09a8\u09be\u09ae\u0983 "),c.Ob(),c.Pb(58,"div",11),c.Pb(59,"strong"),c.xc(60),c.Ob(),c.Ob(),c.Ob(),c.Pb(61,"div",4),c.Pb(62,"div",10),c.xc(63,"\u09a0\u09bf\u0995\u09be\u09a8\u09be\u0983 "),c.Ob(),c.Pb(64,"div",11),c.Pb(65,"strong"),c.xc(66),c.Ob(),c.Ob(),c.Ob(),c.xc(67,"\x1b "),c.Pb(68,"div",14),c.Pb(69,"div",10),c.xc(70,"\u09ae\u09be\u09b0\u09ab\u09a4\u0983 "),c.Ob(),c.Pb(71,"div",11),c.Pb(72,"strong"),c.xc(73),c.Ob(),c.Ob(),c.Ob(),c.xc(74," \u09ac\u09bf\u0983 \u09a6\u09cd\u09b0\u0983 \u0986\u09b2\u09c1 \u09b8\u0982\u09b0\u0995\u09cd\u09b7\u09a3 \u09aa\u09a4\u09cd\u09b0\u09c7 \u0989\u09b2\u09cd\u09b2\u09c7\u0996\u09bf\u09a4 \u09b2\u099f \u09a8\u0982- \u098f\u09b0 \u0985\u09a8\u09c1\u0995\u09c2\u09b2\u09c7 \u098b\u09a3 \u0997\u09cd\u09b0\u09b9\u09a3 \u09a5\u09be\u0995\u09bf\u09a4\u09c7 \u09aa\u09be\u09b0\u09c7, \u09a4\u09be\u0987 \u0985\u09ab\u09bf\u09b8\u09c7 \u09b8\u09a0\u09bf\u0995 \u09a4\u09a5\u09cd\u09af \u099c\u09be\u09a8\u09bf\u09df\u09be \u0989\u0995\u09cd\u09a4 \u09b2\u099f\u09c7\u09b0 \u0986\u09b2\u09c1 \u0995\u09cd\u09b0\u09df/\u09ac\u09bf\u0995\u09cd\u09b0\u09df \u0995\u09b0\u09be \u09af\u09be\u0987\u09a4\u09c7 \u09aa\u09be\u09b0\u09c7\u0964 \u0985\u09a8\u09cd\u09af\u09a5\u09be\u09df \u0995\u09cd\u09b7\u09a4\u09bf\u0997\u09cd\u09b0\u09b8\u09cd\u09a5 \u09b9\u0987\u09b2\u09c7 \u0995\u09cb\u09ae\u09cd\u09aa\u09be\u09a8\u09bf \u0995\u09cb\u09a8 \u09aa\u09cd\u09b0\u0995\u09be\u09b0 \u09a6\u09cd\u09ac\u09be\u09df-\u09a6\u09be\u09df\u09bf\u09a4\u09cd\u09ac \u09ac\u09b9\u09a8 \u0995\u09b0\u09bf\u09ac\u09c7 \u09a8\u09be\u0964 "),c.Pb(75,"div",15),c.Pb(76,"div",10),c.Pb(77,"span",16),c.xc(78,"\u0997\u09cd\u09b0\u09b9\u09a3\u0995\u09be\u09b0\u09c0\u09b0 \u09b8\u09be\u0995\u09cd\u09b7\u09b0"),c.Ob(),c.Ob(),c.Pb(79,"div",17),c.Pb(80,"span",16),c.xc(81," \u09b8\u09c1\u09aa\u09be\u09b0\u09ad\u09be\u0987\u099c\u09be\u09b0/\u09b9\u09bf\u09b8\u09be\u09ac \u09b0\u0995\u09cd\u09b7\u0995 "),c.Ob(),c.Ob(),c.Pb(82,"div",18),c.Pb(83,"span",16),c.xc(84," \u09ac\u09cd\u09af\u09be\u09ac\u09b8\u09cd\u09a5\u09be\u09aa\u0995"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(4),c.yc(null==t.company?null:t.company.name_bd),c.yb(2),c.yc(null==t.company?null:t.company.service_bd),c.yb(2),c.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),c.yb(7),c.zc("\u09b2\u099f \u09a8\u0982 - ",null==t.inventory?null:t.inventory.sr_no,""),c.yb(2),c.zc("\u09a4\u09be\u09b0\u09bf\u0996 - \x1b",c.ec(18,12,null==t.inventory?null:t.inventory.date.toMillis(),"dd/MM/yyyy"),""),c.yb(9),c.zc("",c.dc(27,15,null==t.inventory?null:t.inventory.quantity)," \u09ac\u09b8\u09cd\u09a4\u09be "),c.yb(23),c.zc(" ",null==t.inventory||null==t.inventory.customer?null:t.inventory.customer.name,""),c.yb(5),c.zc(" ",null==t.inventory||null==t.inventory.customer?null:t.inventory.customer.phone,""),c.yb(6),c.zc(" ",null==t.inventory||null==t.inventory.customer?null:t.inventory.customer.father,""),c.yb(6),c.zc(" ",null==t.inventory||null==t.inventory.customer?null:t.inventory.customer.address,""),c.yb(7),c.zc(" ",null!=t.inventory&&t.inventory.agent?(null==t.inventory||null==t.inventory.agent?null:t.inventory.agent.name)+"["+(null==t.inventory||null==t.inventory.agent?null:t.inventory.agent.phone)+"]":"",""))},pipes:[u.d,ne.a],styles:["[_nghost-%COMP%]{font-family:SolaimanLipi;display:block;background:#e0e0e0}h3[_ngcontent-%COMP%]{text-align:center}.receipt[_ngcontent-%COMP%]{height:8.5in;width:50%;float:left;padding:10px}.output[_ngcontent-%COMP%]{height:8.5in;width:11in;position:absolute;top:50px;left:10px}@media print{.output[_ngcontent-%COMP%]{transform:rotate(90deg);top:1.5in;left:-1.5in}}"]}),e})();var lt=function(e){return e.RECEIVE="RECEIVE",e.DELIVERY="DELIVERY",e}({});function bt(e,t){if(1&e&&(c.Pb(0,"div",32),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function dt(e,t){1&e&&(c.Pb(0,"small",33),c.xc(1,"Vouchar number Required"),c.Ob())}function ut(e,t){1&e&&(c.Pb(0,"small",33),c.xc(1,"Product Name Required"),c.Ob())}function ht(e,t){if(1&e&&(c.Pb(0,"option",34),c.xc(1),c.Ob()),2&e){const e=t.$implicit;c.hc("value",e.key),c.yb(1),c.zc(" ",e.value," ")}}function mt(e,t){1&e&&(c.Pb(0,"small",35),c.xc(1," Year required "),c.Ob())}function gt(e,t){1&e&&(c.Pb(0,"small",35),c.xc(1," SR NO name required "),c.Ob())}function ft(e,t){1&e&&(c.Pb(0,"small",33),c.xc(1,"Party name required "),c.Ob())}function pt(e,t){1&e&&(c.Pb(0,"small",33),c.xc(1,"Agent name required "),c.Ob())}function vt(e,t){1&e&&(c.Pb(0,"small",35),c.xc(1," Product Quantity required "),c.Ob())}function yt(e,t){if(1&e&&(c.Pb(0,"div",35),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let Ot=(()=>{class e{constructor(e,t,o,n){this.fb=e,this.customerService=t,this.agentService=o,this.util=n,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.typeEnum=lt,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.agentList=[],this.searchAgent=e=>e.pipe(Object(we.a)(200),Object(Se.a)(),Object(ke.a)(e=>e.length<2?[]:this.agentList.filter(t=>t.phone.indexOf(e.toLowerCase())>-1).slice(0,10))),this.customerList=[],this.searchCustomer=e=>e.pipe(Object(we.a)(200),Object(Se.a)(),Object(ke.a)(e=>e.length<2?[]:this.customerList.filter(t=>t.phone.indexOf(e.toLowerCase())>-1).slice(0,10))),this.formatter=e=>{if(e)return e.name+"["+e.phone+"]"},this.ngDate=this.util.convertJsDateToNgbDate(new Date),this.createForm(),this.getCustomerList(),this.getAgentList()}ngOnChanges(e){if(e.inventory&&null!=this.inventory){this.form.reset();const e=this.util.convertFireabaseDateToNgbDate(this.inventory.date);console.log(e,e);const t=Object.assign(Object.assign({},this.inventory),{date:e});this.exists=!0,this.form.patchValue(t)}e.vouchar_no&&null!=this.vouchar_no&&this.form.controls.vouchar_no.setValue(this.vouchar_no+1)}getCustomerList(){return Object(a.a)(this,void 0,void 0,function*(){this.customerService.customers$.subscribe(e=>{this.customerList=e,this.customerList.sort(this.util.dynamicSortObject("priority"))})})}getAgentList(){return Object(a.a)(this,void 0,void 0,function*(){this.agentService.agents$.subscribe(e=>{this.agentList=e,this.agentList.sort(this.util.dynamicSortObject("priority"))})})}createForm(){this.form=this.fb.group({inventoryType:["RECEIVE",d.q.required],vouchar_no:[0,d.q.required],date:[this.ngDate,d.q.required],year:[this.ngDate.year,d.q.required],sr_no:["",d.q.required],name:["Potato",d.q.required],customer:["",d.q.required],agent:[""],quantity:["",d.q.required]})}submit(){if(this.form.valid){const e=this.form.value,t=this.util.convertNgbDateToJsDate(e.date);console.log(t);const o=Object.assign(Object.assign({},e),{date:t});this.exists?this.update.emit(o):this.create.emit(o),this.clear()}}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.inventory._id),this.clear()}clear(){this.exists=!1,this.inventory=null,this.errorMessage="",this.form.reset(),this.form.patchValue({inventoryType:"RECEIVE",name:"Potato",vouchar_no:this.vouchar_no+1,date:this.ngDate,year:this.ngDate.year})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b),c.Kb(ae.a),c.Kb(l.a),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["inventory-form"]],inputs:{vouchar_no:"vouchar_no",inventory:"inventory"},outputs:{create:"create",update:"update",delete:"delete"},features:[c.wb],decls:68,vars:23,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","vouchar_no",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","vouchar_no","formControlName","vouchar_no","readonly","",1,"form-control","form-control-sm"],["class","form-text text-danger",4,"ngIf"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","name","formControlName","name","placeholder","Product Name","readonly","",1,"form-control","form-control-sm"],["for","inventoryType",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","inventoryType","formControlName","inventoryType",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","year",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","year","formControlName","year","placeholder","Year",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],[1,"input-group"],["for","date",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["date","ngbDatepicker"],["for","sr_no",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","sr_no","formControlName","sr_no","placeholder","SR Number",1,"form-control","form-control-sm"],["for","customer",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","customer","type","text","formControlName","customer",1,"form-control","form-control-sm",3,"ngbTypeahead","editable","resultFormatter","inputFormatter"],["for","agent",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","agent","type","text","formControlName","agent",1,"form-control","form-control-sm",3,"ngbTypeahead","editable","resultFormatter","inputFormatter"],["for","quantity",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","quantity","formControlName","quantity","placeholder","Product Quantity",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"form-text","text-danger"],[3,"value"],[1,"text-danger"]],template:function(e,t){if(1&e){const e=c.Qb();c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,bt,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"label",4),c.xc(6,"No.*"),c.Ob(),c.Pb(7,"div",5),c.Lb(8,"input",6),c.vc(9,dt,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(10,"div",3),c.Pb(11,"label",8),c.xc(12,"Name*"),c.Ob(),c.Pb(13,"div",5),c.Lb(14,"input",9),c.vc(15,ut,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(16,"div",3),c.Pb(17,"label",10),c.xc(18,"Type*"),c.Ob(),c.Pb(19,"div",5),c.Pb(20,"select",11),c.Pb(21,"option",12),c.xc(22,"Select a Type"),c.Ob(),c.vc(23,ht,2,2,"option",13),c.cc(24,"keyvalue"),c.Ob(),c.Ob(),c.Ob(),c.Pb(25,"div",3),c.Pb(26,"label",14),c.xc(27,"Year*"),c.Ob(),c.Pb(28,"div",5),c.Lb(29,"input",15),c.vc(30,mt,2,0,"small",16),c.Ob(),c.Ob(),c.Pb(31,"div",3),c.Pb(32,"div",17),c.Pb(33,"label",18),c.xc(34,"Date*"),c.Ob(),c.Pb(35,"div",5),c.Pb(36,"input",19,20),c.Zb("click",function(){return c.pc(e),c.oc(37).toggle()}),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(38,"div",3),c.Pb(39,"label",21),c.xc(40,"SR_no*"),c.Ob(),c.Pb(41,"div",5),c.Lb(42,"input",22),c.vc(43,gt,2,0,"small",16),c.Ob(),c.Ob(),c.Pb(44,"div",3),c.Pb(45,"label",23),c.xc(46,"Party*"),c.Ob(),c.Pb(47,"div",5),c.Lb(48,"input",24),c.vc(49,ft,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(50,"div",3),c.Pb(51,"label",25),c.xc(52,"Agent"),c.Ob(),c.Pb(53,"div",5),c.Lb(54,"input",26),c.vc(55,pt,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(56,"div",3),c.Pb(57,"label",27),c.xc(58,"Quantity*"),c.Ob(),c.Pb(59,"div",5),c.Lb(60,"input",28),c.vc(61,vt,2,0,"small",16),c.Ob(),c.Ob(),c.Pb(62,"div",29),c.Pb(63,"button",30),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(64),c.Ob(),c.Pb(65,"button",31),c.Zb("click",function(){return t.clear()}),c.xc(66,"Clear"),c.Ob(),c.Ob(),c.vc(67,yt,2,1,"div",16),c.Ob()}2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," Inventory\n"),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(6),c.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),c.yb(6),c.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),c.yb(8),c.hc("ngForOf",c.dc(24,21,t.typeEnum)),c.yb(7),c.hc("ngIf",t.form.controls.year.errors&&t.form.controls.year.touched),c.yb(13),c.hc("ngIf",t.form.controls.sr_no.errors&&t.form.controls.sr_no.touched),c.yb(5),c.hc("ngbTypeahead",t.searchCustomer)("editable",!1)("resultFormatter",t.formatter)("inputFormatter",t.formatter),c.yb(1),c.hc("ngIf",t.form.controls.customer.errors&&t.form.controls.customer.touched),c.yb(5),c.hc("ngbTypeahead",t.searchAgent)("editable",!1)("resultFormatter",t.formatter)("inputFormatter",t.formatter),c.yb(1),c.hc("ngIf",t.form.controls.agent.errors&&t.form.controls.agent.touched),c.yb(6),c.hc("ngIf",t.form.controls.quantity.errors&&t.form.controls.quantity.touched),c.yb(3),c.yc(t.exists?"Update":"Save"),c.yb(3),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,d.a,d.i,d.c,d.p,d.m,d.r,u.m,d.n,P.f,P.j],pipes:[u.h],styles:[""]}),e})();var Pt=o("lCxQ");function xt(e,t){if(1&e&&(c.Pb(0,"div",9),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage," ")}}let Lt=(()=>{class e{constructor(e,t){this.inventoryService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.inventoryList=[],this.errorMessage="";let o=new Date;this.year=o.getFullYear()}ngOnInit(){this.getInventoryList()}getInventoryList(){return Object(a.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.subscribe(e=>{this.inventoryList=e.filter(e=>e.year==this.year),this.inventoryList.sort(this.util.dynamicSortObject("date"))})})}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){const t=this.inventoryList.find(t=>t.year==e.year&&t.sr_no==e.sr_no);if(console.log(t),t)this.errorMessage="\u098f\u0987 \u098f\u09b8 \u0986\u09b0 \u09a8\u09ae\u09cd\u09ac\u09b0 \u0986\u0997\u09c7\u09a5\u09c7\u0995\u09c7\u0987 \u0986\u099b\u09c7\u0964";else{this.sendingData=!0,Object.keys(e).forEach(t=>void 0===e[t]?delete e[t]:{});const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});yield this.inventoryService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})}})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.inventory.createdAt});yield this.inventoryService.update(this.inventory._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.inventoryService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Inventory Deleting ERROR ! "}),this.clear())})}onEdit(e){this.inventory=this.inventoryList.find(t=>t._id===e)}clear(){this.inventory=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(oe.a),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-inventory"]],decls:10,vars:4,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],["class","alert alert-danger",4,"ngIf"],[3,"inventory","vouchar_no","create","update","delete"],[1,"col-md-8","mt-2"],[3,"inventoryList"],[1,"alert","alert-danger"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Inventory\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.vc(6,xt,2,1,"div",5),c.Pb(7,"inventory-form",6),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(8,"div",7),c.Lb(9,"inventory-table",8),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("inventory",t.inventory)("vouchar_no",t.inventoryList.length),c.yb(2),c.hc("inventoryList",t.inventoryList))},directives:[u.n,Ot,Pt.a],styles:[""]}),e})();var _t=o("r0Oy");function Ct(e,t){1&e&&(c.Pb(0,"h4",19),c.xc(1,"Edit Ledger"),c.Ob())}function wt(e,t){1&e&&(c.Pb(0,"small",20),c.xc(1,"SR No Required"),c.Ob())}function St(e,t){if(1&e&&(c.Pb(0,"div",21),c.Pb(1,"label",22),c.xc(2,"Party"),c.Ob(),c.Pb(3,"div",23),c.xc(4),c.Ob(),c.Pb(5,"div",24),c.xc(6),c.Ob(),c.Pb(7,"div",23),c.xc(8),c.Ob(),c.Ob()),2&e){const e=c.bc();c.yb(4),c.Ac(" ",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.name,"[",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.phone,"]"),c.yb(2),c.zc("C/O: ",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.father,""),c.yb(2),c.zc(" ",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.address,"")}}function kt(e,t){if(1&e){const e=c.Qb();c.Pb(0,"div",8),c.Pb(1,"label",25),c.xc(2,"Loan"),c.Ob(),c.Pb(3,"div"),c.Pb(4,"small"),c.xc(5," Amount "),c.Ob(),c.Pb(6,"input",26),c.Zb("change",function(){return c.pc(e),c.bc().onLoanChange()}),c.Ob(),c.Ob(),c.Pb(7,"div"),c.Pb(8,"small"),c.xc(9," Rate "),c.Ob(),c.Pb(10,"input",27),c.Zb("change",function(){return c.pc(e),c.bc().onLoanChange()}),c.Ob(),c.Ob(),c.Pb(11,"div"),c.Pb(12,"small"),c.xc(13," Profit "),c.Ob(),c.Lb(14,"input",28),c.Ob(),c.Pb(15,"div"),c.Pb(16,"small"),c.xc(17,"Payable "),c.Ob(),c.Lb(18,"input",29),c.Ob(),c.Ob()}}function zt(e,t){if(1&e&&(c.Pb(0,"div",8),c.Pb(1,"label",22),c.xc(2,"Loan"),c.Ob(),c.Pb(3,"div",24),c.xc(4),c.Ob(),c.Pb(5,"div",24),c.xc(6),c.Ob(),c.Pb(7,"div",24),c.xc(8),c.Ob(),c.Ob()),2&e){const e=c.bc();c.yb(4),c.zc(" Amount ",null==e.form.value||null==e.form.value.loan?null:e.form.value.loan.amount,""),c.yb(2),c.zc("Rate ",null==e.form.value||null==e.form.value.loan?null:e.form.value.loan.rate,""),c.yb(2),c.zc("Payable ",null==e.form.value||null==e.form.value.loan?null:e.form.value.loan.payable,"")}}function Dt(e,t){if(1&e){const e=c.Qb();c.Pb(0,"div",8),c.Pb(1,"label",30),c.xc(2,"Product"),c.Ob(),c.Pb(3,"div"),c.Pb(4,"small"),c.xc(5," Quantity "),c.Ob(),c.Lb(6,"input",31),c.Ob(),c.Pb(7,"div"),c.Pb(8,"small"),c.xc(9," Rate "),c.Ob(),c.Pb(10,"input",32),c.Zb("change",function(){return c.pc(e),c.bc().onQuantityChange()}),c.Ob(),c.Ob(),c.Pb(11,"div"),c.Pb(12,"small"),c.xc(13," Amount "),c.Ob(),c.Lb(14,"input",33),c.Ob(),c.Ob()}}function Mt(e,t){if(1&e){const e=c.Qb();c.Pb(0,"div",8),c.Pb(1,"label",34),c.xc(2,"Empty bag"),c.Ob(),c.Pb(3,"div"),c.Pb(4,"small"),c.xc(5," Quantity "),c.Ob(),c.Pb(6,"input",35),c.Zb("change",function(){return c.pc(e),c.bc().onEmptybagChange()}),c.Ob(),c.Ob(),c.Pb(7,"div"),c.Pb(8,"small"),c.xc(9," Rate "),c.Ob(),c.Pb(10,"input",36),c.Zb("change",function(){return c.pc(e),c.bc().onEmptybagChange()}),c.Ob(),c.Ob(),c.Pb(11,"div"),c.Pb(12,"small"),c.xc(13," Amount "),c.Ob(),c.Lb(14,"input",37),c.Ob(),c.Ob()}}function jt(e,t){1&e&&(c.Pb(0,"div",8),c.Pb(1,"label",38),c.xc(2,"Total"),c.Ob(),c.Pb(3,"div"),c.Lb(4,"input",39),c.Ob(),c.Ob())}function qt(e,t){if(1&e&&(c.Pb(0,"div",19),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let It=(()=>{class e{constructor(e,t,o,n){this.fb=e,this.inventoryService=t,this.ledgerService=o,this.util=n,this.exists=!1,this.mouseoverShifting=!1,this.ledgerList=[],this.errorMessage="",this.inventoryList=[],this.searchInventory=e=>e.pipe(Object(we.a)(200),Object(Se.a)(),Object(ke.a)(e=>(e.length<2?[]:this.inventoryList.filter(t=>t.sr_no.indexOf(e.toLowerCase())>-1&&t.year==this.year).slice(0,10)).map(e=>e.sr_no)));let r=new Date;this.year=r.getFullYear(),this.getAllLedger(),this.createForm()}getAllLedger(){return Object(a.a)(this,void 0,void 0,function*(){this.ledgerService.ledgers$.subscribe(e=>{this.ledgerList=e})})}ngOnInit(){this.getInventoryList(this.year)}createForm(){this.form=this.fb.group({sr_no:["",d.q.required],year:[this.year,d.q.required],customer:["",d.q.required],agent:[""],loan_amount:[0],loan_rate:[0],loan_profit:[""],loan_payable:[""],note:[""],quantity:[0,d.q.required],rate:[0,d.q.required],service_amount:[0],emptyBag_quantity:[0],emptyBag_rate:[0],emptyBag_amount:[0],labour_charge:[0],transport_amount:[0],others_amount:[0],advance_amount:[0],total_amount:[0,d.q.required]})}getInventoryList(e){return Object(a.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.subscribe(t=>{this.inventoryList=t.filter(t=>t.year==e)})})}onSelectSRNo(e){return Object(a.a)(this,void 0,void 0,function*(){yield this.ledgerService.ledgers$.pipe(Object(ee.a)(1)).subscribe(t=>{const o=t.find(t=>t.sr_no==e.item);if(o)this.id=o._id,this.exists=!0,this.form.patchValue(o);else{this.exists=!1;const t=this.inventoryList.find(t=>t.sr_no==e.item);this.form.controls.customer.setValue(t.customer),t.agent&&this.form.controls.agent.setValue(t.agent),this.form.controls.agent.setValue(t.agent),this.form.controls.quantity.setValue(t.quantity)}})})}onQuantityChange(){const e=this.form.value;this.form.controls.service_amount.setValue(e.rate*e.quantity),this.calculateTotal()}onEmptybagChange(){const e=this.form.value;this.form.controls.emptyBag_amount.setValue(e.emptyBag_quantity*e.emptyBag_rate),this.calculateTotal()}onLoanChange(){const e=this.form.value,t=e.loan_amount*e.loan_rate/100,o=t+e.loan_amount;this.form.controls.loan_profit.setValue(t),this.form.controls.loan_payable.setValue(o),console.log(this.form.value),this.calculateTotal()}calculateTotal(){const e=this.form.value,t=e.loan_amount?e.loan_payable:0;console.log(e),console.log(t),this.form.controls.total_amount.setValue(e.service_amount+e.emptyBag_amount+t)}submit(){return Object(a.a)(this,void 0,void 0,function*(){if(this.form.valid){const e=this.form.value;Object.keys(e).forEach(t=>void 0===e[t]?delete e[t]:{}),this.exists?yield this.ledgerService.update(this.id,e).then(e=>{this.clear()}).catch(e=>console.log("error",e)):yield this.ledgerService.create(e).then(e=>{this.clear()}).catch(e=>console.log("error",e))}})}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clear(){this.id=null,this.form.reset(),this.form.controls.year.setValue(this.year),this.exists=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b),c.Kb(oe.a),c.Kb(te.a),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-ledger-add"]],decls:32,vars:13,consts:[[1,"page-head"],[1,"container"],[1,"col-12","p-md-0","mt-2"],[1,"border","rounded"],[1,"form-head"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],["class","text-danger",4,"ngIf"],[1,"form-group","row"],[1,"col-auto"],["for","sr_no",1,"d-none","d-sm-block"],["id","sr_no","type","text","formControlName","sr_no",1,"form-control","form-control-sm",3,"ngbTypeahead","editable","selectItem"],["class","form-text text-danger",4,"ngIf"],["type","number","id","year","formControlName","year","placeholder","Year",1,"form-control","form-control-sm"],["class","col-auto","style","max-width: 200px;",4,"ngIf"],["class","col-auto",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[3,"ledgerList"],[1,"text-danger"],[1,"form-text","text-danger"],[1,"col-auto",2,"max-width","200px"],["for","customer",1,"d-none","d-sm-block"],[1,"form-control","form-control-sm",2,"height","auto","min-height","2rem"],[1,"form-control","form-control-sm"],["for","loan",1,"d-none","d-sm-block"],["type","number","id","loan_amount","formControlName","loan_amount",1,"form-control","form-control-sm",3,"change"],["type","number","id","loan_rate","formControlName","loan_rate",1,"form-control","form-control-sm",3,"change"],["type","number","id","loan_profit","formControlName","loan_profit","readonly","",1,"form-control","form-control-sm"],["type","number","id","loan_payable","formControlName","loan_payable","readonly","",1,"form-control","form-control-sm"],["for","product",1,"d-none","d-sm-block"],["type","number","id","quantity","formControlName","quantity","readonly","",1,"form-control","form-control-sm"],["type","number","id","rate","formControlName","rate",1,"form-control","form-control-sm",3,"change"],["type","number","id","service_amount","formControlName","service_amount","readonly","",1,"form-control","form-control-sm"],["for","rate",1,"d-none","d-sm-block"],["type","number","id","emptyBag_quantity","formControlName","emptyBag_quantity",1,"form-control","form-control-sm",3,"change"],["type","number","id","emptyBag_rate","formControlName","emptyBag_rate",1,"form-control","form-control-sm",3,"change"],["type","number","id","emptyBag_amount","formControlName","emptyBag_amount","readonly","",1,"form-control","form-control-sm"],["for","total",1,"d-none","d-sm-block"],["type","number","id","total_amount","formControlName","total_amount","readonly","",1,"form-control","form-control-sm"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Add Ledger\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.xc(6," New Ledger "),c.Ob(),c.Pb(7,"form",5),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.vc(8,Ct,2,0,"h4",6),c.Pb(9,"div",7),c.Pb(10,"div",8),c.Pb(11,"label",9),c.xc(12,"SR No*"),c.Ob(),c.Pb(13,"input",10),c.Zb("selectItem",function(e){return t.onSelectSRNo(e)}),c.Ob(),c.vc(14,wt,2,0,"small",11),c.Pb(15,"label",9),c.xc(16,"Year*"),c.Ob(),c.Lb(17,"input",12),c.Ob(),c.vc(18,St,9,4,"div",13),c.vc(19,kt,19,0,"div",14),c.vc(20,zt,9,3,"div",14),c.vc(21,Dt,15,0,"div",14),c.vc(22,Mt,15,0,"div",14),c.vc(23,jt,5,0,"div",14),c.Ob(),c.Pb(24,"div",15),c.Pb(25,"button",16),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(26,"Save"),c.Ob(),c.Pb(27,"button",17),c.Zb("click",function(){return t.clear()}),c.xc(28,"Clear"),c.Ob(),c.Ob(),c.vc(29,qt,2,1,"div",6),c.Ob(),c.Ob(),c.Ob(),c.Pb(30,"div",2),c.Lb(31,"ledger-list",18),c.Ob(),c.Ob()),2&e&&(c.yb(7),c.hc("formGroup",t.form),c.yb(1),c.hc("ngIf",t.exists),c.yb(5),c.hc("ngbTypeahead",t.searchInventory)("editable",!1),c.yb(1),c.hc("ngIf",t.form.controls.sr_no.errors&&t.form.controls.sr_no.touched),c.yb(4),c.hc("ngIf",t.form.value.customer),c.yb(1),c.hc("ngIf",t.form.value.customer),c.yb(1),c.hc("ngIf",t.form.value.loan),c.yb(1),c.hc("ngIf",t.form.value.customer),c.yb(1),c.hc("ngIf",t.form.value.customer),c.yb(1),c.hc("ngIf",t.form.value.customer),c.yb(6),c.hc("ngIf",t.mouseoverShifting),c.yb(2),c.hc("ledgerList",t.ledgerList))},directives:[d.s,d.j,d.d,u.n,d.a,P.j,d.i,d.c,d.n,_t.a],styles:[""]}),e})(),Et=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["app-ledger"]],decls:2,vars:0,template:function(e,t){1&e&&(c.Pb(0,"p"),c.xc(1,"ledger works!"),c.Ob())},styles:[""]}),e})();var Ft=o("RoWp");function Nt(e,t){if(1&e&&(c.Pb(0,"div",22),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function Vt(e,t){if(1&e&&(c.Pb(0,"option",23),c.cc(1,"json"),c.xc(2),c.Ob()),2&e){const e=t.$implicit;c.hc("value",c.dc(1,2,e)),c.yb(2),c.zc(" ",e.name," ")}}function Rt(e,t){if(1&e&&(c.Pb(0,"option",24),c.xc(1),c.Ob()),2&e){const e=t.$implicit;c.hc("ngValue",e),c.yb(1),c.zc(" ",e.name," ")}}function At(e,t){1&e&&(c.Pb(0,"small",25),c.xc(1,"Line Name Required"),c.Ob())}function Zt(e,t){1&e&&(c.Pb(0,"small",25),c.xc(1,"Line capacity required"),c.Ob())}function Bt(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",20),c.Zb("click",function(){return c.pc(e),c.bc().onDelete()}),c.xc(1,"Delete"),c.Ob()}}function Tt(e,t){if(1&e&&(c.Pb(0,"div",26),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let Ut=(()=>{class e{constructor(e){this.fb=e,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.clear=new c.n,this.selectChamber=new c.n,this.errorMessage="",this.showForm=!1,this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){if(e.line&&null!=this.line){this.form.reset();const e=this.chamberList.find(e=>e._id==this.line.chamber._id);this.form.patchValue({chamber:e}),this.selectChamber.emit(e._id)}if(e.floorList&&this.line&&null!=this.line._id){const e=this.floorList.find(e=>e._id==this.line.floor._id),t=Object.assign(Object.assign({},this.line),{floor:e});delete t.chamber,this.exists=!0,this.showForm=!0,this.form.patchValue(t)}}createForm(){this.form=this.fb.group({chamber:["",d.q.required],floor:["",d.q.required],name:["",d.q.required],capacity:["",d.q.required]})}onChamberChange(e){const t=JSON.parse(e.target.value);this.form.controls.chamber.setValue(t),this.selectChamber.emit(t._id)}onSelectFlorr(e){e.value._id&&(this.showForm=!0)}submit(){if(this.form.valid){const e=this.form.value;console.log(e);const t={_id:e.chamber._id,name:e.chamber.name,slug:e.chamber.slug},o={_id:e.floor._id,name:e.floor.name,slug:e.floor.slug},n=Object.assign(Object.assign({},this.form.value),{chamber:t,floor:o});this.exists?this.update.emit(n):this.create.emit(n),this.clean()}}onDelete(){this.delete.emit(this.line._id),this.clean()}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clean(){this.exists=!1,this.showForm=!1,this.floorList=null,this.line=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["line-form"]],inputs:{line:"line",floorList:"floorList",chamberList:"chamberList"},outputs:{create:"create",update:"update",delete:"delete",clear:"clear",selectChamber:"selectChamber"},features:[c.wb],decls:39,vars:10,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","chamber",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["id","chamber",1,"form-control","form-control-sm",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","floor",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","floor","formControlName","floor",1,"form-control","form-control-sm"],[3,"ngValue",4,"ngFor","ngForOf"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","name","formControlName","name","placeholder","Line Name",1,"form-control","form-control-sm"],["id","nameHelp","class","form-text text-danger",4,"ngIf"],["for","capacity",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","capacity","formControlName","capacity","placeholder","Line capacity",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"],[3,"ngValue"],["id","nameHelp",1,"form-text","text-danger"],[1,"text-danger"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,Nt,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"label",4),c.xc(6,"Chamber"),c.Ob(),c.Pb(7,"div",5),c.Pb(8,"select",6),c.Zb("change",function(e){return t.onChamberChange(e)}),c.Pb(9,"option",7),c.xc(10,"Select a chamber"),c.Ob(),c.vc(11,Vt,3,4,"option",8),c.Ob(),c.Ob(),c.Ob(),c.Pb(12,"div",3),c.Pb(13,"label",9),c.xc(14,"Floor"),c.Ob(),c.Pb(15,"div",5),c.Pb(16,"select",10),c.Pb(17,"option",7),c.xc(18,"Select a floor"),c.Ob(),c.vc(19,Rt,2,2,"option",11),c.Ob(),c.Ob(),c.Ob(),c.Pb(20,"div",3),c.Pb(21,"label",12),c.xc(22,"Name"),c.Ob(),c.Pb(23,"div",5),c.Lb(24,"input",13),c.vc(25,At,2,0,"small",14),c.Ob(),c.Ob(),c.Pb(26,"div",3),c.Pb(27,"label",15),c.xc(28,"Capacity"),c.Ob(),c.Pb(29,"div",5),c.Lb(30,"input",16),c.vc(31,Zt,2,0,"small",14),c.Ob(),c.Ob(),c.Pb(32,"div",17),c.Pb(33,"button",18),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(34),c.Ob(),c.vc(35,Bt,2,0,"button",19),c.Pb(36,"button",20),c.Zb("click",function(){return t.clean()}),c.xc(37,"Clear"),c.Ob(),c.Ob(),c.vc(38,Tt,2,1,"div",21),c.Ob()),2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," Line\n"),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(8),c.hc("ngForOf",t.chamberList),c.yb(8),c.hc("ngForOf",t.floorList),c.yb(6),c.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),c.yb(6),c.hc("ngIf",t.form.controls.capacity.errors&&t.form.controls.capacity.touched),c.yb(3),c.yc(t.exists?"Update":"Save"),c.yb(1),c.hc("ngIf",t.exists),c.yb(3),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,d.m,d.r,u.m,d.p,d.i,d.c,d.a,d.n],pipes:[u.g],styles:[""],changeDetection:0}),e})();function $t(e,t){if(1&e){const e=c.Qb();c.Pb(0,"tr"),c.Pb(1,"th",15),c.xc(2),c.Ob(),c.Pb(3,"td"),c.xc(4),c.Ob(),c.Pb(5,"td"),c.xc(6),c.Ob(),c.Pb(7,"td"),c.xc(8),c.Ob(),c.Pb(9,"td"),c.xc(10),c.Ob(),c.Pb(11,"td"),c.Pb(12,"a",16),c.Zb("click",function(){c.pc(e);const o=t.$implicit;return c.bc().onEdit(o._id)}),c.xc(13,"Edit"),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=t.$implicit,o=t.index;c.yb(2),c.yc(o+1),c.yb(2),c.yc(e.chamber.name),c.yb(2),c.yc(e.floor.name),c.yb(2),c.zc("",e.name," "),c.yb(2),c.yc(e.capacity)}}let Kt=(()=>{class e{constructor(e,t,o,n,r){this.chamberService=e,this.floorService=t,this.lineService=o,this.util=n,this.cdr=r,this.sendingData=!1,this.loadingData=!1,this.page=1,this.pageSize=8,this.linePage=[],this.errorMessage=""}ngOnInit(){this.getChamberList(),this.getLineList()}ngAfterContentChecked(){this.cdr.detectChanges()}getChamberList(){return Object(a.a)(this,void 0,void 0,function*(){this.chamberService.chambers$.subscribe(e=>{this.chamberList=e,this.chamberList.sort(this.util.dynamicSortObject("priority"))})})}getFloorList(e){return Object(a.a)(this,void 0,void 0,function*(){this.floorService.floors$.subscribe(t=>{this.floorList=t.filter(t=>t.chamber._id==e),this.floorList.sort(this.util.dynamicSortObject("priority"))})})}getLineList(){return Object(a.a)(this,void 0,void 0,function*(){this.lineService.lines$.subscribe(e=>{this.lineList=e,this.lineList.sort(this.util.dynamicSortObject("priority")),this.refreshLine()})})}refreshLine(){this.linePage=this.lineList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});yield this.lineService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.line.createdAt});yield this.lineService.update(this.line._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.lineService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Line Deleting ERROR ! "}),this.clear())})}onEdit(e){this.line=this.lineList.find(t=>t._id===e)}clear(){this.line=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(z.a),c.Kb(Ue.a),c.Kb(Ft.a),c.Kb(b.a),c.Kb(c.h))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-line"]],decls:37,vars:11,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"line","chamberList","floorList","create","update","delete","selectChamber"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","6",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Line\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"line-form",5),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)})("selectChamber",function(e){return t.getFloorList(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",6),c.Pb(8,"table",7),c.Pb(9,"thead"),c.Pb(10,"tr"),c.Pb(11,"td",8),c.xc(12," Line List "),c.Ob(),c.Ob(),c.Pb(13,"tr"),c.Pb(14,"th",9),c.xc(15,"#"),c.Ob(),c.Pb(16,"th",9),c.xc(17,"Chamber"),c.Ob(),c.Pb(18,"th",9),c.xc(19,"Floor"),c.Ob(),c.Pb(20,"th",9),c.xc(21,"Name"),c.Ob(),c.Pb(22,"th",9),c.xc(23,"Capacity"),c.Ob(),c.Pb(24,"th",9),c.xc(25,"Action"),c.Ob(),c.Ob(),c.Ob(),c.Pb(26,"tbody"),c.vc(27,$t,14,5,"tr",10),c.Ob(),c.Ob(),c.Pb(28,"div",11),c.Pb(29,"ngb-pagination",12),c.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshLine()}),c.Ob(),c.Pb(30,"select",13),c.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshLine()}),c.Pb(31,"option",14),c.xc(32,"4/Page"),c.Ob(),c.Pb(33,"option",14),c.xc(34,"8/Page"),c.Ob(),c.Pb(35,"option",14),c.xc(36,"16/Page"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("line",t.line)("chamberList",t.chamberList)("floorList",t.floorList),c.yb(21),c.hc("ngForOf",t.linePage),c.yb(2),c.hc("collectionSize",t.lineList.length)("page",t.page)("pageSize",t.pageSize),c.yb(1),c.hc("ngModel",t.pageSize),c.yb(1),c.hc("ngValue",4),c.yb(2),c.hc("ngValue",8),c.yb(2),c.hc("ngValue",16))},directives:[Ut,u.m,P.i,d.p,d.i,d.l,d.m,d.r],styles:[""]}),e})();var Qt=o("7RJT"),Gt=o("q3Kh"),Yt=o("I/3d");let Jt=(()=>{class e{constructor(e){this.afs=e,this.serviceUrl="loan",this._loanSource=new Qt.BehaviorSubject([]),this.loans$=this._loanSource.asObservable(),this.loans=[],this.getAndStoreAll()}create(e){return delete e._id,e.createdAt=new Date,this.afs.collection(this.serviceUrl).add(Object.assign({},e))}getAndStoreAll(){return this.afs.collection(this.serviceUrl,e=>e.orderBy("sr_no")).snapshotChanges().subscribe(e=>{this.loans=[],e.forEach(e=>{let t=e.payload.doc.data();t._id=e.payload.doc.id,this.loans.push(t)}),this._loanSource.next(this.loans)})}getAll(){return this.afs.collection(this.serviceUrl,e=>e.orderBy("sr_no")).snapshotChanges().pipe(Object(Gt.map)(e=>e.map(e=>{const t=e.payload.doc.data();return Object.assign({id:e.payload.doc.id},t)})))}get(e){return this.afs.doc(this.serviceUrl+"/"+e).valueChanges()}update(e,t){return delete t._id,this.afs.doc(this.serviceUrl+"/"+e).update(Object.assign({},t))}delete(e){return this.afs.doc(this.serviceUrl+"/"+e).delete()}}return e.\u0275fac=function(t){return new(t||e)(c.Wb(Yt.a))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Wt(e,t){if(1&e&&(c.Pb(0,"div",27),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function Ht(e,t){1&e&&(c.Pb(0,"small",28),c.xc(1," Year required "),c.Ob())}function Xt(e,t){1&e&&(c.Pb(0,"small",29),c.xc(1,"SR No Required"),c.Ob())}function eo(e,t){1&e&&(c.Pb(0,"small",28),c.xc(1," Loan amount required "),c.Ob())}function to(e,t){1&e&&(c.Pb(0,"small",28),c.xc(1," Loan amount required "),c.Ob())}function oo(e,t){1&e&&(c.Pb(0,"small",28),c.xc(1," Loan profit required "),c.Ob())}function no(e,t){1&e&&(c.Pb(0,"small",28),c.xc(1," Loan payable required "),c.Ob())}function ro(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",26),c.Zb("click",function(){return c.pc(e),c.bc().onDelete()}),c.xc(1,"Delete"),c.Ob()}}function io(e,t){if(1&e&&(c.Pb(0,"div",28),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let co=(()=>{class e{constructor(e,t,o){this.fb=e,this.util=t,this.inventoryService=o,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.searchInventory=e=>e.pipe(Object(we.a)(200),Object(Se.a)(),Object(ke.a)(e=>(e.length<2?[]:this.inventoryList.filter(t=>t.sr_no.indexOf(e.toLowerCase())>-1).slice(0,10)).map(e=>e.sr_no))),this.ngDate=this.util.convertJsDateToNgbDate(new Date),this.createForm(),this.getInventoryList()}ngOnChanges(e){e.loan&&null!=this.loan&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.loan))}getInventoryList(){return Object(a.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.subscribe(e=>{this.inventoryList=e.filter(e=>e.year=this.ngDate.year)})})}createForm(){this.form=this.fb.group({date:[this.ngDate,d.q.required],year:[this.ngDate.year,d.q.required],sr_no:["",d.q.required],amount:[0,d.q.required],rate:[0,d.q.required],payable:[0,d.q.required],profit:[0,d.q.required]})}submit(){if(this.form.valid){const e=this.form.value,t=this.util.convertNgbDateToJsDate(e.date),o=Object.assign(Object.assign({},e),{date:t});this.exists?this.update.emit(o):this.create.emit(o),this.clear()}}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}calculateLoan(){const e=this.form.value,t=e.rate*e.amount/100,o=e.amount+t;this.form.controls.profit.setValue(t),this.form.controls.payable.setValue(o)}onDelete(){this.delete.emit(this.loan._id),this.clear()}clear(){this.exists=!1,this.loan=null,this.errorMessage="",this.form.reset(),this.form.controls.date.setValue(this.ngDate)}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b),c.Kb(b.a),c.Kb(oe.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["loan-form"]],inputs:{loan:"loan"},outputs:{create:"create",update:"update",delete:"delete"},features:[c.wb],decls:54,vars:14,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],[1,"input-group"],["for","date",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["date","ngbDatepicker"],["for","year",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","year","formControlName","year","placeholder","Year",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","sr_no",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","sr_no","type","text","formControlName","sr_no",1,"form-control","form-control-sm",3,"ngbTypeahead","editable"],["class","form-text text-danger",4,"ngIf"],["for","amount",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","amount","formControlName","amount","placeholder","Loan amount",1,"form-control","form-control-sm",3,"change"],["for","rate",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","rate","formControlName","rate","placeholder","Loan rate",1,"form-control","form-control-sm",3,"change"],["for","profit",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","profit","formControlName","profit","placeholder","Loan profit","readonly","",1,"form-control","form-control-sm"],["for","payable",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","payable","formControlName","payable","placeholder","Loan payable","readonly","",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"text-danger"],[1,"form-text","text-danger"]],template:function(e,t){if(1&e){const e=c.Qb();c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,Wt,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"label",5),c.xc(7,"Date*"),c.Ob(),c.Pb(8,"div",6),c.Pb(9,"input",7,8),c.Zb("click",function(){return c.pc(e),c.oc(10).toggle()}),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(11,"div",3),c.Pb(12,"label",9),c.xc(13,"Year*"),c.Ob(),c.Pb(14,"div",6),c.Lb(15,"input",10),c.vc(16,Ht,2,0,"small",11),c.Ob(),c.Ob(),c.Pb(17,"div",3),c.Pb(18,"label",12),c.xc(19,"SR No*"),c.Ob(),c.Pb(20,"div",6),c.Lb(21,"input",13),c.vc(22,Xt,2,0,"small",14),c.Ob(),c.Ob(),c.Pb(23,"div",3),c.Pb(24,"label",15),c.xc(25,"Amount*"),c.Ob(),c.Pb(26,"div",6),c.Pb(27,"input",16),c.Zb("change",function(){return t.calculateLoan()}),c.Ob(),c.vc(28,eo,2,0,"small",11),c.Ob(),c.Ob(),c.Pb(29,"div",3),c.Pb(30,"label",17),c.xc(31,"Rate*"),c.Ob(),c.Pb(32,"div",6),c.Pb(33,"input",18),c.Zb("change",function(){return t.calculateLoan()}),c.Ob(),c.vc(34,to,2,0,"small",11),c.Ob(),c.Ob(),c.Pb(35,"div",3),c.Pb(36,"label",19),c.xc(37,"Profit"),c.Ob(),c.Pb(38,"div",6),c.Lb(39,"input",20),c.vc(40,oo,2,0,"small",11),c.Ob(),c.Ob(),c.Pb(41,"div",3),c.Pb(42,"label",21),c.xc(43,"Payable"),c.Ob(),c.Pb(44,"div",6),c.Lb(45,"input",22),c.vc(46,no,2,0,"small",11),c.Ob(),c.Ob(),c.Pb(47,"div",23),c.Pb(48,"button",24),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(49),c.Ob(),c.vc(50,ro,2,0,"button",25),c.Pb(51,"button",26),c.Zb("click",function(){return t.clear()}),c.xc(52,"Clear"),c.Ob(),c.Ob(),c.vc(53,io,2,1,"div",11),c.Ob()}2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," Loan\n"),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(13),c.hc("ngIf",t.form.controls.year.errors&&t.form.controls.year.touched),c.yb(5),c.hc("ngbTypeahead",t.searchInventory)("editable",!1),c.yb(1),c.hc("ngIf",t.form.controls.sr_no.errors&&t.form.controls.sr_no.touched),c.yb(6),c.hc("ngIf",t.form.controls.amount.errors&&t.form.controls.amount.touched),c.yb(6),c.hc("ngIf",t.form.controls.rate.errors&&t.form.controls.rate.touched),c.yb(6),c.hc("ngIf",t.form.controls.profit.errors&&t.form.controls.profit.touched),c.yb(6),c.hc("ngIf",t.form.controls.payable.errors&&t.form.controls.payable.touched),c.yb(3),c.yc(t.exists?"Update":"Save"),c.yb(1),c.hc("ngIf",t.exists),c.yb(3),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,P.f,d.a,d.i,d.c,d.n,P.j],styles:[""]}),e})();function so(e,t){if(1&e&&(c.Pb(0,"tr"),c.Pb(1,"th",16),c.xc(2),c.Ob(),c.Pb(3,"td"),c.xc(4),c.Ob(),c.Pb(5,"td",17),c.xc(6),c.Ob(),c.Pb(7,"td",17),c.xc(8),c.Ob(),c.Pb(9,"td",17),c.xc(10),c.Ob(),c.Pb(11,"td",17),c.xc(12),c.Ob(),c.Ob()),2&e){const e=t.$implicit,o=t.index;c.yb(2),c.yc(o+1),c.yb(2),c.zc(" ",e.sr_no," "),c.yb(2),c.zc(" ",e.amount," "),c.yb(2),c.zc(" ",e.rate," "),c.yb(2),c.zc(" ",e.profit," "),c.yb(2),c.zc(" ",e.payable," ")}}let ao=(()=>{class e{constructor(e,t){this.loanService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.loanList=[],this.page=1,this.pageSize=8,this.loanPage=[],this.errorMessage=""}ngOnInit(){this.getLoanList()}getLoanList(){return Object(a.a)(this,void 0,void 0,function*(){this.loanService.loans$.subscribe(e=>{this.loanList=e,this.loanList.sort(this.util.dynamicSortObject("sr_no")),this.refreshLoan()})})}refreshLoan(){this.loanPage=this.loanList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign({},e);yield this.loanService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{createdAt:this.loan.createdAt});yield this.loanService.update(this.loan._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.loanService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Loan Deleting ERROR ! "}),this.clear())})}onEdit(e){this.loan=this.loanList.find(t=>t._id===e)}clear(){this.loan=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(Jt),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-loan"]],decls:37,vars:9,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"loan","create","update","delete"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","6",1,"form-head"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"text-right"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Loan\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"loan-form",5),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",6),c.Pb(8,"table",7),c.Pb(9,"thead"),c.Pb(10,"tr"),c.Pb(11,"td",8),c.xc(12," Loan List "),c.Ob(),c.Ob(),c.Pb(13,"tr"),c.Pb(14,"th",9),c.xc(15,"#"),c.Ob(),c.Pb(16,"th",9),c.xc(17,"SR No"),c.Ob(),c.Pb(18,"th",10),c.xc(19,"Amount"),c.Ob(),c.Pb(20,"th",10),c.xc(21,"Rate"),c.Ob(),c.Pb(22,"th",10),c.xc(23,"Profit"),c.Ob(),c.Pb(24,"th",10),c.xc(25,"Payable"),c.Ob(),c.Ob(),c.Ob(),c.Pb(26,"tbody"),c.vc(27,so,13,6,"tr",11),c.Ob(),c.Ob(),c.Pb(28,"div",12),c.Pb(29,"ngb-pagination",13),c.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshLoan()}),c.Ob(),c.Pb(30,"select",14),c.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshLoan()}),c.Pb(31,"option",15),c.xc(32,"4/Page"),c.Ob(),c.Pb(33,"option",15),c.xc(34,"8/Page"),c.Ob(),c.Pb(35,"option",15),c.xc(36,"16/Page"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("loan",t.loan),c.yb(21),c.hc("ngForOf",t.loanPage),c.yb(2),c.hc("collectionSize",t.loanList.length)("page",t.page)("pageSize",t.pageSize),c.yb(1),c.hc("ngModel",t.pageSize),c.yb(1),c.hc("ngValue",4),c.yb(2),c.hc("ngValue",8),c.yb(2),c.hc("ngValue",16))},directives:[co,u.m,P.i,d.p,d.i,d.l,d.m,d.r],styles:[""]}),e})();var lo=o("R+I6"),bo=o("SJrw");function uo(e,t){if(1&e&&(c.Pb(0,"div",29),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function ho(e,t){1&e&&(c.Pb(0,"small",30),c.xc(1," Year required "),c.Ob())}function mo(e,t){1&e&&(c.Pb(0,"small",31),c.xc(1,"SR No Required"),c.Ob())}function go(e,t){if(1&e&&(c.Pb(0,"option",32),c.cc(1,"json"),c.xc(2),c.Ob()),2&e){const e=t.$implicit;c.hc("value",c.dc(1,2,e)),c.yb(2),c.zc(" ",e.name," ")}}function fo(e,t){if(1&e&&(c.Pb(0,"option",32),c.cc(1,"json"),c.xc(2),c.Ob()),2&e){const e=t.$implicit;c.hc("value",c.dc(1,2,e)),c.yb(2),c.zc(" ",e.name," ")}}function po(e,t){if(1&e&&(c.Pb(0,"option",32),c.cc(1,"json"),c.xc(2),c.Ob()),2&e){const e=t.$implicit;c.hc("value",c.dc(1,2,e)),c.yb(2),c.zc(" ",e.name," ")}}function vo(e,t){if(1&e&&(c.Pb(0,"option",33),c.xc(1),c.Ob()),2&e){const e=t.$implicit;c.hc("ngValue",e),c.yb(1),c.zc(" ",e.name," ")}}function yo(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",28),c.Zb("click",function(){return c.pc(e),c.bc().onDelete()}),c.xc(1,"Delete"),c.Ob()}}function Oo(e,t){if(1&e&&(c.Pb(0,"div",30),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let Po=(()=>{class e{constructor(e,t,o){this.fb=e,this.inventoryService=t,this.util=o,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.clear=new c.n,this.selectChamber=new c.n,this.selectFloor=new c.n,this.selectLine=new c.n,this.errorMessage="",this.showForm=!1,this.exists=!1,this.mouseoverShifting=!1,this.searchInventory=e=>e.pipe(Object(we.a)(200),Object(Se.a)(),Object(ke.a)(e=>(e.length<2?[]:this.inventoryList.filter(t=>t.sr_no.indexOf(e.toLowerCase())>-1&&t.year==this.ngDate.year).slice(0,10)).map(e=>e.sr_no))),this.ngDate=this.util.convertJsDateToNgbDate(new Date),this.createForm(),this.getInventoryList()}getInventoryList(){return Object(a.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.subscribe(e=>{this.inventoryList=e})})}ngOnChanges(e){if(e.pallot&&null!=this.pallot){this.form.reset();const e=this.chamberList.find(e=>e._id==this.pallot.chamber._id);this.form.patchValue({chamber:e}),this.selectChamber.emit(e._id)}if(e.floorList&&this.pallot&&null!=this.pallot._id){const e=this.floorList.find(e=>e._id==this.pallot.floor._id);this.form.patchValue({floor:e}),this.selectFloor.emit(e._id)}if(e.lineList&&this.pallot&&null!=this.pallot._id){const e=this.lineList.find(e=>e._id==this.pallot.line._id),t=Object.assign(Object.assign({},this.pallot),{line:e});delete t.chamber,delete t.floor,this.exists=!0,this.showForm=!0,this.form.patchValue(t)}}createForm(){this.form=this.fb.group({date:[this.ngDate,d.q.required],year:[this.ngDate.year,d.q.required],chamber:["",d.q.required],floor:["",d.q.required],line:["",d.q.required],pocket:["",d.q.required],sr_no:["",d.q.required]})}onChamberChange(e){const t=JSON.parse(e.target.value);this.form.controls.chamber.setValue(t),this.selectChamber.emit(t._id)}onFloorChange(e){const t=JSON.parse(e.target.value);this.form.controls.floor.setValue(t),console.log(t),this.selectFloor.emit(t._id)}onLineChange(e){console.log(e.target.value);const t=JSON.parse(e.target.value);this.form.controls.line.setValue(t),this.selectLine.emit(t._id)}onSelectLine(e){e.value._id&&(this.showForm=!0)}submit(){if(this.form.valid){const e=this.form.value,t={_id:e.chamber._id,name:e.chamber.name},o={_id:e.floor._id,name:e.floor.name},n={_id:e.line._id,name:e.line.name},r={_id:e.pocket._id,name:e.pocket.name},i=this.util.convertNgbDateToJsDate(e.date),c=Object.assign(Object.assign({},this.form.value),{chamber:t,floor:o,line:n,date:i,pocket:r});this.exists?this.update.emit(c):this.create.emit(c),this.clean()}}onDelete(){this.delete.emit(this.pallot._id),this.clean()}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clean(){this.exists=!1,this.showForm=!1,this.floorList=null,this.lineList=null,this.pallot=null,this.errorMessage="",this.form.reset(),this.form.reset({date:this.ngDate,year:this.ngDate.year})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b),c.Kb(oe.a),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["pallot-form"]],inputs:{pallot:"pallot",lineList:"lineList",floorList:"floorList",pocketList:"pocketList",chamberList:"chamberList"},outputs:{create:"create",update:"update",delete:"delete",clear:"clear",selectChamber:"selectChamber",selectFloor:"selectFloor",selectLine:"selectLine"},features:[c.wb],decls:62,vars:14,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],[1,"input-group"],["for","date",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["date","ngbDatepicker"],["for","year",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","year","formControlName","year","placeholder","Year",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","sr_no",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","sr_no","type","text","formControlName","sr_no",1,"form-control","form-control-sm",3,"ngbTypeahead","editable"],["class","form-text text-danger",4,"ngIf"],["for","chamber",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","chamber",1,"form-control","form-control-sm",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","floor",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","floor",1,"form-control","form-control-sm",3,"change"],["for","line",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","line",1,"form-control","form-control-sm",3,"change"],["id","pocket","formControlName","pocket",1,"form-control","form-control-sm"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"text-danger"],[1,"form-text","text-danger"],[3,"value"],[3,"ngValue"]],template:function(e,t){if(1&e){const e=c.Qb();c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,uo,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"label",5),c.xc(7,"Date*"),c.Ob(),c.Pb(8,"div",6),c.Pb(9,"input",7,8),c.Zb("click",function(){return c.pc(e),c.oc(10).toggle()}),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(11,"div",3),c.Pb(12,"label",9),c.xc(13,"Year*"),c.Ob(),c.Pb(14,"div",6),c.Lb(15,"input",10),c.vc(16,ho,2,0,"small",11),c.Ob(),c.Ob(),c.Pb(17,"div",3),c.Pb(18,"label",12),c.xc(19,"SR No*"),c.Ob(),c.Pb(20,"div",6),c.Lb(21,"input",13),c.vc(22,mo,2,0,"small",14),c.Ob(),c.Ob(),c.Pb(23,"div",3),c.Pb(24,"label",15),c.xc(25,"Chamber"),c.Ob(),c.Pb(26,"div",6),c.Pb(27,"select",16),c.Zb("change",function(e){return t.onChamberChange(e)}),c.Pb(28,"option",17),c.xc(29,"Select a chamber"),c.Ob(),c.vc(30,go,3,4,"option",18),c.Ob(),c.Ob(),c.Ob(),c.Pb(31,"div",3),c.Pb(32,"label",19),c.xc(33,"Floor"),c.Ob(),c.Pb(34,"div",6),c.Pb(35,"select",20),c.Zb("change",function(e){return t.onFloorChange(e)}),c.Pb(36,"option",17),c.xc(37,"Select a floor"),c.Ob(),c.vc(38,fo,3,4,"option",18),c.Ob(),c.Ob(),c.Ob(),c.Pb(39,"div",3),c.Pb(40,"label",21),c.xc(41,"Line"),c.Ob(),c.Pb(42,"div",6),c.Pb(43,"select",22),c.Zb("change",function(e){return t.onLineChange(e)}),c.Pb(44,"option",17),c.xc(45,"Select a line"),c.Ob(),c.vc(46,po,3,4,"option",18),c.Ob(),c.Ob(),c.Ob(),c.Pb(47,"div",3),c.Pb(48,"label",21),c.xc(49,"Pocket"),c.Ob(),c.Pb(50,"div",6),c.Pb(51,"select",23),c.Pb(52,"option",17),c.xc(53,"Select a Pocket"),c.Ob(),c.vc(54,vo,2,2,"option",24),c.Ob(),c.Ob(),c.Ob(),c.Pb(55,"div",25),c.Pb(56,"button",26),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(57),c.Ob(),c.vc(58,yo,2,0,"button",27),c.Pb(59,"button",28),c.Zb("click",function(){return t.clean()}),c.xc(60,"Clear"),c.Ob(),c.Ob(),c.vc(61,Oo,2,1,"div",11),c.Ob()}2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," Pallot\n"),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(13),c.hc("ngIf",t.form.controls.year.errors&&t.form.controls.year.touched),c.yb(5),c.hc("ngbTypeahead",t.searchInventory)("editable",!1),c.yb(1),c.hc("ngIf",t.form.controls.sr_no.errors&&t.form.controls.sr_no.touched),c.yb(8),c.hc("ngForOf",t.chamberList),c.yb(8),c.hc("ngForOf",t.floorList),c.yb(8),c.hc("ngForOf",t.lineList),c.yb(8),c.hc("ngForOf",t.pocketList),c.yb(3),c.yc(t.exists?"Update":"Save"),c.yb(1),c.hc("ngIf",t.exists),c.yb(3),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,P.f,d.a,d.i,d.c,d.n,P.j,d.m,d.r,u.m,d.p],pipes:[u.g],styles:[""]}),e})();function xo(e,t){if(1&e&&(c.Pb(0,"tr"),c.Pb(1,"th",16),c.xc(2),c.Ob(),c.Pb(3,"td"),c.xc(4),c.Ob(),c.Pb(5,"td"),c.xc(6),c.cc(7,"date"),c.Ob(),c.Pb(8,"td"),c.xc(9),c.Ob(),c.Pb(10,"td"),c.xc(11),c.Ob(),c.Pb(12,"td"),c.xc(13),c.Ob(),c.Pb(14,"td"),c.xc(15),c.Ob(),c.Ob()),2&e){const e=t.$implicit,o=t.index;c.yb(2),c.yc(o+1),c.yb(2),c.zc(" ",e.sr_no," "),c.yb(2),c.zc(" ",c.ec(7,7,e.date.toMillis(),"dd/MM/yyyy")," "),c.yb(3),c.zc(" ",null==e||null==e.chamber?null:e.chamber.name,""),c.yb(2),c.yc(null==e||null==e.floor?null:e.floor.name),c.yb(2),c.yc(null==e||null==e.line?null:e.line.name),c.yb(2),c.zc("",null==e||null==e.pocket?null:e.pocket.name," ")}}let Lo=(()=>{class e{constructor(){this.page=1,this.pageSize=8,this.pallotPage=[]}ngOnChanges(e){e.pallotList&&null!=this.pallotList&&this.refreshPallot()}refreshPallot(){this.pallotPage=this.pallotList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onSearch(e){e.length>=2?this.pallotPage=this.search(e):this.refreshPallot()}search(e){return this.pallotList.filter(t=>{const o=e.toLowerCase();return t.sr_no.toLowerCase().includes(o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["pallot-list"]],inputs:{pallotList:"pallotList"},features:[c.wb],decls:40,vars:8,consts:[[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","SR_no / Phone",1,"form-control","form-control-sm",3,"keyup"],[1,"table","table-striped","border","table-sm"],["colspan","7",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"]],template:function(e,t){1&e&&(c.Pb(0,"form"),c.Pb(1,"div",0),c.Lb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"div",5),c.Lb(7,"i",6),c.Ob(),c.Ob(),c.Pb(8,"input",7),c.Zb("keyup",function(e){return t.onSearch(e.target.value)}),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(9,"table",8),c.Pb(10,"thead"),c.Pb(11,"tr"),c.Pb(12,"td",9),c.xc(13," Pallot List "),c.Ob(),c.Ob(),c.Pb(14,"tr"),c.Pb(15,"th",10),c.xc(16,"#"),c.Ob(),c.Pb(17,"th",10),c.xc(18,"SR"),c.Ob(),c.Pb(19,"th",10),c.xc(20,"Date"),c.Ob(),c.Pb(21,"th",10),c.xc(22,"Chamber"),c.Ob(),c.Pb(23,"th",10),c.xc(24,"Floor"),c.Ob(),c.Pb(25,"th",10),c.xc(26,"Line"),c.Ob(),c.Pb(27,"th",10),c.xc(28,"Pocket"),c.Ob(),c.Ob(),c.Ob(),c.Pb(29,"tbody"),c.vc(30,xo,16,10,"tr",11),c.Ob(),c.Ob(),c.Pb(31,"div",12),c.Pb(32,"ngb-pagination",13),c.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshPallot()}),c.Ob(),c.Pb(33,"select",14),c.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshPallot()}),c.Pb(34,"option",15),c.xc(35,"4/Page"),c.Ob(),c.Pb(36,"option",15),c.xc(37,"8/Page"),c.Ob(),c.Pb(38,"option",15),c.xc(39,"16/Page"),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(30),c.hc("ngForOf",t.pallotPage),c.yb(2),c.hc("collectionSize",t.pallotList.length)("page",t.page)("pageSize",t.pageSize),c.yb(1),c.hc("ngModel",t.pageSize),c.yb(1),c.hc("ngValue",4),c.yb(2),c.hc("ngValue",8),c.yb(2),c.hc("ngValue",16))},directives:[d.s,d.j,d.k,u.m,P.i,d.p,d.i,d.l,d.m,d.r],pipes:[u.d],styles:[""]}),e})(),_o=(()=>{class e{constructor(e,t,o,n,r,i,c){this.chamberService=e,this.floorService=t,this.lineService=o,this.pallotService=n,this.pocketService=r,this.util=i,this.cdr=c,this.sendingData=!1,this.loadingData=!1,this.errorMessage=""}ngOnInit(){this.getChamberList(),this.getPallotList()}ngAfterContentChecked(){this.cdr.detectChanges()}ngAfterViewChecked(){this.cdr.detectChanges()}getChamberList(){return Object(a.a)(this,void 0,void 0,function*(){this.chamberService.chambers$.subscribe(e=>{this.chamberList=e,this.chamberList.sort(this.util.dynamicSortObject("name"))})})}getFloorList(e){return Object(a.a)(this,void 0,void 0,function*(){this.floorService.floors$.subscribe(t=>{this.floorList=t.filter(t=>t.chamber._id==e),this.floorList.sort(this.util.dynamicSortObject("name"))})})}getLineList(e){return Object(a.a)(this,void 0,void 0,function*(){console.log(e),this.lineService.lines$.subscribe(t=>{this.lineList=t.filter(t=>t.floor._id==e),console.log(this.lineList),this.lineList.sort(this.util.dynamicSortObject("name"))})})}getPocketList(e){return Object(a.a)(this,void 0,void 0,function*(){this.pocketService.pockets$.subscribe(t=>{this.pocketList=t.filter(t=>t.line._id==e),this.lineList.sort(this.util.dynamicSortObject("name"))})})}getPallotList(){return Object(a.a)(this,void 0,void 0,function*(){this.pallotService.pallots$.subscribe(e=>{this.pallotList=e,this.pallotList.sort(this.util.dynamicSortObject("priority"))})})}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign({},e);console.log(t),yield this.pallotService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{createdAt:this.pallot.createdAt});yield this.pallotService.update(this.pallot._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.pallotService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Line Deleting ERROR ! "}),this.clear())})}onEdit(e){this.pallot=this.pallotList.find(t=>t._id===e)}clear(){this.pallot=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(z.a),c.Kb(Ue.a),c.Kb(Ft.a),c.Kb(lo.a),c.Kb(bo.a),c.Kb(b.a),c.Kb(c.h))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-pallot"]],decls:9,vars:6,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"pallot","chamberList","floorList","lineList","pocketList","create","update","delete","selectChamber","selectFloor","selectLine"],[1,"col-md-8","mt-2"],[3,"pallotList"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Pallot\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"pallot-form",5),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)})("selectChamber",function(e){return t.getFloorList(e)})("selectFloor",function(e){return t.getLineList(e)})("selectLine",function(e){return t.getPocketList(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",6),c.Lb(8,"pallot-list",7),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("pallot",t.pallot)("chamberList",t.chamberList)("floorList",t.floorList)("lineList",t.lineList)("pocketList",t.pocketList),c.yb(2),c.hc("pallotList",t.pallotList))},directives:[Po,Lo],styles:[""]}),e})();function Co(e,t){if(1&e&&(c.Pb(0,"div",24),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function wo(e,t){if(1&e&&(c.Pb(0,"option",25),c.cc(1,"json"),c.xc(2),c.Ob()),2&e){const e=t.$implicit;c.hc("value",c.dc(1,2,e)),c.yb(2),c.zc(" ",e.name," ")}}function So(e,t){if(1&e&&(c.Pb(0,"option",25),c.cc(1,"json"),c.xc(2),c.Ob()),2&e){const e=t.$implicit;c.hc("value",c.dc(1,2,e)),c.yb(2),c.zc(" ",e.name," ")}}function ko(e,t){if(1&e&&(c.Pb(0,"option",26),c.xc(1),c.Ob()),2&e){const e=t.$implicit;c.hc("ngValue",e),c.yb(1),c.zc(" ",e.name," ")}}function zo(e,t){1&e&&(c.Pb(0,"small",27),c.xc(1,"Pocket Name Required"),c.Ob())}function Do(e,t){1&e&&(c.Pb(0,"small",27),c.xc(1,"Pocket capacity required"),c.Ob())}function Mo(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",22),c.Zb("click",function(){return c.pc(e),c.bc().onDelete()}),c.xc(1,"Delete"),c.Ob()}}function jo(e,t){if(1&e&&(c.Pb(0,"div",28),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let qo=(()=>{class e{constructor(e){this.fb=e,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.clear=new c.n,this.selectChamber=new c.n,this.selectFloor=new c.n,this.errorMessage="",this.showForm=!1,this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){if(e.pocket&&null!=this.pocket){this.form.reset();const e=this.chamberList.find(e=>e._id==this.pocket.chamber._id);this.form.patchValue({chamber:e}),this.selectChamber.emit(e._id)}if(e.floorList&&this.pocket&&null!=this.pocket._id){const e=this.floorList.find(e=>e._id==this.pocket.floor._id);this.form.patchValue({floor:e}),this.selectFloor.emit(e._id)}if(e.lineList&&this.pocket&&null!=this.pocket._id){const e=this.lineList.find(e=>e._id==this.pocket.line._id),t=Object.assign(Object.assign({},this.pocket),{line:e});delete t.chamber,delete t.floor,this.exists=!0,this.showForm=!0,this.form.patchValue(t)}}createForm(){this.form=this.fb.group({chamber:["",d.q.required],floor:["",d.q.required],line:["",d.q.required],name:["",d.q.required],capacity:["",d.q.required]})}onChamberChange(e){const t=JSON.parse(e.target.value);this.form.controls.chamber.setValue(t),this.selectChamber.emit(t._id)}onFloorChange(e){const t=JSON.parse(e.target.value);this.form.controls.floor.setValue(t),console.log(t),this.selectFloor.emit(t._id)}onSelectLine(e){e.value._id&&(this.showForm=!0)}submit(){if(this.form.valid){const e=this.form.value,t={_id:e.chamber._id,name:e.chamber.name,slug:e.chamber.slug},o={_id:e.floor._id,name:e.floor.name,slug:e.floor.slug},n=Object.assign(Object.assign({},this.form.value),{chamber:t,floor:o});this.exists?this.update.emit(n):this.create.emit(n),this.clean()}}onDelete(){this.delete.emit(this.pocket._id),this.clean()}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clean(){this.exists=!1,this.showForm=!1,this.floorList=null,this.lineList=null,this.pocket=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["pocket-form"]],inputs:{pocket:"pocket",lineList:"lineList",floorList:"floorList",chamberList:"chamberList"},outputs:{create:"create",update:"update",delete:"delete",clear:"clear",selectChamber:"selectChamber",selectFloor:"selectFloor"},features:[c.wb],decls:47,vars:11,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","chamber",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["id","chamber",1,"form-control","form-control-sm",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","floor",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","floor",1,"form-control","form-control-sm",3,"change"],["for","line",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","line","formControlName","line",1,"form-control","form-control-sm"],[3,"ngValue",4,"ngFor","ngForOf"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","name","formControlName","name","placeholder","Pocket Name",1,"form-control","form-control-sm"],["id","nameHelp","class","form-text text-danger",4,"ngIf"],["for","capacity",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","capacity","formControlName","capacity","placeholder","Pocket capacity",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"],[3,"ngValue"],["id","nameHelp",1,"form-text","text-danger"],[1,"text-danger"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,Co,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"label",4),c.xc(6,"Chamber"),c.Ob(),c.Pb(7,"div",5),c.Pb(8,"select",6),c.Zb("change",function(e){return t.onChamberChange(e)}),c.Pb(9,"option",7),c.xc(10,"Select a chamber"),c.Ob(),c.vc(11,wo,3,4,"option",8),c.Ob(),c.Ob(),c.Ob(),c.Pb(12,"div",3),c.Pb(13,"label",9),c.xc(14,"Floor"),c.Ob(),c.Pb(15,"div",5),c.Pb(16,"select",10),c.Zb("change",function(e){return t.onFloorChange(e)}),c.Pb(17,"option",7),c.xc(18,"Select a floor"),c.Ob(),c.vc(19,So,3,4,"option",8),c.Ob(),c.Ob(),c.Ob(),c.Pb(20,"div",3),c.Pb(21,"label",11),c.xc(22,"Line"),c.Ob(),c.Pb(23,"div",5),c.Pb(24,"select",12),c.Pb(25,"option",7),c.xc(26,"Select a line"),c.Ob(),c.vc(27,ko,2,2,"option",13),c.Ob(),c.Ob(),c.Ob(),c.Pb(28,"div",3),c.Pb(29,"label",14),c.xc(30,"Name"),c.Ob(),c.Pb(31,"div",5),c.Lb(32,"input",15),c.vc(33,zo,2,0,"small",16),c.Ob(),c.Ob(),c.Pb(34,"div",3),c.Pb(35,"label",17),c.xc(36,"Capacity"),c.Ob(),c.Pb(37,"div",5),c.Lb(38,"input",18),c.vc(39,Do,2,0,"small",16),c.Ob(),c.Ob(),c.Pb(40,"div",19),c.Pb(41,"button",20),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(42),c.Ob(),c.vc(43,Mo,2,0,"button",21),c.Pb(44,"button",22),c.Zb("click",function(){return t.clean()}),c.xc(45,"Clear"),c.Ob(),c.Ob(),c.vc(46,jo,2,1,"div",23),c.Ob()),2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," Pocket\n"),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(8),c.hc("ngForOf",t.chamberList),c.yb(8),c.hc("ngForOf",t.floorList),c.yb(8),c.hc("ngForOf",t.lineList),c.yb(6),c.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),c.yb(6),c.hc("ngIf",t.form.controls.capacity.errors&&t.form.controls.capacity.touched),c.yb(3),c.yc(t.exists?"Update":"Save"),c.yb(1),c.hc("ngIf",t.exists),c.yb(3),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,d.m,d.r,u.m,d.p,d.i,d.c,d.a,d.n],pipes:[u.g],styles:[""]}),e})();function Io(e,t){if(1&e){const e=c.Qb();c.Pb(0,"tr"),c.Pb(1,"th",15),c.xc(2),c.Ob(),c.Pb(3,"td"),c.xc(4),c.Ob(),c.Pb(5,"td"),c.xc(6),c.Ob(),c.Pb(7,"td"),c.xc(8),c.Ob(),c.Pb(9,"td"),c.xc(10),c.Ob(),c.Pb(11,"td"),c.xc(12),c.Ob(),c.Pb(13,"td"),c.Pb(14,"a",16),c.Zb("click",function(){c.pc(e);const o=t.$implicit;return c.bc().onEdit(o._id)}),c.xc(15,"Edit"),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=t.$implicit,o=t.index;c.yb(2),c.yc(o+1),c.yb(2),c.yc(e.chamber.name),c.yb(2),c.yc(e.floor.name),c.yb(2),c.yc(e.line.name),c.yb(2),c.zc("",e.name," "),c.yb(2),c.yc(e.capacity)}}let Eo=(()=>{class e{constructor(e,t,o,n,r,i){this.chamberService=e,this.floorService=t,this.lineService=o,this.pocketService=n,this.util=r,this.cdr=i,this.sendingData=!1,this.loadingData=!1,this.page=1,this.pageSize=8,this.pocketPage=[],this.errorMessage=""}ngOnInit(){this.getChamberList(),this.getPocketList()}ngAfterContentChecked(){this.cdr.detectChanges()}ngAfterViewChecked(){this.cdr.detectChanges()}getChamberList(){return Object(a.a)(this,void 0,void 0,function*(){this.chamberService.chambers$.subscribe(e=>{this.chamberList=e,this.chamberList.sort(this.util.dynamicSortObject("priority"))})})}getFloorList(e){return Object(a.a)(this,void 0,void 0,function*(){this.floorService.floors$.subscribe(t=>{this.floorList=t.filter(t=>t.chamber._id==e),this.floorList.sort(this.util.dynamicSortObject("priority"))})})}getLineList(e){return Object(a.a)(this,void 0,void 0,function*(){console.log(e),this.lineService.lines$.subscribe(t=>{this.lineList=t.filter(t=>t.floor._id==e),console.log(this.lineList),this.lineList.sort(this.util.dynamicSortObject("priority"))})})}getPocketList(){return Object(a.a)(this,void 0,void 0,function*(){this.pocketService.pockets$.subscribe(e=>{this.pocketList=e,this.pocketList.sort(this.util.dynamicSortObject("priority")),this.refreshPocket()})})}refreshPocket(){this.pocketPage=this.pocketList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});console.log(t),yield this.pocketService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.pocket.createdAt});yield this.pocketService.update(this.pocket._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.pocketService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Line Deleting ERROR ! "}),this.clear())})}onEdit(e){this.pocket=this.pocketList.find(t=>t._id===e)}clear(){this.pocket=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(z.a),c.Kb(Ue.a),c.Kb(Ft.a),c.Kb(bo.a),c.Kb(b.a),c.Kb(c.h))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-pocket"]],decls:39,vars:12,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"pocket","chamberList","floorList","lineList","create","update","delete","selectChamber","selectFloor"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","7",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Pocket\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"pocket-form",5),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)})("selectChamber",function(e){return t.getFloorList(e)})("selectFloor",function(e){return t.getLineList(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",6),c.Pb(8,"table",7),c.Pb(9,"thead"),c.Pb(10,"tr"),c.Pb(11,"td",8),c.xc(12," Pocket List "),c.Ob(),c.Ob(),c.Pb(13,"tr"),c.Pb(14,"th",9),c.xc(15,"#"),c.Ob(),c.Pb(16,"th",9),c.xc(17,"Chamber"),c.Ob(),c.Pb(18,"th",9),c.xc(19,"Floor"),c.Ob(),c.Pb(20,"th",9),c.xc(21,"Line"),c.Ob(),c.Pb(22,"th",9),c.xc(23,"Name"),c.Ob(),c.Pb(24,"th",9),c.xc(25,"Capacity"),c.Ob(),c.Pb(26,"th",9),c.xc(27,"Action"),c.Ob(),c.Ob(),c.Ob(),c.Pb(28,"tbody"),c.vc(29,Io,16,6,"tr",10),c.Ob(),c.Ob(),c.Pb(30,"div",11),c.Pb(31,"ngb-pagination",12),c.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshPocket()}),c.Ob(),c.Pb(32,"select",13),c.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshPocket()}),c.Pb(33,"option",14),c.xc(34,"4/Page"),c.Ob(),c.Pb(35,"option",14),c.xc(36,"8/Page"),c.Ob(),c.Pb(37,"option",14),c.xc(38,"16/Page"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("pocket",t.pocket)("chamberList",t.chamberList)("floorList",t.floorList)("lineList",t.lineList),c.yb(23),c.hc("ngForOf",t.pocketPage),c.yb(2),c.hc("collectionSize",t.pocketList.length)("page",t.page)("pageSize",t.pageSize),c.yb(1),c.hc("ngModel",t.pageSize),c.yb(1),c.hc("ngValue",4),c.yb(2),c.hc("ngValue",8),c.yb(2),c.hc("ngValue",16))},directives:[qo,u.m,P.i,d.p,d.i,d.l,d.m,d.r],styles:[""]}),e})();var Fo=o("2kyN");function No(e,t){if(1&e&&(c.Pb(0,"div",13),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function Vo(e,t){1&e&&(c.Pb(0,"small",14),c.xc(1,"Role Name Required"),c.Ob())}function Ro(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",11),c.Zb("click",function(){return c.pc(e),c.bc().onDelete()}),c.xc(1,"Delete"),c.Ob()}}function Ao(e,t){if(1&e&&(c.Pb(0,"div",15),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let Zo=(()=>{class e{constructor(e){this.fb=e,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){e.role&&null!=this.role&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.role))}createForm(){this.form=this.fb.group({name:["",d.q.required]})}submit(){if(this.form.valid){if(this.exists){const e=Object.assign(Object.assign({},this.role),this.form.value);this.update.emit(e)}else this.create.emit(this.form.value);this.clear()}}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.role._id),this.clear()}clear(){this.exists=!1,this.role=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["role-form"]],inputs:{role:"role"},outputs:{create:"create",update:"update",delete:"delete"},features:[c.wb],decls:17,vars:7,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","Role Name",1,"form-control","form-control-sm"],["id","nameHelp","class","form-text text-danger",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],[1,"alert","alert-danger"],["id","nameHelp",1,"form-text","text-danger"],[1,"text-danger"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,No,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"label",4),c.xc(6,"Name"),c.Ob(),c.Pb(7,"div",5),c.Lb(8,"input",6),c.vc(9,Vo,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(10,"div",8),c.Pb(11,"button",9),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(12),c.Ob(),c.vc(13,Ro,2,0,"button",10),c.Pb(14,"button",11),c.Zb("click",function(){return t.clear()}),c.xc(15,"Clear"),c.Ob(),c.Ob(),c.vc(16,Ao,2,1,"div",12),c.Ob()),2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," Role\n"),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(6),c.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),c.yb(3),c.yc(t.exists?"Update":"Save"),c.yb(1),c.hc("ngIf",t.exists),c.yb(3),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,d.a,d.i,d.c],styles:[""]}),e})();function Bo(e,t){if(1&e){const e=c.Qb();c.Pb(0,"tr"),c.Pb(1,"th",15),c.xc(2),c.Ob(),c.Pb(3,"td"),c.xc(4),c.Ob(),c.Pb(5,"td"),c.Pb(6,"a",16),c.Zb("click",function(){c.pc(e);const o=t.$implicit;return c.bc().onEdit(o._id)}),c.xc(7,"Edit"),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=t.$implicit,o=t.index;c.yb(2),c.yc(o+1),c.yb(2),c.zc(" ",e.name," ")}}let To=(()=>{class e{constructor(e,t){this.roleService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.roleList=[],this.page=1,this.pageSize=8,this.rolePage=[],this.errorMessage=""}ngOnInit(){this.getRoleList()}getRoleList(){return Object(a.a)(this,void 0,void 0,function*(){this.roleService.roles$.subscribe(e=>{this.roleList=e,this.roleList.sort(this.util.dynamicSortObject("name")),this.refreshRole()})})}refreshRole(){this.rolePage=this.roleList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase()});yield this.roleService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name),createdAt:this.role.createdAt});yield this.roleService.update(this.role._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.roleService.delete(e).then(()=>{this.sendingData=!1,this.role=null}).catch(e=>{this.sendingData=!1,this.errorMessage="Role Deleting ERROR ! "}),this.clear())})}onEdit(e){this.role=this.roleList.find(t=>t._id===e),console.log("onEdit",e)}clear(){this.role=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(Fo.a),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-role"]],decls:31,vars:9,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"role","create","update","delete"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","4",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," Role\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"role-form",5),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",6),c.Pb(8,"table",7),c.Pb(9,"thead"),c.Pb(10,"tr"),c.Pb(11,"td",8),c.xc(12," Role List "),c.Ob(),c.Ob(),c.Pb(13,"tr"),c.Pb(14,"th",9),c.xc(15,"#"),c.Ob(),c.Pb(16,"th",9),c.xc(17,"Name"),c.Ob(),c.Pb(18,"th",9),c.xc(19,"Action"),c.Ob(),c.Ob(),c.Ob(),c.Pb(20,"tbody"),c.vc(21,Bo,8,2,"tr",10),c.Ob(),c.Ob(),c.Pb(22,"div",11),c.Pb(23,"ngb-pagination",12),c.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshRole()}),c.Ob(),c.Pb(24,"select",13),c.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshRole()}),c.Pb(25,"option",14),c.xc(26,"4/Page"),c.Ob(),c.Pb(27,"option",14),c.xc(28,"8/Page"),c.Ob(),c.Pb(29,"option",14),c.xc(30,"16/Page"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("role",t.role),c.yb(15),c.hc("ngForOf",t.rolePage),c.yb(2),c.hc("collectionSize",t.roleList.length)("page",t.page)("pageSize",t.pageSize),c.yb(1),c.hc("ngModel",t.pageSize),c.yb(1),c.hc("ngValue",4),c.yb(2),c.hc("ngValue",8),c.yb(2),c.hc("ngValue",16))},directives:[Zo,u.m,P.i,d.p,d.i,d.l,d.m,d.r],styles:[""]}),e})();var Uo=o("/7iW");function $o(e,t){if(1&e&&(c.Pb(0,"div",29),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.errorMessage,"\n")}}function Ko(e,t){1&e&&(c.Pb(0,"small",30),c.xc(1,"User Name Required"),c.Ob())}function Qo(e,t){if(1&e&&(c.Pb(0,"small",31),c.Pb(1,"div",32),c.xc(2," Phone required "),c.Ob(),c.Pb(3,"div",32),c.xc(4," Phone patter should be 01945564841 "),c.Ob(),c.Ob()),2&e){const e=c.bc();c.yb(1),c.hc("hidden",!e.form.controls.phone.errors.required),c.yb(2),c.hc("hidden",!e.form.controls.phone.errors.pattern)}}function Go(e,t){if(1&e&&(c.Pb(0,"small",31),c.Pb(1,"div",32),c.xc(2," Email required "),c.Ob(),c.Pb(3,"div",32),c.xc(4," Invalid email "),c.Ob(),c.Ob()),2&e){const e=c.bc();c.yb(1),c.hc("hidden",!e.form.controls.email.errors.required),c.yb(2),c.hc("hidden",!e.form.controls.email.errors.email)}}function Yo(e,t){1&e&&(c.Pb(0,"small",30),c.xc(1,"User password Required"),c.Ob())}function Jo(e,t){if(1&e&&(c.Pb(0,"option",33),c.xc(1),c.Ob()),2&e){const e=t.$implicit;c.hc("ngValue",e),c.yb(1),c.zc(" ",e.name," ")}}function Wo(e,t){1&e&&(c.Pb(0,"small",30),c.xc(1,"User role required"),c.Ob())}function Ho(e,t){1&e&&(c.Pb(0,"small",30),c.xc(1,"User address required"),c.Ob())}function Xo(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",28),c.Zb("click",function(){return c.pc(e),c.bc().onDelete()}),c.xc(1,"Delete"),c.Ob()}}function en(e,t){if(1&e&&(c.Pb(0,"div",31),c.xc(1),c.Ob()),2&e){const e=c.bc();c.yb(1),c.zc(" ",e.getFormValidationErrors()," ")}}let tn=(()=>{class e{constructor(e){this.fb=e,this.create=new c.n,this.update=new c.n,this.delete=new c.n,this.errorMessage="",this.exists=!1,this.showPassword=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){if(e.user&&null!=this.user){this.form.reset();const e=this.roleList.find(e=>e.name==this.user.role),t=Object.assign(Object.assign({},this.user),{role:e});this.exists=!0,this.form.patchValue(t)}}createForm(){this.form=this.fb.group({name:["",d.q.required],email:["",[d.q.required,d.q.email]],phone:["",[d.q.required,d.q.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],password:["",d.q.required],role:["",d.q.required],address:["",d.q.required]})}submit(){if(this.form.valid){const e=this.form.value.role.name,t=Object.assign(Object.assign({},this.form.value),{role:e});if(this.exists){const e=Object.assign(Object.assign({},this.user),t);this.update.emit(e)}else this.create.emit(t);this.clear()}}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.user._id),this.clear()}clear(){this.exists=!1,this.user=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["user-form"]],inputs:{user:"user",roleList:"roleList"},outputs:{create:"create",update:"update",delete:"delete"},features:[c.wb],decls:54,vars:17,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","User Name",1,"form-control","form-control-sm"],["class","form-text text-danger",4,"ngIf"],["for","phone",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","phone","maxlength","11","formControlName","phone","placeholder","User phone",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","email",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","email","formControlName","email","placeholder","User email",1,"form-control","form-control-sm",3,"readonly"],["for","password",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"input-group","mb-2"],["id","password","formControlName","password","placeholder","Password",1,"form-control","form-control-sm",3,"type","readonly"],[1,"input-group-append"],[1,"input-group-text",2,"cursor","pointer",3,"click"],[1,"fa",3,"ngClass"],["for","role",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","role","formControlName","role",1,"form-control","form-control-sm"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","address",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","address","formControlName","address","rows","3","placeholder","Address",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"form-text","text-danger"],[1,"text-danger"],[3,"hidden"],[3,"ngValue"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1),c.Ob(),c.vc(2,$o,2,1,"div",1),c.Pb(3,"form",2),c.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Pb(4,"div",3),c.Pb(5,"label",4),c.xc(6,"Name"),c.Ob(),c.Pb(7,"div",5),c.Lb(8,"input",6),c.vc(9,Ko,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(10,"div",3),c.Pb(11,"label",8),c.xc(12,"Phone"),c.Ob(),c.Pb(13,"div",5),c.Lb(14,"input",9),c.vc(15,Qo,5,2,"small",10),c.Ob(),c.Ob(),c.Pb(16,"div",3),c.Pb(17,"label",11),c.xc(18,"Email"),c.Ob(),c.Pb(19,"div",5),c.Lb(20,"input",12),c.vc(21,Go,5,2,"small",10),c.Ob(),c.Ob(),c.Pb(22,"div",3),c.Pb(23,"label",13),c.xc(24,"Password "),c.Ob(),c.Pb(25,"div",5),c.Pb(26,"div",14),c.Lb(27,"input",15),c.Pb(28,"div",16),c.Pb(29,"span",17),c.Zb("click",function(){return t.showPassword=!t.showPassword}),c.Lb(30,"i",18),c.Ob(),c.Ob(),c.Ob(),c.vc(31,Yo,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(32,"div",3),c.Pb(33,"label",19),c.xc(34,"Role"),c.Ob(),c.Pb(35,"div",5),c.Pb(36,"select",20),c.Pb(37,"option",21),c.xc(38,"Select a role"),c.Ob(),c.vc(39,Jo,2,2,"option",22),c.Ob(),c.vc(40,Wo,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(41,"div",3),c.Pb(42,"label",23),c.xc(43,"Address"),c.Ob(),c.Pb(44,"div",5),c.Lb(45,"textarea",24),c.vc(46,Ho,2,0,"small",7),c.Ob(),c.Ob(),c.Pb(47,"div",25),c.Pb(48,"button",26),c.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),c.xc(49),c.Ob(),c.vc(50,Xo,2,0,"button",27),c.Pb(51,"button",28),c.Zb("click",function(){return t.clear()}),c.xc(52,"Clear"),c.Ob(),c.Ob(),c.vc(53,en,2,1,"div",10),c.Ob()),2&e&&(c.yb(1),c.zc(" ",t.exists?"Update":"New"," User\n"),c.yb(1),c.hc("ngIf",t.errorMessage.length>0),c.yb(1),c.hc("formGroup",t.form),c.yb(6),c.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),c.yb(6),c.hc("ngIf",t.form.controls.phone.errors&&t.form.controls.phone.touched),c.yb(5),c.hc("readonly",t.exists),c.yb(1),c.hc("ngIf",t.form.controls.email.errors&&t.form.controls.email.touched),c.yb(6),c.hc("type",t.showPassword?"text":"password")("readonly",t.exists),c.yb(3),c.hc("ngClass",t.showPassword?"fa-eye-slash":"fa-eye"),c.yb(1),c.hc("ngIf",t.form.controls.password.errors&&t.form.controls.password.touched),c.yb(8),c.hc("ngForOf",t.roleList),c.yb(1),c.hc("ngIf",t.form.controls.role.errors&&t.form.controls.role.touched),c.yb(6),c.hc("ngIf",t.form.controls.address.errors&&t.form.controls.address.touched),c.yb(3),c.yc(t.exists?"Update":"Save"),c.yb(1),c.hc("ngIf",t.exists),c.yb(3),c.hc("ngIf",t.mouseoverShifting))},directives:[u.n,d.s,d.j,d.d,d.a,d.i,d.c,d.f,u.l,d.p,d.m,d.r,u.m],styles:[""]}),e})();function on(e,t){if(1&e){const e=c.Qb();c.Pb(0,"tr"),c.Pb(1,"th",15),c.xc(2),c.Ob(),c.Pb(3,"td"),c.xc(4),c.Ob(),c.Pb(5,"td"),c.xc(6),c.Ob(),c.Pb(7,"td"),c.xc(8),c.Ob(),c.Pb(9,"td"),c.xc(10),c.Ob(),c.Pb(11,"td"),c.Pb(12,"a",16),c.Zb("click",function(){c.pc(e);const o=t.$implicit;return c.bc().onEdit(o._id)}),c.xc(13,"Edit"),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=t.$implicit,o=t.index;c.yb(2),c.yc(o+1),c.yb(2),c.zc(" ",e.name," "),c.yb(2),c.zc(" ",e.phone," "),c.yb(2),c.zc(" ",e.email," "),c.yb(2),c.zc(" ",e.role," ")}}let nn=(()=>{class e{constructor(e,t,o,n){this.userService=e,this.roleService=t,this.auth=o,this.util=n,this.sendingData=!1,this.loadingData=!1,this.userList=[],this.roleList=[],this.page=1,this.pageSize=8,this.userPage=[],this.errorMessage=""}ngOnInit(){this.getUserList(),this.getRoleList()}getRoleList(){return Object(a.a)(this,void 0,void 0,function*(){this.roleService.roles$.subscribe(e=>{this.roleList=e,this.roleList.sort(this.util.dynamicSortObject("name"))})})}getUserList(){return Object(a.a)(this,void 0,void 0,function*(){this.userService.users$.subscribe(e=>{this.userList=e,this.userList.sort(this.util.dynamicSortObject("name")),this.refreshUser()})})}refreshUser(){this.userPage=this.userList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),console.log(this.userPage)}onCreate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase()});yield this.userService.create(t).then(t=>{console.log(t),this.auth.register(e.email,e.password).then(e=>console.log("User Registration success"))}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name),createdAt:this.user.createdAt});yield this.userService.update(this.user._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(a.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.userService.delete(e).then(()=>{this.sendingData=!1,this.user=null}).catch(e=>{this.sendingData=!1,this.errorMessage="User Deleting ERROR ! "}),this.clear())})}onEdit(e){this.user=this.userList.find(t=>t._id===e),console.log("onEdit",e)}clear(){this.user=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(Uo.a),c.Kb(Fo.a),c.Kb(et.a),c.Kb(b.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-user"]],decls:37,vars:10,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"user","roleList","create","update","delete"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","6",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.xc(1," User\n"),c.Ob(),c.Pb(2,"div",1),c.Pb(3,"div",2),c.Pb(4,"div",3),c.Pb(5,"div",4),c.Pb(6,"user-form",5),c.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",6),c.Pb(8,"table",7),c.Pb(9,"thead"),c.Pb(10,"tr"),c.Pb(11,"td",8),c.xc(12," User List "),c.Ob(),c.Ob(),c.Pb(13,"tr"),c.Pb(14,"th",9),c.xc(15,"#"),c.Ob(),c.Pb(16,"th",9),c.xc(17,"Name"),c.Ob(),c.Pb(18,"th",9),c.xc(19,"Phone"),c.Ob(),c.Pb(20,"th",9),c.xc(21,"Email"),c.Ob(),c.Pb(22,"th",9),c.xc(23,"Role"),c.Ob(),c.Pb(24,"th",9),c.xc(25,"Action"),c.Ob(),c.Ob(),c.Ob(),c.Pb(26,"tbody"),c.vc(27,on,14,5,"tr",10),c.Ob(),c.Ob(),c.Pb(28,"div",11),c.Pb(29,"ngb-pagination",12),c.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshUser()}),c.Ob(),c.Pb(30,"select",13),c.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshUser()}),c.Pb(31,"option",14),c.xc(32,"4/Page"),c.Ob(),c.Pb(33,"option",14),c.xc(34,"8/Page"),c.Ob(),c.Pb(35,"option",14),c.xc(36,"16/Page"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.hc("user",t.user)("roleList",t.roleList),c.yb(21),c.hc("ngForOf",t.userPage),c.yb(2),c.hc("collectionSize",t.userList.length)("page",t.page)("pageSize",t.pageSize),c.yb(1),c.hc("ngModel",t.pageSize),c.yb(1),c.hc("ngValue",4),c.yb(2),c.hc("ngValue",8),c.yb(2),c.hc("ngValue",16))},directives:[tn,u.m,P.i,d.p,d.i,d.l,d.m,d.r],styles:[""]}),e})();function rn(e,t){if(1&e){const e=c.Qb();c.Pb(0,"li",12),c.Pb(1,"a",13),c.Zb("click",function(){return c.pc(e),c.bc(2).toggleCollapse()}),c.xc(2),c.Ob(),c.Ob()}if(2&e){const e=c.bc().$implicit;c.yb(1),c.hc("routerLink",e.link),c.yb(1),c.yc(e.name)}}function cn(e,t){if(1&e){const e=c.Qb();c.Pb(0,"button",18),c.Zb("click",function(){return c.pc(e),c.bc(3).toggleCollapse()}),c.xc(1),c.Ob()}if(2&e){const e=t.$implicit;c.hc("routerLink",e.link),c.yb(1),c.yc(e.name)}}function sn(e,t){if(1&e&&(c.Pb(0,"li",14),c.Pb(1,"a",15),c.Zb("click",function(){return!1}),c.xc(2),c.Ob(),c.Pb(3,"div",16),c.vc(4,cn,2,2,"button",17),c.Ob(),c.Ob()),2&e){const e=c.bc().$implicit;c.yb(2),c.yc(e.name),c.yb(2),c.hc("ngForOf",e.subnav)}}function an(e,t){if(1&e&&(c.Nb(0),c.vc(1,rn,3,2,"li",11),c.vc(2,sn,5,2,"li",9),c.Mb()),2&e){const e=t.$implicit;c.yb(1),c.hc("ngIf",0==(null==e||null==e.subnav?null:e.subnav.length)),c.yb(1),c.hc("ngIf",(null==e||null==e.subnav?null:e.subnav.length)>0)}}function ln(e,t){if(1&e){const e=c.Qb();c.Pb(0,"li",14),c.Pb(1,"a",15),c.Zb("click",function(){return!1}),c.xc(2),c.Ob(),c.Pb(3,"div",16),c.Pb(4,"button",19),c.Zb("click",function(){return c.pc(e),c.bc().toggleCollapse()}),c.xc(5,"Change Password"),c.Ob(),c.Pb(6,"button",20),c.Zb("click",function(){c.pc(e);const t=c.bc();return t.toggleCollapse(),t.logout()}),c.xc(7,"Logout"),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=c.bc();c.yb(2),c.yc(e.user.email)}}function bn(e,t){if(1&e){const e=c.Qb();c.Pb(0,"li",12),c.Pb(1,"a",21),c.Zb("click",function(){return c.pc(e),c.bc().toggleCollapse()}),c.xc(2,"Login"),c.Ob(),c.Ob()}}let dn=(()=>{class e{constructor(e){this.auth=e,this.show=!1,this.nav_data=[{name:"Dashboard",link:"/dashboard",icon:"fa-home",subnav:[]},{name:"Inventory Setting",icon:"fa-home",subnav:[{name:"Add Chamber",icon:"fa-plus",link:"/dashboard/chamber"},{name:"Add Floor",icon:"fa-plus",link:"/dashboard/floor"},{name:"Add Line",icon:"fa-plus",link:"/dashboard/line"},{name:"Add Pocket",icon:"fa-plus",link:"/dashboard/pocket"}]},{name:"Inventory",icon:"fa-cubes",subnav:[{name:"Agent",icon:"fa-plus",link:"/dashboard/agent"},{name:"Loading Party",icon:"fa-plus",link:"/dashboard/customer"},{name:"Inventory",icon:"fa-plus",link:"/dashboard/inventory"},{name:"Palloting",icon:"fa-plus",link:"/dashboard/pallot"}]},{name:"Inventory Report",icon:"fa-cubes",subnav:[{name:"Inventory list",icon:"fa-plus",link:"/dashboard/inventory-list"},{name:"Inventory report",icon:"fa-plus",link:"/dashboard/report/inventory-report"}]},{name:"Ledger",icon:"fa-archive",link:"/dashboard/ledger-add",subnav:[]},{name:"Delivery",icon:"fa-archive",link:"/dashboard/delivery",subnav:[]},{name:"Report",icon:"fa-cubes",subnav:[{name:"Ledger report",icon:"fa-plus",link:"/dashboard/report/ledger-report"},{name:"Loan report",icon:"fa-plus",link:"/dashboard/report/loan-report"},{name:"Product report",icon:"fa-plus",link:"/dashboard/report/product-report"},{name:"Delivery report by Date",icon:"fa-plus",link:"/dashboard/report/delivery-report-date"},{name:"Delivery report by SR",icon:"fa-plus",link:"/dashboard/report/delivery-report-sr"}]},{name:"General Setting",icon:"fa-cog",subnav:[{name:"User",icon:"fa-user",link:"/dashboard/user"},{name:"Role",icon:"fa-shopping-bag",link:"/dashboard/role"}]}]}ngOnInit(){this.auth.user$.subscribe(e=>{this.user=e?{_id:e.uid,email:e.email}:null})}toggleCollapse(){this.show=!this.show}isAuthenticated(){return!!this.user}logout(){this.auth.logout()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(et.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["dash-nav"]],decls:12,vars:5,consts:[["aria-label","Fourth navbar example",1,"navbar","navbar-expand-md","navbar-dark","bg-primary-dark","d-print-none"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#dashNav","aria-controls","dashNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","dashNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","mb-2","mb-md-0"],[4,"ngFor","ngForOf"],[1,"navbar-nav","mb-2","mb-md-0"],["ngbDropdown","","class","nav-item",4,"ngIf"],["class","nav-item ",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item"],[1,"nav-link",3,"routerLink","click"],["ngbDropdown","",1,"nav-item"],["href","","ngbDropdownToggle","",1,"nav-link",3,"click"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"routerLink","click",4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"routerLink","click"],["ngbDropdownItem","","routerLink","/changePassword",3,"click"],["ngbDropdownItem","",3,"click"],["routerLink","/login",1,"nav-link",3,"click"]],template:function(e,t){1&e&&(c.Pb(0,"nav",0),c.Pb(1,"div",1),c.Pb(2,"a",2),c.Zb("click",function(){return t.toggleCollapse()}),c.xc(3,"UNOLO Ltd."),c.Ob(),c.Pb(4,"button",3),c.Zb("click",function(){return t.toggleCollapse()}),c.Lb(5,"span",4),c.Ob(),c.Pb(6,"div",5),c.Pb(7,"ul",6),c.vc(8,an,3,2,"ng-container",7),c.Ob(),c.Pb(9,"ul",8),c.vc(10,ln,8,1,"li",9),c.vc(11,bn,3,0,"li",10),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.yb(6),c.Cb("show",t.show),c.yb(2),c.hc("ngForOf",t.nav_data),c.yb(2),c.hc("ngIf",t.isAuthenticated()),c.yb(1),c.hc("ngIf",!t.isAuthenticated()))},directives:[P.h,n.d,u.m,u.n,P.b,P.e,P.d,P.c,n.c],styles:[".nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]{display:block;padding:0}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]{font-size:14px}.dropdown-menu[_ngcontent-%COMP%]{padding:0}.dropdown-item[_ngcontent-%COMP%]{font-size:14px;padding:3px 8px;border-bottom:1px solid #eaeaea}.dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media screen and (max-width:767px){.navbar-nav[_ngcontent-%COMP%]{padding:8px}.dropdown-item[_ngcontent-%COMP%], .nav-item[_ngcontent-%COMP%]{font-size:16px;text-align:right;padding:4px 0}.dropdown-item[_ngcontent-%COMP%]{padding:4px 12px}}"]}),e})();const un=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["app-dashboard"]],decls:2,vars:0,consts:[[1,"d-print-none"]],template:function(e,t){1&e&&(c.Lb(0,"dash-nav",0),c.Lb(1,"router-outlet"))},directives:[dn,n.f],styles:[""]}),e})(),children:[{path:"report",loadChildren:()=>o.e(6).then(o.bind(null,"3awO")).then(e=>e.ReportModule)},{path:"chamber",component:N},{path:"floor",component:Xe},{path:"line",component:Kt},{path:"pocket",component:Eo},{path:"agent",component:k},{path:"customer",component:xe},{path:"inventory",component:Lt},{path:"inventory-print/:id",component:at},{path:"inventory-list",component:st},{path:"ledger",component:Et},{path:"ledger-add",component:It},{path:"ledger-add/:id",component:It},{path:"contract/:id",component:se},{path:"delivery",component:Te},{path:"delivery-print/:id",component:_e},{path:"pallot",component:_o},{path:"loan",component:ao},{path:"user",component:nn},{path:"role",component:To},{path:"company",component:H},{path:"test",component:s},{path:"",component:ot}]}];let hn=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[i.a,r.a,n.e.forChild(un)]]}),e})()},lCxQ:function(e,t,o){"use strict";o.d(t,"a",function(){return u});var n=o("fXoL"),r=o("ofXK"),i=o("3Pt+"),c=o("tyNb"),s=o("1kSV"),a=o("BC91");function l(e,t){if(1&e){const e=n.Qb();n.Pb(0,"form"),n.Pb(1,"div",11),n.Lb(2,"div",12),n.Pb(3,"div",13),n.Pb(4,"div",14),n.Pb(5,"div",15),n.Pb(6,"div",16),n.Lb(7,"i",17),n.Ob(),n.Ob(),n.Pb(8,"input",18),n.Zb("keyup",function(t){return n.pc(e),n.bc().onSearch(t.target.value)}),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()}}function b(e,t){if(1&e&&(n.Pb(0,"tr"),n.Pb(1,"th",19),n.xc(2),n.Ob(),n.Pb(3,"td"),n.xc(4),n.cc(5,"date"),n.Ob(),n.Pb(6,"td"),n.xc(7),n.Ob(),n.Pb(8,"td"),n.xc(9),n.Ob(),n.Pb(10,"td"),n.xc(11),n.Ob(),n.Pb(12,"td"),n.xc(13),n.Ob(),n.Pb(14,"td",8),n.xc(15),n.cc(16,"numberToBangla"),n.Ob(),n.Pb(17,"td",9),n.Pb(18,"a",20),n.xc(19,"Print"),n.Ob(),n.Ob(),n.Ob()),2&e){const e=t.$implicit,o=t.index;n.yb(2),n.yc(o+1),n.yb(2),n.zc(" ",n.ec(5,8,e.date.toMillis(),"dd/MM/yyyy")," "),n.yb(3),n.zc(" ",e.sr_no," "),n.yb(2),n.zc(" ",null==e||null==e.customer?null:e.customer.name," "),n.yb(2),n.yc(null==e||null==e.customer?null:e.customer.phone),n.yb(2),n.zc(" ",null==e||null==e.agent?null:e.agent.name," "),n.yb(2),n.zc(" ",n.dc(16,11,null==e?null:e.quantity)," "),n.yb(3),n.jc("routerLink","/dashboard/inventory-print/",e._id,"")}}function d(e,t){if(1&e){const e=n.Qb();n.Pb(0,"div",21),n.Pb(1,"ngb-pagination",22),n.Zb("pageChange",function(t){return n.pc(e),n.bc().page=t})("pageChange",function(){return n.pc(e),n.bc().refreshInventory()}),n.Ob(),n.Pb(2,"select",23),n.Zb("ngModelChange",function(t){return n.pc(e),n.bc().pageSize=t})("ngModelChange",function(){return n.pc(e),n.bc().refreshInventory()}),n.Pb(3,"option",24),n.xc(4,"4/Page"),n.Ob(),n.Pb(5,"option",24),n.xc(6,"8/Page"),n.Ob(),n.Pb(7,"option",24),n.xc(8,"16/Page"),n.Ob(),n.Ob(),n.Ob()}if(2&e){const e=n.bc();n.yb(1),n.hc("collectionSize",e.inventoryList.length)("page",e.page)("pageSize",e.pageSize),n.yb(1),n.hc("ngModel",e.pageSize),n.yb(1),n.hc("ngValue",4),n.yb(2),n.hc("ngValue",8),n.yb(2),n.hc("ngValue",16)}}let u=(()=>{class e{constructor(){this.page=1,this.pageSize=8,this.searching=!1,this.inventoryPage=[],this.total=0}ngOnChanges(e){e.inventoryList&&null!=this.inventoryList&&(this.refreshInventory(),this.calculateTotalQuantity()),e.list&&this.refreshInventory()}refreshInventory(){this.inventoryPage=this.list?this.inventoryList:this.inventoryList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onSearch(e){e.length>=2?(this.searching=!0,this.inventoryPage=this.search(e)):(this.searching=!1,this.refreshInventory())}search(e){return this.inventoryList.filter(t=>{const o=e.toLowerCase();return t.sr_no.toLowerCase().includes(o)||t.customer.phone.includes(o)})}calculateTotalQuantity(){let e=0;this.inventoryList.forEach(t=>{e+=t.quantity}),this.total=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Eb({type:e,selectors:[["inventory-table"]],inputs:{inventoryList:"inventoryList",list:"list"},features:[n.wb],decls:35,vars:6,consts:[[4,"ngIf"],[1,"table","table-striped","border","table-sm"],["colspan","7",1,"form-head"],[1,"form-head","d-print-none"],["scope","col"],["scope","col",1,"d-print-none"],[4,"ngFor","ngForOf"],["colspan","6",1,"text-right"],[1,"text-right"],[1,"d-print-none"],["class","d-flex justify-content-between p-2",4,"ngIf"],[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","SR_no / Phone",1,"form-control","form-control-sm",3,"keyup"],["scope","row"],["target","_blank",1,"edit_link",3,"routerLink"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(n.vc(0,l,9,0,"form",0),n.Pb(1,"table",1),n.Pb(2,"thead"),n.Pb(3,"tr"),n.Pb(4,"td",2),n.xc(5," Inventory List "),n.Ob(),n.Lb(6,"td",3),n.Ob(),n.Pb(7,"tr"),n.Pb(8,"th",4),n.xc(9,"#"),n.Ob(),n.Pb(10,"th",4),n.xc(11,"Date"),n.Ob(),n.Pb(12,"th",4),n.xc(13,"SR.NO."),n.Ob(),n.Pb(14,"th",4),n.xc(15,"Party"),n.Ob(),n.Pb(16,"th",4),n.xc(17,"Phone"),n.Ob(),n.Pb(18,"th",4),n.xc(19,"Agent"),n.Ob(),n.Pb(20,"th",4),n.xc(21,"Quantity"),n.Ob(),n.Pb(22,"th",5),n.xc(23,"Action"),n.Ob(),n.Ob(),n.Ob(),n.Pb(24,"tbody"),n.vc(25,b,20,13,"tr",6),n.Ob(),n.Pb(26,"tfoot"),n.Pb(27,"tr"),n.Pb(28,"th",7),n.xc(29,"Total"),n.Ob(),n.Pb(30,"th",8),n.xc(31),n.cc(32,"numberToBangla"),n.Ob(),n.Lb(33,"td",9),n.Ob(),n.Ob(),n.Ob(),n.vc(34,d,9,7,"div",10)),2&e&&(n.hc("ngIf",!t.list),n.yb(25),n.hc("ngForOf",t.inventoryPage),n.yb(6),n.yc(n.dc(32,4,t.total)),n.yb(3),n.hc("ngIf",!t.list))},directives:[r.n,r.m,i.s,i.j,i.k,c.d,s.i,i.p,i.i,i.l,i.m,i.r],pipes:[a.a,r.d],styles:[""]}),e})()},r0Oy:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var n=o("fXoL"),r=o("3Pt+"),i=o("ofXK"),c=o("1kSV"),s=o("tyNb");function a(e,t){if(1&e&&(n.Pb(0,"tr"),n.Pb(1,"th",19),n.xc(2),n.Ob(),n.Pb(3,"td"),n.xc(4),n.Ob(),n.Pb(5,"td"),n.Pb(6,"div"),n.xc(7),n.Ob(),n.Pb(8,"div"),n.xc(9),n.Ob(),n.Pb(10,"div"),n.xc(11),n.Ob(),n.Ob(),n.Pb(12,"td"),n.Pb(13,"div"),n.Pb(14,"div"),n.xc(15),n.Ob(),n.Pb(16,"div"),n.xc(17),n.Ob(),n.Pb(18,"div"),n.xc(19),n.Ob(),n.Ob(),n.Ob(),n.Pb(20,"td"),n.Pb(21,"div"),n.xc(22),n.Ob(),n.Pb(23,"div"),n.xc(24),n.Ob(),n.Pb(25,"div"),n.xc(26),n.Ob(),n.Ob(),n.Pb(27,"td"),n.Pb(28,"div"),n.Pb(29,"div"),n.xc(30),n.Ob(),n.Pb(31,"div"),n.xc(32),n.Ob(),n.Pb(33,"div"),n.xc(34),n.Ob(),n.Ob(),n.Ob(),n.Pb(35,"td"),n.xc(36),n.Ob(),n.Pb(37,"td",0),n.Pb(38,"a",20),n.xc(39,"Print"),n.Ob(),n.Ob(),n.Ob()),2&e){const e=t.$implicit,o=t.index;n.yb(2),n.yc(o+1),n.yb(2),n.yc(e.sr_no),n.yb(3),n.Ac("Name : ",null==e.customer?null:e.customer.name," [",null==e.customer?null:e.customer.phone,"]"),n.yb(2),n.zc("C/O : ",null==e.customer?null:e.customer.father,""),n.yb(2),n.yc(null==e.customer?null:e.customer.address),n.yb(4),n.zc("Amount: ",e.loan_amount," "),n.yb(2),n.zc("Rate: ",e.loan_rate," "),n.yb(2),n.zc("Payable: ",e.loan_payable," "),n.yb(3),n.zc("Quanity: ",e.quantity," "),n.yb(2),n.zc("Rate: ",e.rate," "),n.yb(2),n.zc("Amount: ",e.service_amount," "),n.yb(4),n.zc("Quanity: ",e.emptyBag_quantity," "),n.yb(2),n.zc("Rate: ",e.emptyBag_rate," "),n.yb(2),n.zc("Amount: ",e.emptyBag_amount," "),n.yb(2),n.yc(e.total_amount),n.yb(2),n.jc("routerLink","/dashboard/contract/",e._id,"")}}let l=(()=>{class e{constructor(){this.page=1,this.pageSize=8,this.ledgerPage=[]}ngOnChanges(e){e.ledgerList&&null!=this.ledgerList&&this.refreshLedger()}refreshLedger(){this.ledgerPage=this.ledgerList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onSearch(e){e.length>=2?this.ledgerPage=this.search(e):this.refreshLedger()}search(e){return this.ledgerList.filter(t=>{const o=e.toLowerCase();return t.sr_no.toLowerCase().includes(o)||t.customer.name.includes(o)||t.customer.phone.includes(o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Eb({type:e,selectors:[["ledger-list"]],inputs:{ledgerList:"ledgerList"},features:[n.wb],decls:43,vars:8,consts:[[1,"d-print-none"],[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","Name / Phone",1,"form-control","form-control-sm",3,"keyup"],[1,"table","table-striped","border","table-sm"],["colspan","7",1,"form-head"],[1,"form-head","d-print-none"],["scope","col"],["scope","col",1,"d-print-none"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2","d-print-none"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[3,"routerLink"]],template:function(e,t){1&e&&(n.Pb(0,"form",0),n.Pb(1,"div",1),n.Lb(2,"div",2),n.Pb(3,"div",3),n.Pb(4,"div",4),n.Pb(5,"div",5),n.Pb(6,"div",6),n.Lb(7,"i",7),n.Ob(),n.Ob(),n.Pb(8,"input",8),n.Zb("keyup",function(e){return t.onSearch(e.target.value)}),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(9,"table",9),n.Pb(10,"thead"),n.Pb(11,"tr"),n.Pb(12,"td",10),n.xc(13," Ledger List "),n.Ob(),n.Lb(14,"td",11),n.Ob(),n.Pb(15,"tr"),n.Pb(16,"th",12),n.xc(17,"#"),n.Ob(),n.Pb(18,"th",12),n.xc(19,"SR_No"),n.Ob(),n.Pb(20,"th",12),n.xc(21,"Party"),n.Ob(),n.Pb(22,"th",12),n.xc(23,"Loan"),n.Ob(),n.Pb(24,"th",12),n.xc(25,"Product"),n.Ob(),n.Pb(26,"th",12),n.xc(27,"Empty bag"),n.Ob(),n.Pb(28,"th",12),n.xc(29,"Total"),n.Ob(),n.Pb(30,"th",13),n.xc(31,"Action"),n.Ob(),n.Ob(),n.Ob(),n.Pb(32,"tbody"),n.vc(33,a,40,17,"tr",14),n.Ob(),n.Ob(),n.Pb(34,"div",15),n.Pb(35,"ngb-pagination",16),n.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshLedger()}),n.Ob(),n.Pb(36,"select",17),n.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshLedger()}),n.Pb(37,"option",18),n.xc(38,"4/Page"),n.Ob(),n.Pb(39,"option",18),n.xc(40,"8/Page"),n.Ob(),n.Pb(41,"option",18),n.xc(42,"16/Page"),n.Ob(),n.Ob(),n.Ob()),2&e&&(n.yb(33),n.hc("ngForOf",t.ledgerPage),n.yb(2),n.hc("collectionSize",t.ledgerList.length)("page",t.page)("pageSize",t.pageSize),n.yb(1),n.hc("ngModel",t.pageSize),n.yb(1),n.hc("ngValue",4),n.yb(2),n.hc("ngValue",8),n.yb(2),n.hc("ngValue",16))},directives:[r.s,r.j,r.k,i.m,c.i,r.p,r.i,r.l,r.m,r.r,s.d],styles:[""]}),e})()}}]);