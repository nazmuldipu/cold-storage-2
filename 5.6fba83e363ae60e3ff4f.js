(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"O+Ta":function(e,t,o){"use strict";o.r(t),o.d(t,"ROUTES",function(){return gn}),o.d(t,"DashboardModule",function(){return fn});var n=o("tyNb"),r=o("KZX/"),i=o("fXoL"),c=o("u6mN"),s=o("ofXK");function a(e,t){if(1&e&&(i.Nb(0),i.Pb(1,"a",22),i.xc(2),i.Ob(),i.Mb()),2&e){const e=t.$implicit;i.yb(1),i.hc("routerLink",e.url),i.yb(1),i.zc(" ",e.name," ")}}let b=(()=>{class e{constructor(e,t){this.auth=e,this.router=t}ngOnInit(){this.quickLinks=[{name:"Add Inventory",url:"/dashboard/inventory"},{name:"Pallot",url:"/dashboard/pallot"},{name:"Ledger",url:"/dashboard/ledger-add"},{name:"Delivery",url:"/dashboard/delivery"}],this.auth.user$.subscribe(e=>{this.user=e?{_id:e.uid,email:e.email}:null})}isAuthenticated(){return!!this.user}onLinkClick(e){console.log(e.value),this.router.navigate([e.value.url])}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(c.a),i.Kb(n.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-index"]],decls:85,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-6","col-lg-3","mb-4"],[1,"card","widget-overview-box","widget-overview-box-1"],[1,"overview-icon"],["aria-hidden","true",1,"fa","fa-print"],[1,"overview-title"],[1,"row","overview-detail"],[1,"col-6"],[1,"overview-number"],[1,"overview-subtext"],[1,"card","widget-overview-box","widget-overview-box-2"],["aria-hidden","true",1,"fa","fa-usd"],[1,"col-12","col-md-6","col-lg-3"],[1,"card","widget-overview-box","widget-overview-box-3"],["aria-hidden","true",1,"fa","fa-user-o"],[1,"card","widget-overview-box","widget-overview-box-4"],["aria-hidden","true",1,"fa","fa-truck"],[1,"card","widget-overview-box"],["aria-hidden","true",1,"fa","fa-link"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"routerLink"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.Pb(2,"div",2),i.Pb(3,"div",3),i.Pb(4,"div"),i.Pb(5,"span",4),i.Lb(6,"i",5),i.Ob(),i.Pb(7,"span",6),i.xc(8,"Inventory"),i.Ob(),i.Ob(),i.Pb(9,"div",7),i.Pb(10,"div",8),i.Pb(11,"div",9),i.xc(12,"640"),i.Ob(),i.Pb(13,"div",10),i.xc(14,"Pending"),i.Ob(),i.Ob(),i.Pb(15,"div",8),i.Pb(16,"div",9),i.xc(17,"1420"),i.Ob(),i.Pb(18,"div",10),i.xc(19,"Completed"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(20,"div",2),i.Pb(21,"div",11),i.Pb(22,"div"),i.Pb(23,"span",4),i.Lb(24,"i",12),i.Ob(),i.Pb(25,"span",6),i.xc(26,"Ledger"),i.Ob(),i.Ob(),i.Pb(27,"div",7),i.Pb(28,"div",8),i.Pb(29,"div",9),i.xc(30,"$2,100"),i.Ob(),i.Pb(31,"div",10),i.xc(32,"Expenses"),i.Ob(),i.Ob(),i.Pb(33,"div",8),i.Pb(34,"div",9),i.xc(35,"$9,640"),i.Ob(),i.Pb(36,"div",10),i.xc(37,"Income"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(38,"div",13),i.Pb(39,"div",14),i.Pb(40,"div"),i.Pb(41,"span",4),i.Lb(42,"i",15),i.Ob(),i.Pb(43,"span",6),i.xc(44,"Party"),i.Ob(),i.Ob(),i.Pb(45,"div",7),i.Pb(46,"div",8),i.Pb(47,"div",9),i.xc(48,"8272"),i.Ob(),i.Pb(49,"div",10),i.xc(50,"Active"),i.Ob(),i.Ob(),i.Pb(51,"div",8),i.Pb(52,"div",9),i.xc(53,"25402"),i.Ob(),i.Pb(54,"div",10),i.xc(55,"Registered"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(56,"div",2),i.Pb(57,"div",16),i.Pb(58,"div"),i.Pb(59,"span",4),i.Lb(60,"i",17),i.Ob(),i.Pb(61,"span",6),i.xc(62,"Delivery"),i.Ob(),i.Ob(),i.Pb(63,"div",7),i.Pb(64,"div",8),i.Pb(65,"div",9),i.xc(66,"12"),i.Ob(),i.Pb(67,"div",10),i.xc(68,"New"),i.Ob(),i.Ob(),i.Pb(69,"div",8),i.Pb(70,"div",9),i.xc(71,"85"),i.Ob(),i.Pb(72,"div",10),i.xc(73,"Responded"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(74,"div",0),i.Pb(75,"div",1),i.Pb(76,"div",2),i.Pb(77,"div",18),i.Pb(78,"div"),i.Pb(79,"span",4),i.Lb(80,"i",19),i.Ob(),i.Pb(81,"span",6),i.xc(82,"Quick Links"),i.Ob(),i.Ob(),i.Pb(83,"div",20),i.vc(84,a,3,2,"ng-container",21),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(84),i.hc("ngForOf",t.quickLinks))},directives:[s.m,n.d],styles:["[_nghost-%COMP%]{padding:15px;display:block;background-color:#f8f9fa;min-height:calc(100vh - 60px)}[_nghost-%COMP%]     .p-listbox{border:none}.card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.widget-overview-box[_ngcontent-%COMP%]{min-height:6rem;position:relative;border-left:4px solid}.widget-overview-box[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{display:inline-block;border-radius:4px;width:2em;height:2rem;line-height:2rem;text-align:center;vertical-align:middle}.widget-overview-box.widget-overview-box-1[_ngcontent-%COMP%]{border-left-color:#64b5f6}.widget-overview-box.widget-overview-box-1[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{background:#64b5f6;color:#1976d2}.widget-overview-box.widget-overview-box-1[_ngcontent-%COMP%]   .overview-title[_ngcontent-%COMP%]{color:#64b5f6}.widget-overview-box.widget-overview-box-2[_ngcontent-%COMP%]{border-left-color:#7986cb}.widget-overview-box.widget-overview-box-2[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{background:#7986cb;color:#303f9f}.widget-overview-box.widget-overview-box-2[_ngcontent-%COMP%]   .overview-title[_ngcontent-%COMP%]{color:#7986cb}.widget-overview-box.widget-overview-box-3[_ngcontent-%COMP%]{border-left-color:#4db6ac}.widget-overview-box.widget-overview-box-3[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{background:#4db6ac;color:#00796b}.widget-overview-box.widget-overview-box-3[_ngcontent-%COMP%]   .overview-title[_ngcontent-%COMP%]{color:#4db6ac}.widget-overview-box.widget-overview-box-4[_ngcontent-%COMP%]{border-left-color:#4dd0e1}.widget-overview-box.widget-overview-box-4[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{background:#4dd0e1;color:#0097a7}.widget-overview-box.widget-overview-box-4[_ngcontent-%COMP%]   .overview-title[_ngcontent-%COMP%]{color:#4dd0e1}.card[_ngcontent-%COMP%]{background:#fff;padding:1.25rem;margin-bottom:2rem;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);border-radius:4px}.widget-overview-box.widget-overview-box-1[_ngcontent-%COMP%]   .widget-overview-box[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]{display:inline-block;border-radius:4px;width:2em;height:2rem;line-height:2rem;text-align:center;vertical-align:middle}.widget-overview-box[_ngcontent-%COMP%]   .overview-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;line-height:inherit}.widget-overview-box[_ngcontent-%COMP%]   .overview-title[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;vertical-align:middle;margin-left:.5rem}.widget-overview-box[_ngcontent-%COMP%]   .overview-detail[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.widget-overview-box[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]:first-child{border-right:1px solid #dee2e6}.widget-overview-box[_ngcontent-%COMP%]   .overview-detail[_ngcontent-%COMP%]   .p-col-6[_ngcontent-%COMP%]{padding:.5rem}.widget-overview-box[_ngcontent-%COMP%]   .overview-number[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.widget-overview-box[_ngcontent-%COMP%]   .overview-subtext[_ngcontent-%COMP%]{color:#6c757d;font-weight:500;margin-top:.25rem}h4[_ngcontent-%COMP%]:first-child{margin-top:0}.list-group-item[_ngcontent-%COMP%]{padding:.25rem 1.25rem}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]{border:none}"]}),e})();var l=o("1kSV");function d(e,t){if(1&e){const e=i.Qb();i.Pb(0,"li",12),i.Pb(1,"a",13),i.Zb("click",function(){return i.pc(e),i.bc(2).toggleCollapse()}),i.xc(2),i.Ob(),i.Ob()}if(2&e){const e=i.bc().$implicit;i.yb(1),i.hc("routerLink",e.link),i.yb(1),i.yc(e.name)}}function h(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",18),i.Zb("click",function(){return i.pc(e),i.bc(3).toggleCollapse()}),i.xc(1),i.Ob()}if(2&e){const e=t.$implicit;i.hc("routerLink",e.link),i.yb(1),i.yc(e.name)}}function u(e,t){if(1&e&&(i.Pb(0,"li",14),i.Pb(1,"a",15),i.Zb("click",function(){return!1}),i.xc(2),i.Ob(),i.Pb(3,"div",16),i.vc(4,h,2,2,"button",17),i.Ob(),i.Ob()),2&e){const e=i.bc().$implicit;i.yb(2),i.yc(e.name),i.yb(2),i.hc("ngForOf",e.subnav)}}function m(e,t){if(1&e&&(i.Nb(0),i.vc(1,d,3,2,"li",11),i.vc(2,u,5,2,"li",9),i.Mb()),2&e){const e=t.$implicit;i.yb(1),i.hc("ngIf",0==(null==e||null==e.subnav?null:e.subnav.length)),i.yb(1),i.hc("ngIf",(null==e||null==e.subnav?null:e.subnav.length)>0)}}function g(e,t){if(1&e){const e=i.Qb();i.Pb(0,"li",14),i.Pb(1,"a",15),i.Zb("click",function(){return!1}),i.xc(2),i.Ob(),i.Pb(3,"div",16),i.Pb(4,"button",19),i.Zb("click",function(){return i.pc(e),i.bc().toggleCollapse()}),i.xc(5,"Change Password"),i.Ob(),i.Pb(6,"button",20),i.Zb("click",function(){i.pc(e);const t=i.bc();return t.toggleCollapse(),t.logout()}),i.xc(7,"Logout"),i.Ob(),i.Ob(),i.Ob()}if(2&e){const e=i.bc();i.yb(2),i.yc(e.user.email)}}function f(e,t){if(1&e){const e=i.Qb();i.Pb(0,"li",12),i.Pb(1,"a",21),i.Zb("click",function(){return i.pc(e),i.bc().toggleCollapse()}),i.xc(2,"Login"),i.Ob(),i.Ob()}}let p=(()=>{class e{constructor(e){this.auth=e,this.show=!1,this.nav_data=[{name:"Dashboard",link:"/dashboard",icon:"fa-home",subnav:[]},{name:"Inventory Setting",icon:"fa-home",subnav:[{name:"Add Chamber",icon:"fa-plus",link:"/dashboard/chamber"},{name:"Add Floor",icon:"fa-plus",link:"/dashboard/floor"},{name:"Add Line",icon:"fa-plus",link:"/dashboard/line"},{name:"Add Pocket",icon:"fa-plus",link:"/dashboard/pocket"}]},{name:"Inventory",icon:"fa-cubes",subnav:[{name:"Agent",icon:"fa-plus",link:"/dashboard/agent"},{name:"Loading Party",icon:"fa-plus",link:"/dashboard/customer"},{name:"Inventory",icon:"fa-plus",link:"/dashboard/inventory"},{name:"Palloting",icon:"fa-plus",link:"/dashboard/pallot"}]},{name:"Inventory Report",icon:"fa-cubes",subnav:[{name:"Inventory list",icon:"fa-plus",link:"/dashboard/inventory-report"}]},{name:"Ledger",icon:"fa-archive",link:"/dashboard/ledger-add",subnav:[]},{name:"Delivery",icon:"fa-archive",link:"/dashboard/delivery",subnav:[]},{name:"General Setting",icon:"fa-cog",subnav:[{name:"User",icon:"fa-user",link:"/dashboard/user"},{name:"Role",icon:"fa-shopping-bag",link:"/dashboard/role"}]}]}ngOnInit(){this.auth.user$.subscribe(e=>{this.user=e?{_id:e.uid,email:e.email}:null})}toggleCollapse(){this.show=!this.show}isAuthenticated(){return!!this.user}logout(){this.auth.logout()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(c.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["dash-nav"]],decls:12,vars:5,consts:[["aria-label","Fourth navbar example",1,"navbar","navbar-expand-md","navbar-dark","bg-primary-dark","d-print-none"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#dashNav","aria-controls","dashNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","dashNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto","mb-2","mb-md-0"],[4,"ngFor","ngForOf"],[1,"navbar-nav","mb-2","mb-md-0"],["ngbDropdown","","class","nav-item",4,"ngIf"],["class","nav-item ",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item"],[1,"nav-link",3,"routerLink","click"],["ngbDropdown","",1,"nav-item"],["href","","ngbDropdownToggle","",1,"nav-link",3,"click"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"routerLink","click",4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"routerLink","click"],["ngbDropdownItem","","routerLink","/changePassword",3,"click"],["ngbDropdownItem","",3,"click"],["routerLink","/login",1,"nav-link",3,"click"]],template:function(e,t){1&e&&(i.Pb(0,"nav",0),i.Pb(1,"div",1),i.Pb(2,"a",2),i.Zb("click",function(){return t.toggleCollapse()}),i.xc(3,"UNOLO Ltd."),i.Ob(),i.Pb(4,"button",3),i.Zb("click",function(){return t.toggleCollapse()}),i.Lb(5,"span",4),i.Ob(),i.Pb(6,"div",5),i.Pb(7,"ul",6),i.vc(8,m,3,2,"ng-container",7),i.Ob(),i.Pb(9,"ul",8),i.vc(10,g,8,1,"li",9),i.vc(11,f,3,0,"li",10),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.Cb("show",t.show),i.yb(2),i.hc("ngForOf",t.nav_data),i.yb(2),i.hc("ngIf",t.isAuthenticated()),i.yb(1),i.hc("ngIf",!t.isAuthenticated()))},directives:[l.h,n.d,s.m,s.n,l.b,l.e,l.d,l.c,n.c],styles:[".nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]{display:block;padding:0}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]{font-size:14px}.dropdown-menu[_ngcontent-%COMP%]{padding:0}.dropdown-item[_ngcontent-%COMP%]{font-size:14px;padding:3px 8px;border-bottom:1px solid #eaeaea}.dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media screen and (max-width:767px){.navbar-nav[_ngcontent-%COMP%]{padding:8px}.dropdown-item[_ngcontent-%COMP%], .nav-item[_ngcontent-%COMP%]{font-size:16px;text-align:right;padding:4px 0}.dropdown-item[_ngcontent-%COMP%]{padding:4px 12px}}"]}),e})(),v=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["app-dashboard"]],decls:2,vars:0,consts:[[1,"d-print-none"]],template:function(e,t){1&e&&(i.Lb(0,"dash-nav",0),i.Lb(1,"router-outlet"))},directives:[p,n.f],styles:[""]}),e})();var O=o("mrSG"),y=o("ZmEn"),P=o("z3bE"),x=o("3Pt+");function L(e,t){if(1&e&&(i.Pb(0,"div",15),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function _(e,t){1&e&&(i.Pb(0,"small",16),i.xc(1,"Chamber Name Required"),i.Ob())}function C(e,t){1&e&&(i.Pb(0,"small",16),i.xc(1,"Chamber capacity required"),i.Ob())}function w(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",11),i.Zb("click",function(){return i.pc(e),i.bc().onDelete()}),i.xc(1,"Delete"),i.Ob()}}function S(e,t){if(1&e&&(i.Pb(0,"div",17),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let k=(()=>{class e{constructor(e){this.fb=e,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){e.chamber&&null!=this.chamber&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.chamber))}createForm(){this.form=this.fb.group({name:["",x.q.required],capacity:["",x.q.required]})}submit(){this.form.valid&&(this.exists?this.update.emit(this.form.value):this.create.emit(this.form.value),this.clear())}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.chamber._id),this.clear()}clear(){this.exists=!1,this.chamber=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["chamber-form"]],inputs:{chamber:"chamber"},outputs:{create:"create",update:"update",delete:"delete"},features:[i.wb],decls:23,vars:8,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","Chamber Name",1,"form-control","form-control-sm"],["id","nameHelp","class","form-text text-danger",4,"ngIf"],["for","capacity",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","capacity","formControlName","capacity","placeholder","Chamber capacity",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["class","text-danger",4,"ngIf"],[1,"alert","alert-danger"],["id","nameHelp",1,"form-text","text-danger"],[1,"text-danger"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,L,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"label",4),i.xc(6,"Name"),i.Ob(),i.Pb(7,"div",5),i.Lb(8,"input",6),i.vc(9,_,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(10,"div",3),i.Pb(11,"label",8),i.xc(12,"Capacity"),i.Ob(),i.Pb(13,"div",5),i.Lb(14,"input",9),i.vc(15,C,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(16,"div",10),i.Pb(17,"button",11),i.Zb("click",function(){return t.clear()}),i.xc(18,"Clear"),i.Ob(),i.vc(19,w,2,0,"button",12),i.Pb(20,"button",13),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(21),i.Ob(),i.Ob(),i.vc(22,S,2,1,"div",14),i.Ob()),2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," Chamber\n"),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(6),i.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),i.yb(6),i.hc("ngIf",t.form.controls.capacity.errors&&t.form.controls.capacity.touched),i.yb(4),i.hc("ngIf",t.exists),i.yb(2),i.yc(t.exists?"Update":"Save"),i.yb(1),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,x.a,x.i,x.c,x.n],styles:[""]}),e})();function z(e,t){if(1&e){const e=i.Qb();i.Pb(0,"tr"),i.Pb(1,"th",15),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.Pb(5,"td"),i.xc(6),i.Ob(),i.Pb(7,"td"),i.Pb(8,"a",16),i.Zb("click",function(){i.pc(e);const o=t.$implicit;return i.bc().onEdit(o._id)}),i.xc(9,"Edit"),i.Ob(),i.Ob(),i.Ob()}if(2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.zc(" ",e.name," "),i.yb(2),i.yc(e.capacity)}}let D=(()=>{class e{constructor(e,t){this.chamberService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.page=1,this.pageSize=8,this.chamberPage=[],this.chamberList=[],this.errorMessage=""}ngOnInit(){this.getChamberList()}getChamberList(){return Object(O.a)(this,void 0,void 0,function*(){this.chamberService.chambers$.subscribe(e=>{this.chamberList=e,this.refreshChamber(),this.chamberList.sort(this.util.dynamicSortObject("name"))})})}refreshChamber(){this.chamberPage=this.chamberList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase()});yield this.chamberService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name),createdAt:this.chamber.createdAt});yield this.chamberService.update(this.chamber._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.chamberService.delete(e).then(()=>{this.sendingData=!1,this.chamber=null}).catch(e=>{this.sendingData=!1,this.errorMessage="Chamber Deleting ERROR ! "}),this.clear())})}onEdit(e){this.chamber=this.chamberList.find(t=>t._id===e),console.log("onEdit",e)}clear(){this.chamber=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(y.a),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-chamber"]],decls:33,vars:9,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"chamber","create","update","delete"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","4",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Chamber\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"chamber-form",5),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"div",6),i.Pb(8,"table",7),i.Pb(9,"thead"),i.Pb(10,"tr"),i.Pb(11,"td",8),i.xc(12," Chamber List "),i.Ob(),i.Ob(),i.Pb(13,"tr"),i.Pb(14,"th",9),i.xc(15,"#"),i.Ob(),i.Pb(16,"th",9),i.xc(17,"Name"),i.Ob(),i.Pb(18,"th",9),i.xc(19,"Capacity"),i.Ob(),i.Pb(20,"th",9),i.xc(21,"Action"),i.Ob(),i.Ob(),i.Ob(),i.Pb(22,"tbody"),i.vc(23,z,10,3,"tr",10),i.Ob(),i.Ob(),i.Pb(24,"div",11),i.Pb(25,"ngb-pagination",12),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshChamber()}),i.Ob(),i.Pb(26,"select",13),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshChamber()}),i.Pb(27,"option",14),i.xc(28,"4/Page"),i.Ob(),i.Pb(29,"option",14),i.xc(30,"8/Page"),i.Ob(),i.Pb(31,"option",14),i.xc(32,"16/Page"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("chamber",t.chamber),i.yb(17),i.hc("ngForOf",t.chamberPage),i.yb(2),i.hc("collectionSize",t.chamberList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[k,s.m,l.i,x.p,x.i,x.l,x.m,x.r],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:.875rem}"]}),e})();var M=o("oXKd");function j(e,t){if(1&e&&(i.Pb(0,"div",19),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function q(e,t){if(1&e&&(i.Pb(0,"option",20),i.xc(1),i.Ob()),2&e){const e=t.$implicit;i.hc("ngValue",e),i.yb(1),i.zc(" ",e.name," ")}}function I(e,t){1&e&&(i.Pb(0,"small",21),i.xc(1,"Floor Name Required"),i.Ob())}function E(e,t){1&e&&(i.Pb(0,"small",21),i.xc(1,"Floor capacity required"),i.Ob())}function F(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",17),i.Zb("click",function(){return i.pc(e),i.bc().onDelete()}),i.xc(1,"Delete"),i.Ob()}}function N(e,t){if(1&e&&(i.Pb(0,"div",22),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let V=(()=>{class e{constructor(e){this.fb=e,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.clear=new i.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){if(e.floor&&null!=this.floor){this.form.reset();const e=this.chamberList.find(e=>e._id==this.floor.chamber._id),t=Object.assign(Object.assign({},this.floor),{chamber:e});this.exists=!0,this.form.patchValue(t)}}createForm(){this.form=this.fb.group({chamber:["",x.q.required],name:["",x.q.required],capacity:["",x.q.required]})}submit(){if(this.form.valid){const e=this.form.value,t={_id:e.chamber._id,name:e.chamber.name,slug:e.chamber.slug},o=Object.assign(Object.assign({},this.form.value),{chamber:t});this.exists?this.update.emit(o):this.create.emit(o),this.clean()}}onDelete(){this.delete.emit(this.floor._id),this.clean()}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clean(){this.exists=!1,this.floor=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["floor-form"]],inputs:{floor:"floor",chamberList:"chamberList"},outputs:{create:"create",update:"update",delete:"delete",clear:"clear"},features:[i.wb],decls:31,vars:9,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","chamber",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["id","chamber","formControlName","chamber",1,"form-control","form-control-sm"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","name","formControlName","name","placeholder","Floor Name",1,"form-control","form-control-sm"],["id","nameHelp","class","form-text text-danger",4,"ngIf"],["for","capacity",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","capacity","formControlName","capacity","placeholder","Floor capacity",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"ngValue"],["id","nameHelp",1,"form-text","text-danger"],[1,"text-danger"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,j,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"label",4),i.xc(6,"Chamber"),i.Ob(),i.Pb(7,"div",5),i.Pb(8,"select",6),i.Pb(9,"option",7),i.xc(10,"Select a chamber"),i.Ob(),i.vc(11,q,2,2,"option",8),i.Ob(),i.Ob(),i.Ob(),i.Pb(12,"div",3),i.Pb(13,"label",9),i.xc(14,"Name"),i.Ob(),i.Pb(15,"div",5),i.Lb(16,"input",10),i.vc(17,I,2,0,"small",11),i.Ob(),i.Ob(),i.Pb(18,"div",3),i.Pb(19,"label",12),i.xc(20,"Capacity"),i.Ob(),i.Pb(21,"div",5),i.Lb(22,"input",13),i.vc(23,E,2,0,"small",11),i.Ob(),i.Ob(),i.Pb(24,"div",14),i.Pb(25,"button",15),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(26),i.Ob(),i.vc(27,F,2,0,"button",16),i.Pb(28,"button",17),i.Zb("click",function(){return t.clean()}),i.xc(29,"Clear"),i.Ob(),i.Ob(),i.vc(30,N,2,1,"div",18),i.Ob()),2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," Floor\n"),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(8),i.hc("ngForOf",t.chamberList),i.yb(6),i.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),i.yb(6),i.hc("ngIf",t.form.controls.capacity.errors&&t.form.controls.capacity.touched),i.yb(3),i.yc(t.exists?"Update":"Save"),i.yb(1),i.hc("ngIf",t.exists),i.yb(3),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,x.p,x.i,x.c,x.m,x.r,s.m,x.a,x.n],styles:[""]}),e})();function R(e,t){if(1&e){const e=i.Qb();i.Pb(0,"tr"),i.Pb(1,"th",15),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.Pb(5,"td"),i.xc(6),i.Ob(),i.Pb(7,"td"),i.xc(8),i.Ob(),i.Pb(9,"td"),i.Pb(10,"a",16),i.Zb("click",function(){i.pc(e);const o=t.$implicit;return i.bc().onEdit(o._id)}),i.xc(11,"Edit"),i.Ob(),i.Ob(),i.Ob()}if(2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.yc(e.chamber.name),i.yb(2),i.zc("",e.name," "),i.yb(2),i.yc(e.capacity)}}let A=(()=>{class e{constructor(e,t,o){this.floorService=e,this.chamberService=t,this.util=o,this.sendingData=!1,this.loadingData=!1,this.chamberList=[],this.floorList=[],this.page=1,this.pageSize=8,this.floorPage=[],this.errorMessage=""}ngOnInit(){this.getChamberList(),this.getFloorList()}getChamberList(){return Object(O.a)(this,void 0,void 0,function*(){this.chamberService.chambers$.subscribe(e=>{this.chamberList=e,this.chamberList.sort(this.util.dynamicSortObject("name"))})})}getFloorList(){return Object(O.a)(this,void 0,void 0,function*(){this.floorService.floors$.subscribe(e=>{this.floorList=e,this.floorList.sort(this.util.dynamicSortObject("chamber.name")),this.refreshFloor()})})}refreshFloor(){this.floorPage=this.floorList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});yield this.floorService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.floor.createdAt});yield this.floorService.update(this.floor._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.floorService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Floor Deleting ERROR ! "}),this.clear())})}onEdit(e){this.floor=this.floorList.find(t=>t._id===e)}clear(){this.floor=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(M.a),i.Kb(y.a),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-floor"]],decls:35,vars:10,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"floor","chamberList","create","update","delete"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","5",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Floor\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"floor-form",5),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"div",6),i.Pb(8,"table",7),i.Pb(9,"thead"),i.Pb(10,"tr"),i.Pb(11,"td",8),i.xc(12," Floor List "),i.Ob(),i.Ob(),i.Pb(13,"tr"),i.Pb(14,"th",9),i.xc(15,"#"),i.Ob(),i.Pb(16,"th",9),i.xc(17,"Chamber"),i.Ob(),i.Pb(18,"th",9),i.xc(19,"Name"),i.Ob(),i.Pb(20,"th",9),i.xc(21,"Capacity"),i.Ob(),i.Pb(22,"th",9),i.xc(23,"Action"),i.Ob(),i.Ob(),i.Ob(),i.Pb(24,"tbody"),i.vc(25,R,12,4,"tr",10),i.Ob(),i.Ob(),i.Pb(26,"div",11),i.Pb(27,"ngb-pagination",12),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshFloor()}),i.Ob(),i.Pb(28,"select",13),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshFloor()}),i.Pb(29,"option",14),i.xc(30,"4/Page"),i.Ob(),i.Pb(31,"option",14),i.xc(32,"8/Page"),i.Ob(),i.Pb(33,"option",14),i.xc(34,"16/Page"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("floor",t.floor)("chamberList",t.chamberList),i.yb(19),i.hc("ngForOf",t.floorPage),i.yb(2),i.hc("collectionSize",t.floorList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[V,s.m,l.i,x.p,x.i,x.l,x.m,x.r],styles:[""]}),e})();var Z=o("RoWp");function U(e,t){if(1&e&&(i.Pb(0,"div",22),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function $(e,t){if(1&e&&(i.Pb(0,"option",23),i.cc(1,"json"),i.xc(2),i.Ob()),2&e){const e=t.$implicit;i.hc("value",i.dc(1,2,e)),i.yb(2),i.zc(" ",e.name," ")}}function K(e,t){if(1&e&&(i.Pb(0,"option",24),i.xc(1),i.Ob()),2&e){const e=t.$implicit;i.hc("ngValue",e),i.yb(1),i.zc(" ",e.name," ")}}function B(e,t){1&e&&(i.Pb(0,"small",25),i.xc(1,"Line Name Required"),i.Ob())}function T(e,t){1&e&&(i.Pb(0,"small",25),i.xc(1,"Line capacity required"),i.Ob())}function Q(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",20),i.Zb("click",function(){return i.pc(e),i.bc().onDelete()}),i.xc(1,"Delete"),i.Ob()}}function G(e,t){if(1&e&&(i.Pb(0,"div",26),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let Y=(()=>{class e{constructor(e){this.fb=e,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.clear=new i.n,this.selectChamber=new i.n,this.errorMessage="",this.showForm=!1,this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){if(e.line&&null!=this.line){this.form.reset();const e=this.chamberList.find(e=>e._id==this.line.chamber._id);this.form.patchValue({chamber:e}),this.selectChamber.emit(e._id)}if(e.floorList&&this.line&&null!=this.line._id){const e=this.floorList.find(e=>e._id==this.line.floor._id),t=Object.assign(Object.assign({},this.line),{floor:e});delete t.chamber,this.exists=!0,this.showForm=!0,this.form.patchValue(t)}}createForm(){this.form=this.fb.group({chamber:["",x.q.required],floor:["",x.q.required],name:["",x.q.required],capacity:["",x.q.required]})}onChamberChange(e){const t=JSON.parse(e.target.value);this.form.controls.chamber.setValue(t),this.selectChamber.emit(t._id)}onSelectFlorr(e){e.value._id&&(this.showForm=!0)}submit(){if(this.form.valid){const e=this.form.value;console.log(e);const t={_id:e.chamber._id,name:e.chamber.name,slug:e.chamber.slug},o={_id:e.floor._id,name:e.floor.name,slug:e.floor.slug},n=Object.assign(Object.assign({},this.form.value),{chamber:t,floor:o});this.exists?this.update.emit(n):this.create.emit(n),this.clean()}}onDelete(){this.delete.emit(this.line._id),this.clean()}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clean(){this.exists=!1,this.showForm=!1,this.floorList=null,this.line=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["line-form"]],inputs:{line:"line",floorList:"floorList",chamberList:"chamberList"},outputs:{create:"create",update:"update",delete:"delete",clear:"clear",selectChamber:"selectChamber"},features:[i.wb],decls:39,vars:10,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","chamber",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["id","chamber",1,"form-control","form-control-sm",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","floor",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","floor","formControlName","floor",1,"form-control","form-control-sm"],[3,"ngValue",4,"ngFor","ngForOf"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","name","formControlName","name","placeholder","Line Name",1,"form-control","form-control-sm"],["id","nameHelp","class","form-text text-danger",4,"ngIf"],["for","capacity",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","capacity","formControlName","capacity","placeholder","Line capacity",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"],[3,"ngValue"],["id","nameHelp",1,"form-text","text-danger"],[1,"text-danger"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,U,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"label",4),i.xc(6,"Chamber"),i.Ob(),i.Pb(7,"div",5),i.Pb(8,"select",6),i.Zb("change",function(e){return t.onChamberChange(e)}),i.Pb(9,"option",7),i.xc(10,"Select a chamber"),i.Ob(),i.vc(11,$,3,4,"option",8),i.Ob(),i.Ob(),i.Ob(),i.Pb(12,"div",3),i.Pb(13,"label",9),i.xc(14,"Floor"),i.Ob(),i.Pb(15,"div",5),i.Pb(16,"select",10),i.Pb(17,"option",7),i.xc(18,"Select a floor"),i.Ob(),i.vc(19,K,2,2,"option",11),i.Ob(),i.Ob(),i.Ob(),i.Pb(20,"div",3),i.Pb(21,"label",12),i.xc(22,"Name"),i.Ob(),i.Pb(23,"div",5),i.Lb(24,"input",13),i.vc(25,B,2,0,"small",14),i.Ob(),i.Ob(),i.Pb(26,"div",3),i.Pb(27,"label",15),i.xc(28,"Capacity"),i.Ob(),i.Pb(29,"div",5),i.Lb(30,"input",16),i.vc(31,T,2,0,"small",14),i.Ob(),i.Ob(),i.Pb(32,"div",17),i.Pb(33,"button",18),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(34),i.Ob(),i.vc(35,Q,2,0,"button",19),i.Pb(36,"button",20),i.Zb("click",function(){return t.clean()}),i.xc(37,"Clear"),i.Ob(),i.Ob(),i.vc(38,G,2,1,"div",21),i.Ob()),2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," Line\n"),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(8),i.hc("ngForOf",t.chamberList),i.yb(8),i.hc("ngForOf",t.floorList),i.yb(6),i.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),i.yb(6),i.hc("ngIf",t.form.controls.capacity.errors&&t.form.controls.capacity.touched),i.yb(3),i.yc(t.exists?"Update":"Save"),i.yb(1),i.hc("ngIf",t.exists),i.yb(3),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,x.m,x.r,s.m,x.p,x.i,x.c,x.a,x.n],pipes:[s.g],styles:[""],changeDetection:0}),e})();function J(e,t){if(1&e){const e=i.Qb();i.Pb(0,"tr"),i.Pb(1,"th",15),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.Pb(5,"td"),i.xc(6),i.Ob(),i.Pb(7,"td"),i.xc(8),i.Ob(),i.Pb(9,"td"),i.xc(10),i.Ob(),i.Pb(11,"td"),i.Pb(12,"a",16),i.Zb("click",function(){i.pc(e);const o=t.$implicit;return i.bc().onEdit(o._id)}),i.xc(13,"Edit"),i.Ob(),i.Ob(),i.Ob()}if(2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.yc(e.chamber.name),i.yb(2),i.yc(e.floor.name),i.yb(2),i.zc("",e.name," "),i.yb(2),i.yc(e.capacity)}}let H=(()=>{class e{constructor(e,t,o,n,r){this.chamberService=e,this.floorService=t,this.lineService=o,this.util=n,this.cdr=r,this.sendingData=!1,this.loadingData=!1,this.page=1,this.pageSize=8,this.linePage=[],this.errorMessage=""}ngOnInit(){this.getChamberList(),this.getLineList()}ngAfterContentChecked(){this.cdr.detectChanges()}getChamberList(){return Object(O.a)(this,void 0,void 0,function*(){this.chamberService.chambers$.subscribe(e=>{this.chamberList=e,this.chamberList.sort(this.util.dynamicSortObject("priority"))})})}getFloorList(e){return Object(O.a)(this,void 0,void 0,function*(){this.floorService.floors$.subscribe(t=>{this.floorList=t.filter(t=>t.chamber._id==e),this.floorList.sort(this.util.dynamicSortObject("priority"))})})}getLineList(){return Object(O.a)(this,void 0,void 0,function*(){this.lineService.lines$.subscribe(e=>{this.lineList=e,this.lineList.sort(this.util.dynamicSortObject("priority")),this.refreshLine()})})}refreshLine(){this.linePage=this.lineList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});yield this.lineService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.line.createdAt});yield this.lineService.update(this.line._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.lineService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Line Deleting ERROR ! "}),this.clear())})}onEdit(e){this.line=this.lineList.find(t=>t._id===e)}clear(){this.line=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(y.a),i.Kb(M.a),i.Kb(Z.a),i.Kb(P.a),i.Kb(i.h))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-line"]],decls:37,vars:11,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"line","chamberList","floorList","create","update","delete","selectChamber"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","6",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Line\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"line-form",5),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)})("selectChamber",function(e){return t.getFloorList(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"div",6),i.Pb(8,"table",7),i.Pb(9,"thead"),i.Pb(10,"tr"),i.Pb(11,"td",8),i.xc(12," Line List "),i.Ob(),i.Ob(),i.Pb(13,"tr"),i.Pb(14,"th",9),i.xc(15,"#"),i.Ob(),i.Pb(16,"th",9),i.xc(17,"Chamber"),i.Ob(),i.Pb(18,"th",9),i.xc(19,"Floor"),i.Ob(),i.Pb(20,"th",9),i.xc(21,"Name"),i.Ob(),i.Pb(22,"th",9),i.xc(23,"Capacity"),i.Ob(),i.Pb(24,"th",9),i.xc(25,"Action"),i.Ob(),i.Ob(),i.Ob(),i.Pb(26,"tbody"),i.vc(27,J,14,5,"tr",10),i.Ob(),i.Ob(),i.Pb(28,"div",11),i.Pb(29,"ngb-pagination",12),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshLine()}),i.Ob(),i.Pb(30,"select",13),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshLine()}),i.Pb(31,"option",14),i.xc(32,"4/Page"),i.Ob(),i.Pb(33,"option",14),i.xc(34,"8/Page"),i.Ob(),i.Pb(35,"option",14),i.xc(36,"16/Page"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("line",t.line)("chamberList",t.chamberList)("floorList",t.floorList),i.yb(21),i.hc("ngForOf",t.linePage),i.yb(2),i.hc("collectionSize",t.lineList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[Y,s.m,l.i,x.p,x.i,x.l,x.m,x.r],styles:[""]}),e})();var W=o("SJrw");function X(e,t){if(1&e&&(i.Pb(0,"div",24),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function ee(e,t){if(1&e&&(i.Pb(0,"option",25),i.cc(1,"json"),i.xc(2),i.Ob()),2&e){const e=t.$implicit;i.hc("value",i.dc(1,2,e)),i.yb(2),i.zc(" ",e.name," ")}}function te(e,t){if(1&e&&(i.Pb(0,"option",25),i.cc(1,"json"),i.xc(2),i.Ob()),2&e){const e=t.$implicit;i.hc("value",i.dc(1,2,e)),i.yb(2),i.zc(" ",e.name," ")}}function oe(e,t){if(1&e&&(i.Pb(0,"option",26),i.xc(1),i.Ob()),2&e){const e=t.$implicit;i.hc("ngValue",e),i.yb(1),i.zc(" ",e.name," ")}}function ne(e,t){1&e&&(i.Pb(0,"small",27),i.xc(1,"Pocket Name Required"),i.Ob())}function re(e,t){1&e&&(i.Pb(0,"small",27),i.xc(1,"Pocket capacity required"),i.Ob())}function ie(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",22),i.Zb("click",function(){return i.pc(e),i.bc().onDelete()}),i.xc(1,"Delete"),i.Ob()}}function ce(e,t){if(1&e&&(i.Pb(0,"div",28),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let se=(()=>{class e{constructor(e){this.fb=e,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.clear=new i.n,this.selectChamber=new i.n,this.selectFloor=new i.n,this.errorMessage="",this.showForm=!1,this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){if(e.pocket&&null!=this.pocket){this.form.reset();const e=this.chamberList.find(e=>e._id==this.pocket.chamber._id);this.form.patchValue({chamber:e}),this.selectChamber.emit(e._id)}if(e.floorList&&this.pocket&&null!=this.pocket._id){const e=this.floorList.find(e=>e._id==this.pocket.floor._id);this.form.patchValue({floor:e}),this.selectFloor.emit(e._id)}if(e.lineList&&this.pocket&&null!=this.pocket._id){const e=this.lineList.find(e=>e._id==this.pocket.line._id),t=Object.assign(Object.assign({},this.pocket),{line:e});delete t.chamber,delete t.floor,this.exists=!0,this.showForm=!0,this.form.patchValue(t)}}createForm(){this.form=this.fb.group({chamber:["",x.q.required],floor:["",x.q.required],line:["",x.q.required],name:["",x.q.required],capacity:["",x.q.required]})}onChamberChange(e){const t=JSON.parse(e.target.value);this.form.controls.chamber.setValue(t),this.selectChamber.emit(t._id)}onFloorChange(e){const t=JSON.parse(e.target.value);this.form.controls.floor.setValue(t),console.log(t),this.selectFloor.emit(t._id)}onSelectLine(e){e.value._id&&(this.showForm=!0)}submit(){if(this.form.valid){const e=this.form.value,t={_id:e.chamber._id,name:e.chamber.name,slug:e.chamber.slug},o={_id:e.floor._id,name:e.floor.name,slug:e.floor.slug},n=Object.assign(Object.assign({},this.form.value),{chamber:t,floor:o});this.exists?this.update.emit(n):this.create.emit(n),this.clean()}}onDelete(){this.delete.emit(this.pocket._id),this.clean()}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clean(){this.exists=!1,this.showForm=!1,this.floorList=null,this.lineList=null,this.pocket=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["pocket-form"]],inputs:{pocket:"pocket",lineList:"lineList",floorList:"floorList",chamberList:"chamberList"},outputs:{create:"create",update:"update",delete:"delete",clear:"clear",selectChamber:"selectChamber",selectFloor:"selectFloor"},features:[i.wb],decls:47,vars:11,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","chamber",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["id","chamber",1,"form-control","form-control-sm",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","floor",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","floor",1,"form-control","form-control-sm",3,"change"],["for","line",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","line","formControlName","line",1,"form-control","form-control-sm"],[3,"ngValue",4,"ngFor","ngForOf"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","name","formControlName","name","placeholder","Pocket Name",1,"form-control","form-control-sm"],["id","nameHelp","class","form-text text-danger",4,"ngIf"],["for","capacity",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","capacity","formControlName","capacity","placeholder","Pocket capacity",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"],[3,"ngValue"],["id","nameHelp",1,"form-text","text-danger"],[1,"text-danger"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,X,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"label",4),i.xc(6,"Chamber"),i.Ob(),i.Pb(7,"div",5),i.Pb(8,"select",6),i.Zb("change",function(e){return t.onChamberChange(e)}),i.Pb(9,"option",7),i.xc(10,"Select a chamber"),i.Ob(),i.vc(11,ee,3,4,"option",8),i.Ob(),i.Ob(),i.Ob(),i.Pb(12,"div",3),i.Pb(13,"label",9),i.xc(14,"Floor"),i.Ob(),i.Pb(15,"div",5),i.Pb(16,"select",10),i.Zb("change",function(e){return t.onFloorChange(e)}),i.Pb(17,"option",7),i.xc(18,"Select a floor"),i.Ob(),i.vc(19,te,3,4,"option",8),i.Ob(),i.Ob(),i.Ob(),i.Pb(20,"div",3),i.Pb(21,"label",11),i.xc(22,"Line"),i.Ob(),i.Pb(23,"div",5),i.Pb(24,"select",12),i.Pb(25,"option",7),i.xc(26,"Select a line"),i.Ob(),i.vc(27,oe,2,2,"option",13),i.Ob(),i.Ob(),i.Ob(),i.Pb(28,"div",3),i.Pb(29,"label",14),i.xc(30,"Name"),i.Ob(),i.Pb(31,"div",5),i.Lb(32,"input",15),i.vc(33,ne,2,0,"small",16),i.Ob(),i.Ob(),i.Pb(34,"div",3),i.Pb(35,"label",17),i.xc(36,"Capacity"),i.Ob(),i.Pb(37,"div",5),i.Lb(38,"input",18),i.vc(39,re,2,0,"small",16),i.Ob(),i.Ob(),i.Pb(40,"div",19),i.Pb(41,"button",20),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(42),i.Ob(),i.vc(43,ie,2,0,"button",21),i.Pb(44,"button",22),i.Zb("click",function(){return t.clean()}),i.xc(45,"Clear"),i.Ob(),i.Ob(),i.vc(46,ce,2,1,"div",23),i.Ob()),2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," Pocket\n"),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(8),i.hc("ngForOf",t.chamberList),i.yb(8),i.hc("ngForOf",t.floorList),i.yb(8),i.hc("ngForOf",t.lineList),i.yb(6),i.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),i.yb(6),i.hc("ngIf",t.form.controls.capacity.errors&&t.form.controls.capacity.touched),i.yb(3),i.yc(t.exists?"Update":"Save"),i.yb(1),i.hc("ngIf",t.exists),i.yb(3),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,x.m,x.r,s.m,x.p,x.i,x.c,x.a,x.n],pipes:[s.g],styles:[""]}),e})();function ae(e,t){if(1&e){const e=i.Qb();i.Pb(0,"tr"),i.Pb(1,"th",15),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.Pb(5,"td"),i.xc(6),i.Ob(),i.Pb(7,"td"),i.xc(8),i.Ob(),i.Pb(9,"td"),i.xc(10),i.Ob(),i.Pb(11,"td"),i.xc(12),i.Ob(),i.Pb(13,"td"),i.Pb(14,"a",16),i.Zb("click",function(){i.pc(e);const o=t.$implicit;return i.bc().onEdit(o._id)}),i.xc(15,"Edit"),i.Ob(),i.Ob(),i.Ob()}if(2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.yc(e.chamber.name),i.yb(2),i.yc(e.floor.name),i.yb(2),i.yc(e.line.name),i.yb(2),i.zc("",e.name," "),i.yb(2),i.yc(e.capacity)}}let be=(()=>{class e{constructor(e,t,o,n,r,i){this.chamberService=e,this.floorService=t,this.lineService=o,this.pocketService=n,this.util=r,this.cdr=i,this.sendingData=!1,this.loadingData=!1,this.page=1,this.pageSize=8,this.pocketPage=[],this.errorMessage=""}ngOnInit(){this.getChamberList(),this.getPocketList()}ngAfterContentChecked(){this.cdr.detectChanges()}ngAfterViewChecked(){this.cdr.detectChanges()}getChamberList(){return Object(O.a)(this,void 0,void 0,function*(){this.chamberService.chambers$.subscribe(e=>{this.chamberList=e,this.chamberList.sort(this.util.dynamicSortObject("priority"))})})}getFloorList(e){return Object(O.a)(this,void 0,void 0,function*(){this.floorService.floors$.subscribe(t=>{this.floorList=t.filter(t=>t.chamber._id==e),this.floorList.sort(this.util.dynamicSortObject("priority"))})})}getLineList(e){return Object(O.a)(this,void 0,void 0,function*(){console.log(e),this.lineService.lines$.subscribe(t=>{this.lineList=t.filter(t=>t.floor._id==e),console.log(this.lineList),this.lineList.sort(this.util.dynamicSortObject("priority"))})})}getPocketList(){return Object(O.a)(this,void 0,void 0,function*(){this.pocketService.pockets$.subscribe(e=>{this.pocketList=e,this.pocketList.sort(this.util.dynamicSortObject("priority")),this.refreshPocket()})})}refreshPocket(){this.pocketPage=this.pocketList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});console.log(t),yield this.pocketService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.pocket.createdAt});yield this.pocketService.update(this.pocket._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.pocketService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Line Deleting ERROR ! "}),this.clear())})}onEdit(e){this.pocket=this.pocketList.find(t=>t._id===e)}clear(){this.pocket=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(y.a),i.Kb(M.a),i.Kb(Z.a),i.Kb(W.a),i.Kb(P.a),i.Kb(i.h))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-pocket"]],decls:39,vars:12,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"pocket","chamberList","floorList","lineList","create","update","delete","selectChamber","selectFloor"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","7",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Pocket\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"pocket-form",5),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)})("selectChamber",function(e){return t.getFloorList(e)})("selectFloor",function(e){return t.getLineList(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"div",6),i.Pb(8,"table",7),i.Pb(9,"thead"),i.Pb(10,"tr"),i.Pb(11,"td",8),i.xc(12," Pocket List "),i.Ob(),i.Ob(),i.Pb(13,"tr"),i.Pb(14,"th",9),i.xc(15,"#"),i.Ob(),i.Pb(16,"th",9),i.xc(17,"Chamber"),i.Ob(),i.Pb(18,"th",9),i.xc(19,"Floor"),i.Ob(),i.Pb(20,"th",9),i.xc(21,"Line"),i.Ob(),i.Pb(22,"th",9),i.xc(23,"Name"),i.Ob(),i.Pb(24,"th",9),i.xc(25,"Capacity"),i.Ob(),i.Pb(26,"th",9),i.xc(27,"Action"),i.Ob(),i.Ob(),i.Ob(),i.Pb(28,"tbody"),i.vc(29,ae,16,6,"tr",10),i.Ob(),i.Ob(),i.Pb(30,"div",11),i.Pb(31,"ngb-pagination",12),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshPocket()}),i.Ob(),i.Pb(32,"select",13),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshPocket()}),i.Pb(33,"option",14),i.xc(34,"4/Page"),i.Ob(),i.Pb(35,"option",14),i.xc(36,"8/Page"),i.Ob(),i.Pb(37,"option",14),i.xc(38,"16/Page"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("pocket",t.pocket)("chamberList",t.chamberList)("floorList",t.floorList)("lineList",t.lineList),i.yb(23),i.hc("ngForOf",t.pocketPage),i.yb(2),i.hc("collectionSize",t.pocketList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[se,s.m,l.i,x.p,x.i,x.l,x.m,x.r],styles:[""]}),e})();var le=o("2kyN");function de(e,t){if(1&e&&(i.Pb(0,"div",13),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function he(e,t){1&e&&(i.Pb(0,"small",14),i.xc(1,"Role Name Required"),i.Ob())}function ue(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",11),i.Zb("click",function(){return i.pc(e),i.bc().onDelete()}),i.xc(1,"Delete"),i.Ob()}}function me(e,t){if(1&e&&(i.Pb(0,"div",15),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let ge=(()=>{class e{constructor(e){this.fb=e,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){e.role&&null!=this.role&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.role))}createForm(){this.form=this.fb.group({name:["",x.q.required]})}submit(){if(this.form.valid){if(this.exists){const e=Object.assign(Object.assign({},this.role),this.form.value);this.update.emit(e)}else this.create.emit(this.form.value);this.clear()}}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.role._id),this.clear()}clear(){this.exists=!1,this.role=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["role-form"]],inputs:{role:"role"},outputs:{create:"create",update:"update",delete:"delete"},features:[i.wb],decls:17,vars:7,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","Role Name",1,"form-control","form-control-sm"],["id","nameHelp","class","form-text text-danger",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],[1,"alert","alert-danger"],["id","nameHelp",1,"form-text","text-danger"],[1,"text-danger"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,de,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"label",4),i.xc(6,"Name"),i.Ob(),i.Pb(7,"div",5),i.Lb(8,"input",6),i.vc(9,he,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(10,"div",8),i.Pb(11,"button",9),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(12),i.Ob(),i.vc(13,ue,2,0,"button",10),i.Pb(14,"button",11),i.Zb("click",function(){return t.clear()}),i.xc(15,"Clear"),i.Ob(),i.Ob(),i.vc(16,me,2,1,"div",12),i.Ob()),2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," Role\n"),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(6),i.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),i.yb(3),i.yc(t.exists?"Update":"Save"),i.yb(1),i.hc("ngIf",t.exists),i.yb(3),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,x.a,x.i,x.c],styles:[""]}),e})();function fe(e,t){if(1&e){const e=i.Qb();i.Pb(0,"tr"),i.Pb(1,"th",15),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.Pb(5,"td"),i.Pb(6,"a",16),i.Zb("click",function(){i.pc(e);const o=t.$implicit;return i.bc().onEdit(o._id)}),i.xc(7,"Edit"),i.Ob(),i.Ob(),i.Ob()}if(2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.zc(" ",e.name," ")}}let pe=(()=>{class e{constructor(e,t){this.roleService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.roleList=[],this.page=1,this.pageSize=8,this.rolePage=[],this.errorMessage=""}ngOnInit(){this.getRoleList()}getRoleList(){return Object(O.a)(this,void 0,void 0,function*(){this.roleService.roles$.subscribe(e=>{this.roleList=e,this.roleList.sort(this.util.dynamicSortObject("name")),this.refreshRole()})})}refreshRole(){this.rolePage=this.roleList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase()});yield this.roleService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name),createdAt:this.role.createdAt});yield this.roleService.update(this.role._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.roleService.delete(e).then(()=>{this.sendingData=!1,this.role=null}).catch(e=>{this.sendingData=!1,this.errorMessage="Role Deleting ERROR ! "}),this.clear())})}onEdit(e){this.role=this.roleList.find(t=>t._id===e),console.log("onEdit",e)}clear(){this.role=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(le.a),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-role"]],decls:31,vars:9,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"role","create","update","delete"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","4",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Role\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"role-form",5),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"div",6),i.Pb(8,"table",7),i.Pb(9,"thead"),i.Pb(10,"tr"),i.Pb(11,"td",8),i.xc(12," Role List "),i.Ob(),i.Ob(),i.Pb(13,"tr"),i.Pb(14,"th",9),i.xc(15,"#"),i.Ob(),i.Pb(16,"th",9),i.xc(17,"Name"),i.Ob(),i.Pb(18,"th",9),i.xc(19,"Action"),i.Ob(),i.Ob(),i.Ob(),i.Pb(20,"tbody"),i.vc(21,fe,8,2,"tr",10),i.Ob(),i.Ob(),i.Pb(22,"div",11),i.Pb(23,"ngb-pagination",12),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshRole()}),i.Ob(),i.Pb(24,"select",13),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshRole()}),i.Pb(25,"option",14),i.xc(26,"4/Page"),i.Ob(),i.Pb(27,"option",14),i.xc(28,"8/Page"),i.Ob(),i.Pb(29,"option",14),i.xc(30,"16/Page"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("role",t.role),i.yb(15),i.hc("ngForOf",t.rolePage),i.yb(2),i.hc("collectionSize",t.roleList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[ge,s.m,l.i,x.p,x.i,x.l,x.m,x.r],styles:[""]}),e})();var ve=o("/7iW");function Oe(e,t){if(1&e&&(i.Pb(0,"div",29),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function ye(e,t){1&e&&(i.Pb(0,"small",30),i.xc(1,"User Name Required"),i.Ob())}function Pe(e,t){if(1&e&&(i.Pb(0,"small",31),i.Pb(1,"div",32),i.xc(2," Phone required "),i.Ob(),i.Pb(3,"div",32),i.xc(4," Phone patter should be 01945564841 "),i.Ob(),i.Ob()),2&e){const e=i.bc();i.yb(1),i.hc("hidden",!e.form.controls.phone.errors.required),i.yb(2),i.hc("hidden",!e.form.controls.phone.errors.pattern)}}function xe(e,t){if(1&e&&(i.Pb(0,"small",31),i.Pb(1,"div",32),i.xc(2," Email required "),i.Ob(),i.Pb(3,"div",32),i.xc(4," Invalid email "),i.Ob(),i.Ob()),2&e){const e=i.bc();i.yb(1),i.hc("hidden",!e.form.controls.email.errors.required),i.yb(2),i.hc("hidden",!e.form.controls.email.errors.email)}}function Le(e,t){1&e&&(i.Pb(0,"small",30),i.xc(1,"User password Required"),i.Ob())}function _e(e,t){if(1&e&&(i.Pb(0,"option",33),i.xc(1),i.Ob()),2&e){const e=t.$implicit;i.hc("ngValue",e),i.yb(1),i.zc(" ",e.name," ")}}function Ce(e,t){1&e&&(i.Pb(0,"small",30),i.xc(1,"User role required"),i.Ob())}function we(e,t){1&e&&(i.Pb(0,"small",30),i.xc(1,"User address required"),i.Ob())}function Se(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",28),i.Zb("click",function(){return i.pc(e),i.bc().onDelete()}),i.xc(1,"Delete"),i.Ob()}}function ke(e,t){if(1&e&&(i.Pb(0,"div",31),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let ze=(()=>{class e{constructor(e){this.fb=e,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.errorMessage="",this.exists=!1,this.showPassword=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){if(e.user&&null!=this.user){this.form.reset();const e=this.roleList.find(e=>e.name==this.user.role),t=Object.assign(Object.assign({},this.user),{role:e});this.exists=!0,this.form.patchValue(t)}}createForm(){this.form=this.fb.group({name:["",x.q.required],email:["",[x.q.required,x.q.email]],phone:["",[x.q.required,x.q.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],password:["",x.q.required],role:["",x.q.required],address:["",x.q.required]})}submit(){if(this.form.valid){const e=this.form.value.role.name,t=Object.assign(Object.assign({},this.form.value),{role:e});if(this.exists){const e=Object.assign(Object.assign({},this.user),t);this.update.emit(e)}else this.create.emit(t);this.clear()}}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.user._id),this.clear()}clear(){this.exists=!1,this.user=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["user-form"]],inputs:{user:"user",roleList:"roleList"},outputs:{create:"create",update:"update",delete:"delete"},features:[i.wb],decls:54,vars:17,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","User Name",1,"form-control","form-control-sm"],["class","form-text text-danger",4,"ngIf"],["for","phone",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","phone","maxlength","11","formControlName","phone","placeholder","User phone",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","email",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","email","formControlName","email","placeholder","User email",1,"form-control","form-control-sm",3,"readonly"],["for","password",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"input-group","mb-2"],["id","password","formControlName","password","placeholder","Password",1,"form-control","form-control-sm",3,"type","readonly"],[1,"input-group-append"],[1,"input-group-text",2,"cursor","pointer",3,"click"],[1,"fa",3,"ngClass"],["for","role",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","role","formControlName","role",1,"form-control","form-control-sm"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","address",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","address","formControlName","address","rows","3","placeholder","Address",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"form-text","text-danger"],[1,"text-danger"],[3,"hidden"],[3,"ngValue"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,Oe,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"label",4),i.xc(6,"Name"),i.Ob(),i.Pb(7,"div",5),i.Lb(8,"input",6),i.vc(9,ye,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(10,"div",3),i.Pb(11,"label",8),i.xc(12,"Phone"),i.Ob(),i.Pb(13,"div",5),i.Lb(14,"input",9),i.vc(15,Pe,5,2,"small",10),i.Ob(),i.Ob(),i.Pb(16,"div",3),i.Pb(17,"label",11),i.xc(18,"Email"),i.Ob(),i.Pb(19,"div",5),i.Lb(20,"input",12),i.vc(21,xe,5,2,"small",10),i.Ob(),i.Ob(),i.Pb(22,"div",3),i.Pb(23,"label",13),i.xc(24,"Password "),i.Ob(),i.Pb(25,"div",5),i.Pb(26,"div",14),i.Lb(27,"input",15),i.Pb(28,"div",16),i.Pb(29,"span",17),i.Zb("click",function(){return t.showPassword=!t.showPassword}),i.Lb(30,"i",18),i.Ob(),i.Ob(),i.Ob(),i.vc(31,Le,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(32,"div",3),i.Pb(33,"label",19),i.xc(34,"Role"),i.Ob(),i.Pb(35,"div",5),i.Pb(36,"select",20),i.Pb(37,"option",21),i.xc(38,"Select a role"),i.Ob(),i.vc(39,_e,2,2,"option",22),i.Ob(),i.vc(40,Ce,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(41,"div",3),i.Pb(42,"label",23),i.xc(43,"Address"),i.Ob(),i.Pb(44,"div",5),i.Lb(45,"textarea",24),i.vc(46,we,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(47,"div",25),i.Pb(48,"button",26),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(49),i.Ob(),i.vc(50,Se,2,0,"button",27),i.Pb(51,"button",28),i.Zb("click",function(){return t.clear()}),i.xc(52,"Clear"),i.Ob(),i.Ob(),i.vc(53,ke,2,1,"div",10),i.Ob()),2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," User\n"),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(6),i.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),i.yb(6),i.hc("ngIf",t.form.controls.phone.errors&&t.form.controls.phone.touched),i.yb(5),i.hc("readonly",t.exists),i.yb(1),i.hc("ngIf",t.form.controls.email.errors&&t.form.controls.email.touched),i.yb(6),i.hc("type",t.showPassword?"text":"password")("readonly",t.exists),i.yb(3),i.hc("ngClass",t.showPassword?"fa-eye-slash":"fa-eye"),i.yb(1),i.hc("ngIf",t.form.controls.password.errors&&t.form.controls.password.touched),i.yb(8),i.hc("ngForOf",t.roleList),i.yb(1),i.hc("ngIf",t.form.controls.role.errors&&t.form.controls.role.touched),i.yb(6),i.hc("ngIf",t.form.controls.address.errors&&t.form.controls.address.touched),i.yb(3),i.yc(t.exists?"Update":"Save"),i.yb(1),i.hc("ngIf",t.exists),i.yb(3),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,x.a,x.i,x.c,x.f,s.l,x.p,x.m,x.r,s.m],styles:[""]}),e})();function De(e,t){if(1&e){const e=i.Qb();i.Pb(0,"tr"),i.Pb(1,"th",15),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.Pb(5,"td"),i.xc(6),i.Ob(),i.Pb(7,"td"),i.xc(8),i.Ob(),i.Pb(9,"td"),i.xc(10),i.Ob(),i.Pb(11,"td"),i.Pb(12,"a",16),i.Zb("click",function(){i.pc(e);const o=t.$implicit;return i.bc().onEdit(o._id)}),i.xc(13,"Edit"),i.Ob(),i.Ob(),i.Ob()}if(2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.zc(" ",e.name," "),i.yb(2),i.zc(" ",e.phone," "),i.yb(2),i.zc(" ",e.email," "),i.yb(2),i.zc(" ",e.role," ")}}let Me=(()=>{class e{constructor(e,t,o,n){this.userService=e,this.roleService=t,this.auth=o,this.util=n,this.sendingData=!1,this.loadingData=!1,this.userList=[],this.roleList=[],this.page=1,this.pageSize=8,this.userPage=[],this.errorMessage=""}ngOnInit(){this.getUserList(),this.getRoleList()}getRoleList(){return Object(O.a)(this,void 0,void 0,function*(){this.roleService.roles$.subscribe(e=>{this.roleList=e,this.roleList.sort(this.util.dynamicSortObject("name"))})})}getUserList(){return Object(O.a)(this,void 0,void 0,function*(){this.userService.users$.subscribe(e=>{this.userList=e,this.userList.sort(this.util.dynamicSortObject("name")),this.refreshUser()})})}refreshUser(){this.userPage=this.userList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),console.log(this.userPage)}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase()});yield this.userService.create(t).then(t=>{console.log(t),this.auth.register(e.email,e.password).then(e=>console.log("User Registration success"))}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name),createdAt:this.user.createdAt});yield this.userService.update(this.user._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.userService.delete(e).then(()=>{this.sendingData=!1,this.user=null}).catch(e=>{this.sendingData=!1,this.errorMessage="User Deleting ERROR ! "}),this.clear())})}onEdit(e){this.user=this.userList.find(t=>t._id===e),console.log("onEdit",e)}clear(){this.user=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(ve.a),i.Kb(le.a),i.Kb(c.a),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-user"]],decls:37,vars:10,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"user","roleList","create","update","delete"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","6",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," User\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"user-form",5),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"div",6),i.Pb(8,"table",7),i.Pb(9,"thead"),i.Pb(10,"tr"),i.Pb(11,"td",8),i.xc(12," User List "),i.Ob(),i.Ob(),i.Pb(13,"tr"),i.Pb(14,"th",9),i.xc(15,"#"),i.Ob(),i.Pb(16,"th",9),i.xc(17,"Name"),i.Ob(),i.Pb(18,"th",9),i.xc(19,"Phone"),i.Ob(),i.Pb(20,"th",9),i.xc(21,"Email"),i.Ob(),i.Pb(22,"th",9),i.xc(23,"Role"),i.Ob(),i.Pb(24,"th",9),i.xc(25,"Action"),i.Ob(),i.Ob(),i.Ob(),i.Pb(26,"tbody"),i.vc(27,De,14,5,"tr",10),i.Ob(),i.Ob(),i.Pb(28,"div",11),i.Pb(29,"ngb-pagination",12),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshUser()}),i.Ob(),i.Pb(30,"select",13),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshUser()}),i.Pb(31,"option",14),i.xc(32,"4/Page"),i.Ob(),i.Pb(33,"option",14),i.xc(34,"8/Page"),i.Ob(),i.Pb(35,"option",14),i.xc(36,"16/Page"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("user",t.user)("roleList",t.roleList),i.yb(21),i.hc("ngForOf",t.userPage),i.yb(2),i.hc("collectionSize",t.userList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[ze,s.m,l.i,x.p,x.i,x.l,x.m,x.r],styles:[""]}),e})();var je=o("OABl");function qe(e,t){if(1&e&&(i.Pb(0,"div",19),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function Ie(e,t){1&e&&(i.Pb(0,"small",20),i.xc(1,"Agent Name Required"),i.Ob())}function Ee(e,t){1&e&&(i.Pb(0,"small",21),i.xc(1," Father name required "),i.Ob())}function Fe(e,t){if(1&e&&(i.Pb(0,"small",21),i.Pb(1,"div",22),i.xc(2," Phone required "),i.Ob(),i.Pb(3,"div",22),i.xc(4," Phone patter should be 01945564841 "),i.Ob(),i.Ob()),2&e){const e=i.bc();i.yb(1),i.hc("hidden",!e.form.controls.phone.errors.required),i.yb(2),i.hc("hidden",!e.form.controls.phone.errors.pattern)}}function Ne(e,t){1&e&&(i.Pb(0,"small",20),i.xc(1,"Agent address required"),i.Ob())}function Ve(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",18),i.Zb("click",function(){return i.pc(e),i.bc().onDelete()}),i.xc(1,"Delete"),i.Ob()}}function Re(e,t){if(1&e&&(i.Pb(0,"div",21),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let Ae=(()=>{class e{constructor(e){this.fb=e,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){e.agent&&null!=this.agent&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.agent))}createForm(){this.form=this.fb.group({name:["",x.q.required],father:["",x.q.required],phone:["",[x.q.required,x.q.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],address:["",x.q.required]})}submit(){this.form.valid&&(this.exists?this.update.emit(this.form.value):this.create.emit(this.form.value),this.clear())}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.agent._id),this.clear()}clear(){this.exists=!1,this.agent=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["agent-form"]],inputs:{agent:"agent"},outputs:{create:"create",update:"update",delete:"delete"},features:[i.wb],decls:35,vars:10,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","Agent Name",1,"form-control","form-control-sm"],["class","form-text text-danger",4,"ngIf"],["for","father",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","father","formControlName","father","placeholder","Agent father name",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","phone",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","phone","maxlength","11","formControlName","phone","placeholder","Agent phone",1,"form-control","form-control-sm"],["for","address",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","address","formControlName","address","rows","3","placeholder","Address",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"form-text","text-danger"],[1,"text-danger"],[3,"hidden"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,qe,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"label",4),i.xc(6,"Name"),i.Ob(),i.Pb(7,"div",5),i.Lb(8,"input",6),i.vc(9,Ie,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(10,"div",3),i.Pb(11,"label",8),i.xc(12,"Father"),i.Ob(),i.Pb(13,"div",5),i.Lb(14,"input",9),i.vc(15,Ee,2,0,"small",10),i.Ob(),i.Ob(),i.Pb(16,"div",3),i.Pb(17,"label",11),i.xc(18,"Phone"),i.Ob(),i.Pb(19,"div",5),i.Lb(20,"input",12),i.vc(21,Fe,5,2,"small",10),i.Ob(),i.Ob(),i.Pb(22,"div",3),i.Pb(23,"label",13),i.xc(24,"Address"),i.Ob(),i.Pb(25,"div",5),i.Lb(26,"textarea",14),i.vc(27,Ne,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(28,"div",15),i.Pb(29,"button",16),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(30),i.Ob(),i.vc(31,Ve,2,0,"button",17),i.Pb(32,"button",18),i.Zb("click",function(){return t.clear()}),i.xc(33,"Clear"),i.Ob(),i.Ob(),i.vc(34,Re,2,1,"div",10),i.Ob()),2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," Agent\n"),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(6),i.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),i.yb(6),i.hc("ngIf",t.form.controls.father.errors&&t.form.controls.father.touched),i.yb(6),i.hc("ngIf",t.form.controls.phone.errors&&t.form.controls.phone.touched),i.yb(6),i.hc("ngIf",t.form.controls.address.errors&&t.form.controls.address.touched),i.yb(3),i.yc(t.exists?"Update":"Save"),i.yb(1),i.hc("ngIf",t.exists),i.yb(3),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,x.a,x.i,x.c,x.f],styles:[""]}),e})();function Ze(e,t){1&e&&i.Lb(0,"td",15)}function Ue(e,t){1&e&&(i.Pb(0,"th",11),i.xc(1,"Father"),i.Ob())}function $e(e,t){if(1&e&&(i.Pb(0,"td"),i.xc(1),i.Ob()),2&e){const e=i.bc().$implicit;i.yb(1),i.zc(" ",e.father," ")}}function Ke(e,t){if(1&e){const e=i.Qb();i.Pb(0,"tr"),i.Pb(1,"th",16),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.vc(5,$e,2,1,"td",17),i.Pb(6,"td"),i.xc(7),i.Ob(),i.Pb(8,"td"),i.Pb(9,"a",18),i.Zb("click",function(){i.pc(e);const o=t.$implicit;return i.bc().onEdit(o._id)}),i.xc(10),i.Ob(),i.Ob(),i.Ob()}if(2&e){const e=t.$implicit,o=t.index,n=i.bc();i.yb(2),i.yc(o+1),i.yb(2),i.zc(" ",e.name," "),i.yb(1),i.hc("ngIf",!n.short),i.yb(2),i.zc(" ",e.phone," "),i.yb(3),i.yc(n.short?"Select":"Edit")}}function Be(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",19),i.Pb(1,"ngb-pagination",20),i.Zb("pageChange",function(t){return i.pc(e),i.bc().page=t})("pageChange",function(){return i.pc(e),i.bc().refreshAgent()}),i.Ob(),i.Pb(2,"select",21),i.Zb("ngModelChange",function(t){return i.pc(e),i.bc().pageSize=t})("ngModelChange",function(){return i.pc(e),i.bc().refreshAgent()}),i.Pb(3,"option",22),i.xc(4,"4/Page"),i.Ob(),i.Pb(5,"option",22),i.xc(6,"8/Page"),i.Ob(),i.Pb(7,"option",22),i.xc(8,"16/Page"),i.Ob(),i.Ob(),i.Ob()}if(2&e){const e=i.bc();i.yb(1),i.hc("collectionSize",e.agentList.length)("page",e.page)("pageSize",e.pageSize),i.yb(1),i.hc("ngModel",e.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16)}}let Te=(()=>{class e{constructor(){this.edit=new i.n,this.searching=!1,this.page=1,this.pageSize=8,this.agentPage=[],this.agentSearch=[]}ngOnChanges(e){e.agentList&&null!=this.agentList&&this.agentList.length>0&&this.refreshAgent()}onEdit(e){this.edit.emit(e)}refreshAgent(){this.agentPage=this.agentList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onSearch(e){e.length>2?(this.searching=!0,console.log(e,e.length),this.agentPage=this.search(e)):(this.searching=!1,this.refreshAgent())}search(e){return this.agentList.filter(t=>{const o=e.toLowerCase();return t.name.toLowerCase().includes(o)||t.phone.includes(o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["agent-list"]],inputs:{agentList:"agentList",short:"short"},outputs:{edit:"edit"},features:[i.wb],decls:28,vars:4,consts:[[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","Name / Phone",1,"form-control","form-control-sm",3,"keyup"],[1,"table","table-striped","border","table-sm"],["colspan","4",1,"form-head"],["class","form-head",4,"ngIf"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between p-2",4,"ngIf"],[1,"form-head"],["scope","row"],[4,"ngIf"],[1,"edit_link",3,"click"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(e,t){1&e&&(i.Pb(0,"form"),i.Pb(1,"div",0),i.Lb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"div",5),i.Lb(7,"i",6),i.Ob(),i.Ob(),i.Pb(8,"input",7),i.Zb("keyup",function(e){return t.onSearch(e.target.value)}),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(9,"table",8),i.Pb(10,"thead"),i.Pb(11,"tr"),i.Pb(12,"td",9),i.xc(13," Agent List "),i.Ob(),i.vc(14,Ze,1,0,"td",10),i.Ob(),i.Pb(15,"tr"),i.Pb(16,"th",11),i.xc(17,"#"),i.Ob(),i.Pb(18,"th",11),i.xc(19,"Name"),i.Ob(),i.vc(20,Ue,2,0,"th",12),i.Pb(21,"th",11),i.xc(22,"Phone"),i.Ob(),i.Pb(23,"th",11),i.xc(24,"Action"),i.Ob(),i.Ob(),i.Ob(),i.Pb(25,"tbody"),i.vc(26,Ke,11,5,"tr",13),i.Ob(),i.Ob(),i.vc(27,Be,9,7,"div",14)),2&e&&(i.yb(14),i.hc("ngIf",!t.short),i.yb(6),i.hc("ngIf",!t.short),i.yb(6),i.hc("ngForOf",t.agentPage),i.yb(1),i.hc("ngIf",!t.searching))},directives:[x.s,x.j,x.k,s.n,s.m,l.i,x.p,x.i,x.l,x.m,x.r],styles:[""]}),e})(),Qe=(()=>{class e{constructor(e,t){this.agentService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.agentList=[],this.errorMessage=""}ngOnInit(){this.getAgentList()}getAgentList(){return Object(O.a)(this,void 0,void 0,function*(){this.agentService.agents$.subscribe(e=>{this.agentList=e,this.agentList.sort(this.util.dynamicSortObject("priority"))})})}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});yield this.agentService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.agent.createdAt});yield this.agentService.update(this.agent._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.agentService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Agent Deleting ERROR ! "}),this.clear())})}onEdit(e){this.agent=this.agentList.find(t=>t._id===e)}clear(){this.agent=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(je.a),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-agent"]],decls:9,vars:2,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"agent","create","update","delete"],[1,"col-md-8","mt-2"],[3,"agentList","edit"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Agent\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"agent-form",5),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"div",6),i.Pb(8,"agent-list",7),i.Zb("edit",function(e){return t.onEdit(e)}),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("agent",t.agent),i.yb(2),i.hc("agentList",t.agentList))},directives:[Ae,Te],styles:[""]}),e})();var Ge=o("1Wpa");function Ye(e,t){if(1&e&&(i.Pb(0,"div",19),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage," ")}}function Je(e,t){1&e&&(i.Pb(0,"small",20),i.xc(1,"Loading Party Name Required"),i.Ob())}function He(e,t){1&e&&(i.Pb(0,"small",21),i.xc(1," Father name required "),i.Ob())}function We(e,t){if(1&e&&(i.Pb(0,"small",21),i.Pb(1,"div",22),i.xc(2," Phone required "),i.Ob(),i.Pb(3,"div",22),i.xc(4," Phone patter should be 01945564841 "),i.Ob(),i.Ob()),2&e){const e=i.bc();i.yb(1),i.hc("hidden",!e.form.controls.phone.errors.required),i.yb(2),i.hc("hidden",!e.form.controls.phone.errors.pattern)}}function Xe(e,t){1&e&&(i.Pb(0,"small",20),i.xc(1,"Loading Party address required"),i.Ob())}function et(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",18),i.Zb("click",function(){return i.pc(e),i.bc().onDelete()}),i.xc(1,"Delete"),i.Ob()}}function tt(e,t){if(1&e&&(i.Pb(0,"div",21),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let ot=(()=>{class e{constructor(e){this.fb=e,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){e.customer&&null!=this.customer&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.customer))}createForm(){this.form=this.fb.group({name:["",x.q.required],father:["",x.q.required],phone:["",[x.q.required,x.q.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],address:["",x.q.required]})}submit(){this.form.valid&&(this.exists?this.update.emit(this.form.value):this.create.emit(this.form.value),this.clear())}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.customer._id),this.clear()}clear(){this.exists=!1,this.customer=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["customer-form"]],inputs:{customer:"customer"},outputs:{create:"create",update:"update",delete:"delete"},features:[i.wb],decls:35,vars:10,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","Loading Party Name",1,"form-control","form-control-sm"],["class","form-text text-danger",4,"ngIf"],["for","father",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","father","formControlName","father","placeholder","Loading Party father name",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","phone",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","phone","maxlength","11","formControlName","phone","placeholder","Loading Party phone",1,"form-control","form-control-sm"],["for","address",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","address","formControlName","address","rows","3","placeholder","Address",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"form-text","text-danger"],[1,"text-danger"],[3,"hidden"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,Ye,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"label",4),i.xc(6,"Name"),i.Ob(),i.Pb(7,"div",5),i.Lb(8,"input",6),i.vc(9,Je,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(10,"div",3),i.Pb(11,"label",8),i.xc(12,"Father"),i.Ob(),i.Pb(13,"div",5),i.Lb(14,"input",9),i.vc(15,He,2,0,"small",10),i.Ob(),i.Ob(),i.Pb(16,"div",3),i.Pb(17,"label",11),i.xc(18,"Phone"),i.Ob(),i.Pb(19,"div",5),i.Lb(20,"input",12),i.vc(21,We,5,2,"small",10),i.Ob(),i.Ob(),i.Pb(22,"div",3),i.Pb(23,"label",13),i.xc(24,"Address"),i.Ob(),i.Pb(25,"div",5),i.Lb(26,"textarea",14),i.vc(27,Xe,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(28,"div",15),i.Pb(29,"button",16),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(30),i.Ob(),i.vc(31,et,2,0,"button",17),i.Pb(32,"button",18),i.Zb("click",function(){return t.clear()}),i.xc(33,"Clear"),i.Ob(),i.Ob(),i.vc(34,tt,2,1,"div",10),i.Ob()),2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," Loading Party "),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(6),i.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),i.yb(6),i.hc("ngIf",t.form.controls.father.errors&&t.form.controls.father.touched),i.yb(6),i.hc("ngIf",t.form.controls.phone.errors&&t.form.controls.phone.touched),i.yb(6),i.hc("ngIf",t.form.controls.address.errors&&t.form.controls.address.touched),i.yb(3),i.yc(t.exists?"Update":"Save"),i.yb(1),i.hc("ngIf",t.exists),i.yb(3),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,x.a,x.i,x.c,x.f],styles:[""]}),e})();function nt(e,t){1&e&&i.Lb(0,"td",18)}function rt(e,t){1&e&&(i.Pb(0,"th",11),i.xc(1,"Father"),i.Ob())}function it(e,t){if(1&e&&(i.Pb(0,"td"),i.xc(1),i.Ob()),2&e){const e=i.bc().$implicit;i.yb(1),i.zc(" ",e.father," ")}}function ct(e,t){if(1&e){const e=i.Qb();i.Pb(0,"tr"),i.Pb(1,"th",19),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.vc(5,it,2,1,"td",20),i.Pb(6,"td"),i.xc(7),i.Ob(),i.Pb(8,"td"),i.Pb(9,"a",21),i.Zb("click",function(){i.pc(e);const o=t.$implicit;return i.bc().onEdit(o._id)}),i.xc(10),i.Ob(),i.Ob(),i.Ob()}if(2&e){const e=t.$implicit,o=t.index,n=i.bc();i.yb(2),i.yc(o+1),i.yb(2),i.zc(" ",e.name," "),i.yb(1),i.hc("ngIf",!n.short),i.yb(2),i.zc(" ",e.phone," "),i.yb(3),i.yc(n.short?"Select":"Edit")}}let st=(()=>{class e{constructor(){this.edit=new i.n,this.page=1,this.pageSize=8,this.searching=!1,this.customerPage=[]}ngOnChanges(e){e.customerList&&null!=this.customerList&&this.refreshCustomer()}refreshCustomer(){this.customerPage=this.customerList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onEdit(e){this.edit.emit(e)}onSearch(e){e.length>2?(this.searching=!0,console.log(e,e.length),this.customerPage=this.search(e)):(this.searching=!1,this.refreshCustomer())}search(e){return this.customerList.filter(t=>{const o=e.toLowerCase();return t.name.toLowerCase().includes(o)||t.phone.includes(o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["customer-list"]],inputs:{customerList:"customerList",short:"short"},outputs:{edit:"edit"},features:[i.wb],decls:36,vars:10,consts:[[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","Name / Phone",1,"form-control","form-control-sm",3,"keyup"],[1,"table","table-striped","border","table-sm"],["colspan","4",1,"form-head"],["class","form-head",4,"ngIf"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"form-head"],["scope","row"],[4,"ngIf"],[1,"edit_link",3,"click"]],template:function(e,t){1&e&&(i.Pb(0,"form"),i.Pb(1,"div",0),i.Lb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"div",5),i.Lb(7,"i",6),i.Ob(),i.Ob(),i.Pb(8,"input",7),i.Zb("keyup",function(e){return t.onSearch(e.target.value)}),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(9,"table",8),i.Pb(10,"thead"),i.Pb(11,"tr"),i.Pb(12,"td",9),i.xc(13," Loading Party List "),i.Ob(),i.vc(14,nt,1,0,"td",10),i.Ob(),i.Pb(15,"tr"),i.Pb(16,"th",11),i.xc(17,"#"),i.Ob(),i.Pb(18,"th",11),i.xc(19,"Name"),i.Ob(),i.vc(20,rt,2,0,"th",12),i.Pb(21,"th",11),i.xc(22,"Phone"),i.Ob(),i.Pb(23,"th",11),i.xc(24,"Action"),i.Ob(),i.Ob(),i.Ob(),i.Pb(25,"tbody"),i.vc(26,ct,11,5,"tr",13),i.Ob(),i.Ob(),i.Pb(27,"div",14),i.Pb(28,"ngb-pagination",15),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshCustomer()}),i.Ob(),i.Pb(29,"select",16),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshCustomer()}),i.Pb(30,"option",17),i.xc(31,"4/Page"),i.Ob(),i.Pb(32,"option",17),i.xc(33,"8/Page"),i.Ob(),i.Pb(34,"option",17),i.xc(35,"16/Page"),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(14),i.hc("ngIf",!t.short),i.yb(6),i.hc("ngIf",!t.short),i.yb(6),i.hc("ngForOf",t.customerPage),i.yb(2),i.hc("collectionSize",t.customerList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[x.s,x.j,x.k,s.n,s.m,l.i,x.p,x.i,x.l,x.m,x.r],styles:[""]}),e})(),at=(()=>{class e{constructor(e,t){this.customerService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.customerList=[],this.errorMessage=""}ngOnInit(){this.getCustomerList()}getCustomerList(){return Object(O.a)(this,void 0,void 0,function*(){this.customerService.customers$.subscribe(e=>{this.customerList=e,this.customerList.sort(this.util.dynamicSortObject("priority"))})})}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});yield this.customerService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.customer.createdAt});yield this.customerService.update(this.customer._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.customerService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Agent Deleting ERROR ! "}),this.clear())})}onEdit(e){this.customer=this.customerList.find(t=>t._id===e)}clear(){this.customer=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(Ge.a),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-customer"]],decls:9,vars:3,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"customer","create","update","delete"],[1,"col-md-8","mt-2"],[3,"customerList","short","edit"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Loading Party\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"customer-form",5),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"div",6),i.Pb(8,"customer-list",7),i.Zb("edit",function(e){return t.onEdit(e)}),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("customer",t.customer),i.yb(2),i.hc("customerList",t.customerList)("short",!1))},directives:[ot,st],styles:[""]}),e})();var bt=o("R1Qo");function lt(e,t){if(1&e&&(i.Pb(0,"div",30),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function dt(e,t){1&e&&(i.Pb(0,"small",31),i.xc(1,"Agent Name Required"),i.Ob())}function ht(e,t){1&e&&(i.Pb(0,"small",32),i.xc(1," Email required "),i.Ob())}function ut(e,t){if(1&e&&(i.Pb(0,"small",32),i.Pb(1,"div",33),i.xc(2," Phone required "),i.Ob(),i.Pb(3,"div",33),i.xc(4," Phone patter should be 01945564841 "),i.Ob(),i.Ob()),2&e){const e=i.bc();i.yb(1),i.hc("hidden",!e.form.controls.phone.errors.required),i.yb(2),i.hc("hidden",!e.form.controls.phone.errors.pattern)}}function mt(e,t){1&e&&(i.Pb(0,"small",32),i.xc(1," Company VAT number required "),i.Ob())}function gt(e,t){1&e&&(i.Pb(0,"small",32),i.xc(1," Trade Licence required "),i.Ob())}function ft(e,t){1&e&&(i.Pb(0,"small",32),i.xc(1," Company TIN number required "),i.Ob())}function pt(e,t){1&e&&(i.Pb(0,"small",32),i.xc(1," Vat percent required "),i.Ob())}function vt(e,t){1&e&&(i.Pb(0,"small",32),i.xc(1," Company website required "),i.Ob())}function Ot(e,t){1&e&&(i.Pb(0,"small",31),i.xc(1,"Agent address required"),i.Ob())}function yt(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",29),i.Zb("click",function(){return i.pc(e),i.bc().onDelete()}),i.xc(1,"Delete"),i.Ob()}}function Pt(e,t){if(1&e&&(i.Pb(0,"div",32),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let xt=(()=>{class e{constructor(e){this.fb=e,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.createForm()}ngOnChanges(e){e.company&&null!=this.company&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.company))}createForm(){this.form=this.fb.group({name:["",x.q.required],email:["",x.q.required],phone:["",[x.q.required,x.q.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],address:["",x.q.required],vat_no:[""],trade_licence:["",x.q.required],tin_no:[""],website:[""],vat:[""]})}submit(){this.form.valid&&(this.exists?this.update.emit(this.form.value):this.create.emit(this.form.value),this.clear())}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.company._id),this.clear()}clear(){this.exists=!1,this.company=null,this.errorMessage="",this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["company-form"]],inputs:{company:"company"},outputs:{create:"create",update:"update",delete:"delete"},features:[i.wb],decls:62,vars:15,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","name","formControlName","name","placeholder","Agent Name",1,"form-control","form-control-sm"],["class","form-text text-danger",4,"ngIf"],["for","email",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-6","col-md-4"],["type","text","id","email","formControlName","email","placeholder","Company email",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","phone",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","phone","maxlength","11","formControlName","phone","placeholder","Agent phone",1,"form-control","form-control-sm"],["for","vat_no",1,"d-none","d-sm-block","col-md-2","col-form-label","col-form-label-sm"],["type","text","id","vat_no","formControlName","vat_no","placeholder","Company VAT number",1,"form-control","form-control-sm"],["for","trade_licence",1,"d-none","d-sm-block","col-md-2","col-form-label","col-form-label-sm"],["type","text","id","trade_licence","formControlName","trade_licence","placeholder","Trade Licence number",1,"form-control","form-control-sm"],["for","tin_no",1,"d-none","d-sm-block","col-md-2","col-form-label","col-form-label-sm"],["type","text","id","tin_no","formControlName","tin_no","placeholder","Company TIN number",1,"form-control","form-control-sm"],["for","vat",1,"d-none","d-sm-block","col-md-2","col-form-label","col-form-label-sm"],["type","text","id","vat","formControlName","vat","maxlength","2","placeholder","VAT percent",1,"form-control","form-control-sm"],["for","website",1,"d-none","d-sm-block","col-md-2","col-form-label","col-form-label-sm"],["type","text","id","website","formControlName","website","placeholder","Company website address",1,"form-control","form-control-sm"],["for","address",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","address","formControlName","address","rows","2","placeholder","Address",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"form-text","text-danger"],[1,"text-danger"],[3,"hidden"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,lt,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"label",4),i.xc(6,"Name*"),i.Ob(),i.Pb(7,"div",5),i.Lb(8,"input",6),i.vc(9,dt,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(10,"div",3),i.Pb(11,"label",8),i.xc(12,"Email*"),i.Ob(),i.Pb(13,"div",9),i.Lb(14,"input",10),i.vc(15,ht,2,0,"small",11),i.Ob(),i.Pb(16,"label",12),i.xc(17,"Phone*"),i.Ob(),i.Pb(18,"div",9),i.Lb(19,"input",13),i.vc(20,ut,5,2,"small",11),i.Ob(),i.Ob(),i.Pb(21,"div",3),i.Pb(22,"label",14),i.xc(23,"Vat no"),i.Ob(),i.Pb(24,"div",9),i.Lb(25,"input",15),i.vc(26,mt,2,0,"small",11),i.Ob(),i.Pb(27,"label",16),i.xc(28,"Trade Licence*"),i.Ob(),i.Pb(29,"div",9),i.Lb(30,"input",17),i.vc(31,gt,2,0,"small",11),i.Ob(),i.Ob(),i.Pb(32,"div",3),i.Pb(33,"label",18),i.xc(34,"Tin no"),i.Ob(),i.Pb(35,"div",9),i.Lb(36,"input",19),i.vc(37,ft,2,0,"small",11),i.Ob(),i.Pb(38,"label",20),i.xc(39,"Vat percent"),i.Ob(),i.Pb(40,"div",9),i.Lb(41,"input",21),i.vc(42,pt,2,0,"small",11),i.Ob(),i.Ob(),i.Pb(43,"div",3),i.Pb(44,"label",22),i.xc(45,"Website"),i.Ob(),i.Pb(46,"div",9),i.Lb(47,"input",23),i.vc(48,vt,2,0,"small",11),i.Ob(),i.Ob(),i.Pb(49,"div",3),i.Pb(50,"label",24),i.xc(51,"Address*"),i.Ob(),i.Pb(52,"div",5),i.Lb(53,"textarea",25),i.vc(54,Ot,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(55,"div",26),i.Pb(56,"button",27),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(57),i.Ob(),i.vc(58,yt,2,0,"button",28),i.Pb(59,"button",29),i.Zb("click",function(){return t.clear()}),i.xc(60,"Clear"),i.Ob(),i.Ob(),i.vc(61,Pt,2,1,"div",11),i.Ob()),2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," Company\n"),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(6),i.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),i.yb(6),i.hc("ngIf",t.form.controls.email.errors&&t.form.controls.email.touched),i.yb(5),i.hc("ngIf",t.form.controls.phone.errors&&t.form.controls.phone.touched),i.yb(6),i.hc("ngIf",t.form.controls.vat_no.errors&&t.form.controls.vat_no.touched),i.yb(5),i.hc("ngIf",t.form.controls.trade_licence.errors&&t.form.controls.trade_licence.touched),i.yb(6),i.hc("ngIf",t.form.controls.tin_no.errors&&t.form.controls.tin_no.touched),i.yb(5),i.hc("ngIf",t.form.controls.vat.errors&&t.form.controls.vat.touched),i.yb(6),i.hc("ngIf",t.form.controls.website.errors&&t.form.controls.website.touched),i.yb(6),i.hc("ngIf",t.form.controls.address.errors&&t.form.controls.address.touched),i.yb(3),i.yc(t.exists?"Update":"Save"),i.yb(1),i.hc("ngIf",t.exists),i.yb(3),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,x.a,x.i,x.c,x.f],styles:[""]}),e})(),Lt=(()=>{class e{constructor(e,t){this.companyService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.companyList=[],this.errorMessage=""}ngOnInit(){this.getCompanyList()}getCompanyList(){return Object(O.a)(this,void 0,void 0,function*(){this.companyService.companys$.subscribe(e=>{this.companyList=e,this.companyList.sort(this.util.dynamicSortObject("name")),this.companyList.length>0&&(this.company=this.companyList[0])})})}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase()});yield this.companyService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name),createdAt:this.company.createdAt});yield this.companyService.update(this.company._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.companyService.delete(e).then(()=>{this.sendingData=!1,this.company=null}).catch(e=>{this.sendingData=!1,this.errorMessage="Company Deleting ERROR ! "}),this.clear())})}onEdit(e){this.company=this.companyList.find(t=>t._id===e),console.log("onEdit",e)}clear(){this.company=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(bt.a),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-company"]],decls:7,vars:1,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"offset-md-2","col-12","col-md-8","p-md-0","mt-2"],[1,"border","rounded"],[3,"company","create","update","delete"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Company\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"company-form",5),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("company",t.company))},directives:[xt],styles:[""]}),e})();var _t=o("7RJT"),Ct=o("q3Kh"),wt=o("I/3d");let St=(()=>{class e{constructor(e){this.afs=e,this.serviceUrl="inventory",this._inventorySource=new _t.BehaviorSubject([]),this.inventorys$=this._inventorySource.asObservable(),this.inventorys=[],this.getAndStoreAll()}create(e){return delete e._id,e.createdAt=new Date,e.version=1,this.afs.collection(this.serviceUrl).add(Object.assign({},e))}getAndStoreAll(){return this.afs.collection(this.serviceUrl,e=>e.orderBy("slug")).snapshotChanges().subscribe(e=>{this.inventorys=[],e.forEach(e=>{let t=e.payload.doc.data();t._id=e.payload.doc.id,this.inventorys.push(t)}),this._inventorySource.next(this.inventorys)})}getAll(){return this.afs.collection(this.serviceUrl,e=>e.orderBy("serialNo")).snapshotChanges().pipe(Object(Ct.map)(e=>e.map(e=>{const t=e.payload.doc.data();return Object.assign({id:e.payload.doc.id},t)})))}get(e){return this.afs.doc(this.serviceUrl+"/"+e).valueChanges()}update(e,t){return delete t._id,t.version=t.version?t.version+1:1,this.afs.doc(this.serviceUrl+"/"+e).update(Object.assign({},t))}delete(e){return this.afs.doc(this.serviceUrl+"/"+e).delete()}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(wt.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var kt=function(e){return e.RECEIVE="RECEIVE",e.DELIVERY="DELIVERY",e}({}),zt=o("7o/Q"),Dt=o("D0XW");function Mt(e,t=Dt.a){return o=>o.lift(new jt(e,t))}class jt{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new qt(e,this.dueTime,this.scheduler))}}class qt extends zt.a{constructor(e,t,o){super(e),this.dueTime=t,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(It,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function It(e){e.debouncedNext()}var Et=o("/uUt"),Ft=o("lJxs");function Nt(e,t){if(1&e&&(i.Pb(0,"div",32),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function Vt(e,t){1&e&&(i.Pb(0,"small",33),i.xc(1,"Vouchar number Required"),i.Ob())}function Rt(e,t){1&e&&(i.Pb(0,"small",33),i.xc(1,"Product Name Required"),i.Ob())}function At(e,t){if(1&e&&(i.Pb(0,"option",34),i.xc(1),i.Ob()),2&e){const e=t.$implicit;i.hc("value",e.key),i.yb(1),i.zc(" ",e.value," ")}}function Zt(e,t){1&e&&(i.Pb(0,"small",35),i.xc(1," Year required "),i.Ob())}function Ut(e,t){1&e&&(i.Pb(0,"small",35),i.xc(1," SR NO name required "),i.Ob())}function $t(e,t){1&e&&(i.Pb(0,"small",33),i.xc(1,"Party name required "),i.Ob())}function Kt(e,t){1&e&&(i.Pb(0,"small",33),i.xc(1,"Agent name required "),i.Ob())}function Bt(e,t){1&e&&(i.Pb(0,"small",35),i.xc(1," Product Quantity required "),i.Ob())}function Tt(e,t){if(1&e&&(i.Pb(0,"div",35),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let Qt=(()=>{class e{constructor(e,t,o,n){this.fb=e,this.customerService=t,this.agentService=o,this.util=n,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.typeEnum=kt,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.agentList=[],this.searchAgent=e=>e.pipe(Mt(200),Object(Et.a)(),Object(Ft.a)(e=>e.length<2?[]:this.agentList.filter(t=>t.phone.indexOf(e.toLowerCase())>-1).slice(0,10))),this.customerList=[],this.searchCustomer=e=>e.pipe(Mt(200),Object(Et.a)(),Object(Ft.a)(e=>e.length<2?[]:this.customerList.filter(t=>t.phone.indexOf(e.toLowerCase())>-1).slice(0,10))),this.formatter=e=>{if(e)return e.name+"["+e.phone+"]"},this.ngDate=this.util.convertJsDateToNgbDate(new Date),this.createForm(),this.getCustomerList(),this.getAgentList()}ngOnChanges(e){if(e.inventory&&null!=this.inventory){this.form.reset();const e=this.util.convertFireabaseDateToNgbDate(this.inventory.date);console.log(e,e);const t=Object.assign(Object.assign({},this.inventory),{date:e});this.exists=!0,this.form.patchValue(t)}e.vouchar_no&&null!=this.vouchar_no&&this.form.controls.vouchar_no.setValue(this.vouchar_no+1)}getCustomerList(){return Object(O.a)(this,void 0,void 0,function*(){this.customerService.customers$.subscribe(e=>{this.customerList=e,this.customerList.sort(this.util.dynamicSortObject("priority"))})})}getAgentList(){return Object(O.a)(this,void 0,void 0,function*(){this.agentService.agents$.subscribe(e=>{this.agentList=e,this.agentList.sort(this.util.dynamicSortObject("priority"))})})}createForm(){this.form=this.fb.group({inventoryType:["RECEIVE",x.q.required],vouchar_no:[0,x.q.required],date:[this.ngDate,x.q.required],year:[this.ngDate.year,x.q.required],sr_no:["",x.q.required],name:["Potato",x.q.required],customer:["",x.q.required],agent:[""],quantity:["",x.q.required]})}submit(){if(this.form.valid){const e=this.form.value,t=this.util.convertNgbDateToJsDate(e.date);console.log(t);const o=Object.assign(Object.assign({},e),{date:t});this.exists?this.update.emit(o):this.create.emit(o),this.clear()}}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}onDelete(){this.delete.emit(this.inventory._id),this.clear()}clear(){this.exists=!1,this.inventory=null,this.errorMessage="",this.form.reset(),this.form.patchValue({inventoryType:"RECEIVE",name:"Potato",vouchar_no:this.vouchar_no+1,date:this.ngDate,year:this.ngDate.year})}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b),i.Kb(Ge.a),i.Kb(je.a),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["inventory-form"]],inputs:{vouchar_no:"vouchar_no",inventory:"inventory"},outputs:{create:"create",update:"update",delete:"delete"},features:[i.wb],decls:68,vars:23,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],["for","vouchar_no",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["type","text","id","vouchar_no","formControlName","vouchar_no","readonly","",1,"form-control","form-control-sm"],["class","form-text text-danger",4,"ngIf"],["for","name",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","name","formControlName","name","placeholder","Product Name","readonly","",1,"form-control","form-control-sm"],["for","inventoryType",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","inventoryType","formControlName","inventoryType",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","year",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","year","formControlName","year","placeholder","Year",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],[1,"input-group"],["for","date",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["date","ngbDatepicker"],["for","sr_no",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","text","id","sr_no","formControlName","sr_no","placeholder","SR Number",1,"form-control","form-control-sm"],["for","customer",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","customer","type","text","formControlName","customer",1,"form-control","form-control-sm",3,"ngbTypeahead","editable","resultFormatter","inputFormatter"],["for","agent",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","agent","type","text","formControlName","agent",1,"form-control","form-control-sm",3,"ngbTypeahead","editable","resultFormatter","inputFormatter"],["for","quantity",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","quantity","formControlName","quantity","placeholder","Product Quantity",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"form-text","text-danger"],[3,"value"],[1,"text-danger"]],template:function(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,Nt,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"label",4),i.xc(6,"No.*"),i.Ob(),i.Pb(7,"div",5),i.Lb(8,"input",6),i.vc(9,Vt,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(10,"div",3),i.Pb(11,"label",8),i.xc(12,"Name*"),i.Ob(),i.Pb(13,"div",5),i.Lb(14,"input",9),i.vc(15,Rt,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(16,"div",3),i.Pb(17,"label",10),i.xc(18,"Type*"),i.Ob(),i.Pb(19,"div",5),i.Pb(20,"select",11),i.Pb(21,"option",12),i.xc(22,"Select a Type"),i.Ob(),i.vc(23,At,2,2,"option",13),i.cc(24,"keyvalue"),i.Ob(),i.Ob(),i.Ob(),i.Pb(25,"div",3),i.Pb(26,"label",14),i.xc(27,"Year*"),i.Ob(),i.Pb(28,"div",5),i.Lb(29,"input",15),i.vc(30,Zt,2,0,"small",16),i.Ob(),i.Ob(),i.Pb(31,"div",3),i.Pb(32,"div",17),i.Pb(33,"label",18),i.xc(34,"Date*"),i.Ob(),i.Pb(35,"div",5),i.Pb(36,"input",19,20),i.Zb("click",function(){return i.pc(e),i.oc(37).toggle()}),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(38,"div",3),i.Pb(39,"label",21),i.xc(40,"SR_no*"),i.Ob(),i.Pb(41,"div",5),i.Lb(42,"input",22),i.vc(43,Ut,2,0,"small",16),i.Ob(),i.Ob(),i.Pb(44,"div",3),i.Pb(45,"label",23),i.xc(46,"Party*"),i.Ob(),i.Pb(47,"div",5),i.Lb(48,"input",24),i.vc(49,$t,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(50,"div",3),i.Pb(51,"label",25),i.xc(52,"Agent"),i.Ob(),i.Pb(53,"div",5),i.Lb(54,"input",26),i.vc(55,Kt,2,0,"small",7),i.Ob(),i.Ob(),i.Pb(56,"div",3),i.Pb(57,"label",27),i.xc(58,"Quantity*"),i.Ob(),i.Pb(59,"div",5),i.Lb(60,"input",28),i.vc(61,Bt,2,0,"small",16),i.Ob(),i.Ob(),i.Pb(62,"div",29),i.Pb(63,"button",30),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(64),i.Ob(),i.Pb(65,"button",31),i.Zb("click",function(){return t.clear()}),i.xc(66,"Clear"),i.Ob(),i.Ob(),i.vc(67,Tt,2,1,"div",16),i.Ob()}2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," Inventory\n"),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(6),i.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),i.yb(6),i.hc("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),i.yb(8),i.hc("ngForOf",i.dc(24,21,t.typeEnum)),i.yb(7),i.hc("ngIf",t.form.controls.year.errors&&t.form.controls.year.touched),i.yb(13),i.hc("ngIf",t.form.controls.sr_no.errors&&t.form.controls.sr_no.touched),i.yb(5),i.hc("ngbTypeahead",t.searchCustomer)("editable",!1)("resultFormatter",t.formatter)("inputFormatter",t.formatter),i.yb(1),i.hc("ngIf",t.form.controls.customer.errors&&t.form.controls.customer.touched),i.yb(5),i.hc("ngbTypeahead",t.searchAgent)("editable",!1)("resultFormatter",t.formatter)("inputFormatter",t.formatter),i.yb(1),i.hc("ngIf",t.form.controls.agent.errors&&t.form.controls.agent.touched),i.yb(6),i.hc("ngIf",t.form.controls.quantity.errors&&t.form.controls.quantity.touched),i.yb(3),i.yc(t.exists?"Update":"Save"),i.yb(3),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,x.a,x.i,x.c,x.p,x.m,x.r,s.m,x.n,l.f,l.j],pipes:[s.h],styles:[""]}),e})();function Gt(e,t){if(1&e&&(i.Pb(0,"tr"),i.Pb(1,"th",16),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.cc(5,"date"),i.Ob(),i.Pb(6,"td"),i.xc(7),i.Ob(),i.Pb(8,"td"),i.xc(9),i.Ob(),i.Pb(10,"td"),i.xc(11),i.Ob(),i.Pb(12,"td"),i.xc(13),i.Ob(),i.Pb(14,"td"),i.Pb(15,"a",17),i.xc(16,"Print"),i.Ob(),i.Ob(),i.Ob()),2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.zc(" ",i.ec(5,7,e.date.toMillis(),"dd/MM/yyyy")," "),i.yb(3),i.zc(" ",e.sr_no," "),i.yb(2),i.zc(" ",null==e||null==e.customer?null:e.customer.name," "),i.yb(2),i.zc(" ",null==e||null==e.agent?null:e.agent.name," "),i.yb(2),i.zc(" ",null==e?null:e.quantity," "),i.yb(2),i.jc("routerLink","/dashboard/inventory-print/",e._id,"")}}let Yt=(()=>{class e{constructor(){this.page=1,this.pageSize=8,this.searching=!1,this.inventoryPage=[]}ngOnChanges(e){e.inventoryList&&null!=this.inventoryList&&this.refreshInventory()}refreshInventory(){this.inventoryPage=this.inventoryList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onSearch(e){e.length>=2?(this.searching=!0,this.inventoryPage=this.search(e)):(this.searching=!1,this.refreshInventory())}search(e){return this.inventoryList.filter(t=>{const o=e.toLowerCase();return t.sr_no.toLowerCase().includes(o)||t.customer.phone.includes(o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["inventory-list"]],inputs:{inventoryList:"inventoryList"},features:[i.wb],decls:40,vars:8,consts:[[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","SR_no / Phone",1,"form-control","form-control-sm",3,"keyup"],[1,"table","table-striped","border","table-sm"],["colspan","7",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],["target","_blank",1,"edit_link",3,"routerLink"]],template:function(e,t){1&e&&(i.Pb(0,"form"),i.Pb(1,"div",0),i.Lb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"div",5),i.Lb(7,"i",6),i.Ob(),i.Ob(),i.Pb(8,"input",7),i.Zb("keyup",function(e){return t.onSearch(e.target.value)}),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(9,"table",8),i.Pb(10,"thead"),i.Pb(11,"tr"),i.Pb(12,"td",9),i.xc(13," Inventory List "),i.Ob(),i.Ob(),i.Pb(14,"tr"),i.Pb(15,"th",10),i.xc(16,"#"),i.Ob(),i.Pb(17,"th",10),i.xc(18,"Date"),i.Ob(),i.Pb(19,"th",10),i.xc(20,"SR.NO."),i.Ob(),i.Pb(21,"th",10),i.xc(22,"Party"),i.Ob(),i.Pb(23,"th",10),i.xc(24,"Agent"),i.Ob(),i.Pb(25,"th",10),i.xc(26,"Quantity"),i.Ob(),i.Pb(27,"th",10),i.xc(28,"Action"),i.Ob(),i.Ob(),i.Ob(),i.Pb(29,"tbody"),i.vc(30,Gt,17,10,"tr",11),i.Ob(),i.Ob(),i.Pb(31,"div",12),i.Pb(32,"ngb-pagination",13),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshInventory()}),i.Ob(),i.Pb(33,"select",14),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshInventory()}),i.Pb(34,"option",15),i.xc(35,"4/Page"),i.Ob(),i.Pb(36,"option",15),i.xc(37,"8/Page"),i.Ob(),i.Pb(38,"option",15),i.xc(39,"16/Page"),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(30),i.hc("ngForOf",t.inventoryPage),i.yb(2),i.hc("collectionSize",t.inventoryList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[x.s,x.j,x.k,s.m,l.i,x.p,x.i,x.l,x.m,x.r,n.d],pipes:[s.d],styles:[""]}),e})();function Jt(e,t){if(1&e&&(i.Pb(0,"div",9),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage," ")}}let Ht=(()=>{class e{constructor(e,t){this.inventoryService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.inventoryList=[],this.errorMessage="";let o=new Date;this.year=o.getFullYear()}ngOnInit(){this.getInventoryList()}getInventoryList(){return Object(O.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.subscribe(e=>{this.inventoryList=e.filter(e=>e.year==this.year),this.inventoryList.sort(this.util.dynamicSortObject("sr_no"))})})}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){const t=this.inventoryList.find(t=>t.year==e.year&&t.sr_no==e.sr_no);if(console.log(t),t)this.errorMessage="\u098f\u0987 \u098f\u09b8 \u0986\u09b0 \u09a8\u09ae\u09cd\u09ac\u09b0 \u0986\u0997\u09c7\u09a5\u09c7\u0995\u09c7\u0987 \u0986\u099b\u09c7\u0964";else{this.sendingData=!0,Object.keys(e).forEach(t=>void 0===e[t]?delete e[t]:{});const t=Object.assign(Object.assign({},e),{slug:this.util.string_to_slug(e.name)});yield this.inventoryService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})}})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{slug:e.name.toLowerCase(),createdAt:this.inventory.createdAt});yield this.inventoryService.update(this.inventory._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.inventoryService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Inventory Deleting ERROR ! "}),this.clear())})}onEdit(e){this.inventory=this.inventoryList.find(t=>t._id===e)}clear(){this.inventory=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(St),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-inventory"]],decls:10,vars:4,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],["class","alert alert-danger",4,"ngIf"],[3,"inventory","vouchar_no","create","update","delete"],[1,"col-md-8","mt-2"],[3,"inventoryList"],[1,"alert","alert-danger"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Inventory\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.vc(6,Jt,2,1,"div",5),i.Pb(7,"inventory-form",6),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(8,"div",7),i.Lb(9,"inventory-list",8),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("inventory",t.inventory)("vouchar_no",t.inventoryList.length),i.yb(2),i.hc("inventoryList",t.inventoryList))},directives:[s.n,Qt,Yt],styles:[""]}),e})(),Wt=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["app-test"]],decls:8,vars:0,consts:[[1,"A4","landscape"],[1,"sheet","padding-10mm"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.Pb(1,"section",1),i.Pb(2,"article"),i.xc(3,"This is an A4 document (landscape) 0."),i.Ob(),i.Ob(),i.Ob(),i.Pb(4,"div",0),i.Pb(5,"section",1),i.Pb(6,"article"),i.xc(7,"This is an A4 document 2."),i.Ob(),i.Ob(),i.Ob())},styles:["[_nghost-%COMP%]{display:block;background:#e0e0e0}.A4[_ngcontent-%COMP%]{padding:15px}.sheet[_ngcontent-%COMP%]{background:#fff;box-shadow:0 .5mm 2mm rgba(0,0,0,.3);margin:0 auto}.A4[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:210mm;height:296mm}.A4.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:297mm;height:209mm}.sheet.padding-10mm[_ngcontent-%COMP%]{padding:10mm}@media print{@page{size:auto!important}.A4.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{transform:rotate(-90deg)}}"]}),e})();const Xt={name:"Total Agro and Aquaculture Lim.",name_bd:"\u099f\u09cb\u099f\u09be\u09b2 \u098f\u0997\u09cd\u09b0\u09cb \u098f\u09a8\u09cd\u09a1 \u098f\u0995\u09cb\u09df\u09be \u0995\u09be\u09b2\u099a\u09be\u09b0 \u09b2\u09bf\u0983 ",service:"Coldstorage",service_bd:"\u0995\u09cb\u09b2\u09cd\u09a1 \u09b8\u09cd\u099f\u09cb\u09b0\u09c7\u099c",address:"Mohendra nagar, Lalmonirhat",address_bd:"\u09ae\u09b9\u09c7\u09a8\u09cd\u09a6\u09cd\u09b0\u09a8\u0997\u09b0, \u09b2\u09be\u09b2\u09ae\u09a8\u09bf\u09b0\u09b9\u09be\u099f ",phone:"01729-99-477",phone_bd:"\u09e6\u09e7\u09ed\u09e8\u09ef-\u09ef\u09ef\u09e6\u09ea\u09ed\u09ed"};let eo=(()=>{class e{constructor(e,t){this.inventoryService=e,this.activatedRoute=t,this.company=Xt,this.id=t.snapshot.params.id}ngOnInit(){this.id&&this.getInventory(this.id)}getInventory(e){return Object(O.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.subscribe(t=>{this.inventory=t.find(t=>t._id==e)})})}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(St),i.Kb(n.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-inventory-print"]],decls:84,vars:15,consts:[[1,"output"],[1,"receipt"],[1,"head"],[1,"text-center"],[1,"row"],[1,"col-12","text-center"],[1,"border","p-1","strong","rounded"],[1,"col-6"],[1,"col-6","text-right"],[1,"table","table-bordered"],[1,"col-auto"],[1,"col","p-0"],[1,"border-left","col-auto"],[1,"col-auto","pl-0"],[1,"row","mb-3"],[1,"row","mt-5","pt-5"],[1,"border-top"],[1,"col","text-center"],[1,"col-auto","text-right"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.Pb(2,"div",2),i.Pb(3,"h3",3),i.xc(4),i.Ob(),i.Pb(5,"h3",3),i.xc(6),i.Ob(),i.Pb(7,"h5",3),i.xc(8),i.Ob(),i.Ob(),i.Pb(9,"div",4),i.Pb(10,"div",5),i.Pb(11,"span",6),i.xc(12,"\u09aa\u09be\u09b0\u09cd\u099f\u09bf \u0995\u09aa\u09bf"),i.Ob(),i.Ob(),i.Ob(),i.Pb(13,"div",4),i.Pb(14,"div",7),i.xc(15),i.Ob(),i.Pb(16,"div",8),i.xc(17),i.cc(18,"date"),i.Ob(),i.Ob(),i.Pb(19,"table",9),i.Pb(20,"tbody"),i.Pb(21,"tr"),i.Pb(22,"td"),i.xc(23,"\u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be "),i.Ob(),i.Pb(24,"td"),i.Pb(25,"strong"),i.xc(26),i.Ob(),i.Ob(),i.Ob(),i.Pb(27,"tr"),i.Pb(28,"td"),i.xc(29,"\u0986\u09b2\u09c1\u09b0 \u09ac\u09bf\u09ac\u09b0\u09a3 "),i.Ob(),i.Lb(30,"td"),i.Ob(),i.Pb(31,"tr"),i.Pb(32,"td"),i.xc(33," \u09aa\u09cd\u09b0\u09a4\u09bf \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09ad\u09be\u09dc\u09be (\u09eb\u09e6 \u0995\u09c7\u099c\u09bf) "),i.Ob(),i.Lb(34,"td"),i.Ob(),i.Pb(35,"tr"),i.Pb(36,"td"),i.xc(37,"\u098b\u09a3 \u09aa\u09cd\u09b0\u09a6\u09be\u09a8 "),i.Ob(),i.Lb(38,"td"),i.Ob(),i.Pb(39,"tr"),i.Pb(40,"td"),i.xc(41,"\u0996\u09be\u09b2\u09bf \u09ac\u09b8\u09cd\u09a4\u09be \u09aa\u09cd\u09b0\u09a6\u09be\u09a8 "),i.Ob(),i.Lb(42,"td"),i.Ob(),i.Ob(),i.Ob(),i.Pb(43,"div",4),i.Pb(44,"div",10),i.xc(45,"\u09ae\u099c\u09c1\u09a4\u0995\u09be\u09b0\u09c0\u09b0 \u09a8\u09be\u09ae\u0983 "),i.Ob(),i.Pb(46,"div",11),i.Pb(47,"strong"),i.xc(48),i.Ob(),i.Ob(),i.Pb(49,"div",12),i.xc(50,"\u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 "),i.Ob(),i.Pb(51,"div",13),i.Pb(52,"strong"),i.xc(53),i.Ob(),i.Ob(),i.Ob(),i.Pb(54,"div",4),i.Pb(55,"div",10),i.xc(56,"\u09aa\u09bf\u09a4\u09be\u09b0 \u09a8\u09be\u09ae\u0983 "),i.Ob(),i.Pb(57,"div",11),i.Pb(58,"strong"),i.xc(59),i.Ob(),i.Ob(),i.Ob(),i.Pb(60,"div",4),i.Pb(61,"div",10),i.xc(62,"\u09a0\u09bf\u0995\u09be\u09a8\u09be\u0983 "),i.Ob(),i.Pb(63,"div",11),i.Pb(64,"strong"),i.xc(65),i.Ob(),i.Ob(),i.Ob(),i.xc(66,"\x1b "),i.Pb(67,"div",14),i.Pb(68,"div",10),i.xc(69,"\u09ae\u09be\u09b0\u09ab\u09a4\u0983 "),i.Ob(),i.Pb(70,"div",11),i.Pb(71,"strong"),i.xc(72),i.Ob(),i.Ob(),i.Ob(),i.xc(73," \u09ac\u09bf\u0983 \u09a6\u09cd\u09b0\u0983 \u0986\u09b2\u09c1 \u09b8\u0982\u09b0\u0995\u09cd\u09b7\u09a3 \u09aa\u09a4\u09cd\u09b0\u09c7 \u0989\u09b2\u09cd\u09b2\u09c7\u0996\u09bf\u09a4 \u09b2\u099f \u09a8\u0982- \u098f\u09b0 \u0985\u09a8\u09c1\u0995\u09c2\u09b2\u09c7 \u098b\u09a3 \u0997\u09cd\u09b0\u09b9\u09a3 \u09a5\u09be\u0995\u09bf\u09a4\u09c7 \u09aa\u09be\u09b0\u09c7, \u09a4\u09be\u0987 \u0985\u09ab\u09bf\u09b8\u09c7 \u09b8\u09a0\u09bf\u0995 \u09a4\u09a5\u09cd\u09af \u099c\u09be\u09a8\u09bf\u09df\u09be \u0989\u0995\u09cd\u09a4 \u09b2\u099f\u09c7\u09b0 \u0986\u09b2\u09c1 \u0995\u09cd\u09b0\u09df/\u09ac\u09bf\u0995\u09cd\u09b0\u09df \u0995\u09b0\u09be \u09af\u09be\u0987\u09a4\u09c7 \u09aa\u09be\u09b0\u09c7\u0964 \u0985\u09a8\u09cd\u09af\u09a5\u09be\u09df \u0995\u09cd\u09b7\u09a4\u09bf\u0997\u09cd\u09b0\u09b8\u09cd\u09a5 \u09b9\u0987\u09b2\u09c7 \u0995\u09cb\u09ae\u09cd\u09aa\u09be\u09a8\u09bf \u0995\u09cb\u09a8 \u09aa\u09cd\u09b0\u0995\u09be\u09b0 \u09a6\u09cd\u09ac\u09be\u09df-\u09a6\u09be\u09df\u09bf\u09a4\u09cd\u09ac \u09ac\u09b9\u09a8 \u0995\u09b0\u09bf\u09ac\u09c7 \u09a8\u09be\u0964 "),i.Pb(74,"div",15),i.Pb(75,"div",10),i.Pb(76,"span",16),i.xc(77,"\u0997\u09cd\u09b0\u09b9\u09a3\u0995\u09be\u09b0\u09c0\u09b0 \u09b8\u09be\u0995\u09cd\u09b7\u09b0"),i.Ob(),i.Ob(),i.Pb(78,"div",17),i.Pb(79,"span",16),i.xc(80," \u09b8\u09c1\u09aa\u09be\u09b0\u09ad\u09be\u0987\u099c\u09be\u09b0/\u09b9\u09bf\u09b8\u09be\u09ac \u09b0\u0995\u09cd\u09b7\u0995 "),i.Ob(),i.Ob(),i.Pb(81,"div",18),i.Pb(82,"span",16),i.xc(83," \u09ac\u09cd\u09af\u09be\u09ac\u09b8\u09cd\u09a5\u09be\u09aa\u0995"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(4),i.yc(null==t.company?null:t.company.name_bd),i.yb(2),i.yc(null==t.company?null:t.company.service_bd),i.yb(2),i.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),i.yb(7),i.zc("\u09b2\u099f \u09a8\u0982 - ",null==t.inventory?null:t.inventory.sr_no,""),i.yb(2),i.zc("\u09a4\u09be\u09b0\u09bf\u0996 - \x1b",i.ec(18,12,null==t.inventory?null:t.inventory.date.toMillis(),"dd/MM/yyyy"),""),i.yb(9),i.zc("",null==t.inventory?null:t.inventory.quantity," \u09ac\u09b8\u09cd\u09a4\u09be "),i.yb(22),i.zc(" ",null==t.inventory||null==t.inventory.customer?null:t.inventory.customer.name,""),i.yb(5),i.zc(" ",null==t.inventory||null==t.inventory.customer?null:t.inventory.customer.phone,""),i.yb(6),i.zc(" ",null==t.inventory||null==t.inventory.customer?null:t.inventory.customer.father,""),i.yb(6),i.zc(" ",null==t.inventory||null==t.inventory.customer?null:t.inventory.customer.address,""),i.yb(7),i.zc(" ",null!=t.inventory&&t.inventory.agent?(null==t.inventory||null==t.inventory.agent?null:t.inventory.agent.name)+"["+(null==t.inventory||null==t.inventory.agent?null:t.inventory.agent.phone)+"]":"",""))},pipes:[s.d],styles:["[_nghost-%COMP%]{font-family:SolaimanLipi;display:block;background:#e0e0e0}h3[_ngcontent-%COMP%]{text-align:center}.receipt[_ngcontent-%COMP%]{height:8.5in;width:50%;float:left;padding:10px}.output[_ngcontent-%COMP%]{height:8.5in;width:11in;position:absolute;top:50px;left:10px}@media print{.output[_ngcontent-%COMP%]{transform:rotate(90deg);top:1.5in;left:-1.5in}}"]}),e})();var to=o("R+I6");function oo(e,t){if(1&e&&(i.Pb(0,"div",29),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function no(e,t){1&e&&(i.Pb(0,"small",30),i.xc(1," Year required "),i.Ob())}function ro(e,t){1&e&&(i.Pb(0,"small",31),i.xc(1,"SR No Required"),i.Ob())}function io(e,t){if(1&e&&(i.Pb(0,"option",32),i.cc(1,"json"),i.xc(2),i.Ob()),2&e){const e=t.$implicit;i.hc("value",i.dc(1,2,e)),i.yb(2),i.zc(" ",e.name," ")}}function co(e,t){if(1&e&&(i.Pb(0,"option",32),i.cc(1,"json"),i.xc(2),i.Ob()),2&e){const e=t.$implicit;i.hc("value",i.dc(1,2,e)),i.yb(2),i.zc(" ",e.name," ")}}function so(e,t){if(1&e&&(i.Pb(0,"option",32),i.cc(1,"json"),i.xc(2),i.Ob()),2&e){const e=t.$implicit;i.hc("value",i.dc(1,2,e)),i.yb(2),i.zc(" ",e.name," ")}}function ao(e,t){if(1&e&&(i.Pb(0,"option",33),i.xc(1),i.Ob()),2&e){const e=t.$implicit;i.hc("ngValue",e),i.yb(1),i.zc(" ",e.name," ")}}function bo(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",28),i.Zb("click",function(){return i.pc(e),i.bc().onDelete()}),i.xc(1,"Delete"),i.Ob()}}function lo(e,t){if(1&e&&(i.Pb(0,"div",30),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let ho=(()=>{class e{constructor(e,t,o){this.fb=e,this.inventoryService=t,this.util=o,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.clear=new i.n,this.selectChamber=new i.n,this.selectFloor=new i.n,this.selectLine=new i.n,this.errorMessage="",this.showForm=!1,this.exists=!1,this.mouseoverShifting=!1,this.searchInventory=e=>e.pipe(Mt(200),Object(Et.a)(),Object(Ft.a)(e=>(e.length<2?[]:this.inventoryList.filter(t=>t.sr_no.indexOf(e.toLowerCase())>-1&&t.year==this.ngDate.year).slice(0,10)).map(e=>e.sr_no))),this.ngDate=this.util.convertJsDateToNgbDate(new Date),this.createForm(),this.getInventoryList()}getInventoryList(){return Object(O.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.subscribe(e=>{this.inventoryList=e})})}ngOnChanges(e){if(e.pallot&&null!=this.pallot){this.form.reset();const e=this.chamberList.find(e=>e._id==this.pallot.chamber._id);this.form.patchValue({chamber:e}),this.selectChamber.emit(e._id)}if(e.floorList&&this.pallot&&null!=this.pallot._id){const e=this.floorList.find(e=>e._id==this.pallot.floor._id);this.form.patchValue({floor:e}),this.selectFloor.emit(e._id)}if(e.lineList&&this.pallot&&null!=this.pallot._id){const e=this.lineList.find(e=>e._id==this.pallot.line._id),t=Object.assign(Object.assign({},this.pallot),{line:e});delete t.chamber,delete t.floor,this.exists=!0,this.showForm=!0,this.form.patchValue(t)}}createForm(){this.form=this.fb.group({date:[this.ngDate,x.q.required],year:[this.ngDate.year,x.q.required],chamber:["",x.q.required],floor:["",x.q.required],line:["",x.q.required],pocket:["",x.q.required],sr_no:["",x.q.required]})}onChamberChange(e){const t=JSON.parse(e.target.value);this.form.controls.chamber.setValue(t),this.selectChamber.emit(t._id)}onFloorChange(e){const t=JSON.parse(e.target.value);this.form.controls.floor.setValue(t),console.log(t),this.selectFloor.emit(t._id)}onLineChange(e){console.log(e.target.value);const t=JSON.parse(e.target.value);this.form.controls.line.setValue(t),this.selectLine.emit(t._id)}onSelectLine(e){e.value._id&&(this.showForm=!0)}submit(){if(this.form.valid){const e=this.form.value,t={_id:e.chamber._id,name:e.chamber.name},o={_id:e.floor._id,name:e.floor.name},n={_id:e.line._id,name:e.line.name},r={_id:e.pocket._id,name:e.pocket.name},i=this.util.convertNgbDateToJsDate(e.date),c=Object.assign(Object.assign({},this.form.value),{chamber:t,floor:o,line:n,date:i,pocket:r});this.exists?this.update.emit(c):this.create.emit(c),this.clean()}}onDelete(){this.delete.emit(this.pallot._id),this.clean()}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clean(){this.exists=!1,this.showForm=!1,this.floorList=null,this.lineList=null,this.pallot=null,this.errorMessage="",this.form.reset(),this.form.reset({date:this.ngDate,year:this.ngDate.year})}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b),i.Kb(St),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["pallot-form"]],inputs:{pallot:"pallot",lineList:"lineList",floorList:"floorList",pocketList:"pocketList",chamberList:"chamberList"},outputs:{create:"create",update:"update",delete:"delete",clear:"clear",selectChamber:"selectChamber",selectFloor:"selectFloor",selectLine:"selectLine"},features:[i.wb],decls:62,vars:14,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],[1,"input-group"],["for","date",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["date","ngbDatepicker"],["for","year",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","year","formControlName","year","placeholder","Year",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","sr_no",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","sr_no","type","text","formControlName","sr_no",1,"form-control","form-control-sm",3,"ngbTypeahead","editable"],["class","form-text text-danger",4,"ngIf"],["for","chamber",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","chamber",1,"form-control","form-control-sm",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","floor",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","floor",1,"form-control","form-control-sm",3,"change"],["for","line",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","line",1,"form-control","form-control-sm",3,"change"],["id","pocket","formControlName","pocket",1,"form-control","form-control-sm"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"text-danger"],[1,"form-text","text-danger"],[3,"value"],[3,"ngValue"]],template:function(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,oo,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"label",5),i.xc(7,"Date*"),i.Ob(),i.Pb(8,"div",6),i.Pb(9,"input",7,8),i.Zb("click",function(){return i.pc(e),i.oc(10).toggle()}),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(11,"div",3),i.Pb(12,"label",9),i.xc(13,"Year*"),i.Ob(),i.Pb(14,"div",6),i.Lb(15,"input",10),i.vc(16,no,2,0,"small",11),i.Ob(),i.Ob(),i.Pb(17,"div",3),i.Pb(18,"label",12),i.xc(19,"SR No*"),i.Ob(),i.Pb(20,"div",6),i.Lb(21,"input",13),i.vc(22,ro,2,0,"small",14),i.Ob(),i.Ob(),i.Pb(23,"div",3),i.Pb(24,"label",15),i.xc(25,"Chamber"),i.Ob(),i.Pb(26,"div",6),i.Pb(27,"select",16),i.Zb("change",function(e){return t.onChamberChange(e)}),i.Pb(28,"option",17),i.xc(29,"Select a chamber"),i.Ob(),i.vc(30,io,3,4,"option",18),i.Ob(),i.Ob(),i.Ob(),i.Pb(31,"div",3),i.Pb(32,"label",19),i.xc(33,"Floor"),i.Ob(),i.Pb(34,"div",6),i.Pb(35,"select",20),i.Zb("change",function(e){return t.onFloorChange(e)}),i.Pb(36,"option",17),i.xc(37,"Select a floor"),i.Ob(),i.vc(38,co,3,4,"option",18),i.Ob(),i.Ob(),i.Ob(),i.Pb(39,"div",3),i.Pb(40,"label",21),i.xc(41,"Line"),i.Ob(),i.Pb(42,"div",6),i.Pb(43,"select",22),i.Zb("change",function(e){return t.onLineChange(e)}),i.Pb(44,"option",17),i.xc(45,"Select a line"),i.Ob(),i.vc(46,so,3,4,"option",18),i.Ob(),i.Ob(),i.Ob(),i.Pb(47,"div",3),i.Pb(48,"label",21),i.xc(49,"Pocket"),i.Ob(),i.Pb(50,"div",6),i.Pb(51,"select",23),i.Pb(52,"option",17),i.xc(53,"Select a Pocket"),i.Ob(),i.vc(54,ao,2,2,"option",24),i.Ob(),i.Ob(),i.Ob(),i.Pb(55,"div",25),i.Pb(56,"button",26),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(57),i.Ob(),i.vc(58,bo,2,0,"button",27),i.Pb(59,"button",28),i.Zb("click",function(){return t.clean()}),i.xc(60,"Clear"),i.Ob(),i.Ob(),i.vc(61,lo,2,1,"div",11),i.Ob()}2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," Pallot\n"),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(13),i.hc("ngIf",t.form.controls.year.errors&&t.form.controls.year.touched),i.yb(5),i.hc("ngbTypeahead",t.searchInventory)("editable",!1),i.yb(1),i.hc("ngIf",t.form.controls.sr_no.errors&&t.form.controls.sr_no.touched),i.yb(8),i.hc("ngForOf",t.chamberList),i.yb(8),i.hc("ngForOf",t.floorList),i.yb(8),i.hc("ngForOf",t.lineList),i.yb(8),i.hc("ngForOf",t.pocketList),i.yb(3),i.yc(t.exists?"Update":"Save"),i.yb(1),i.hc("ngIf",t.exists),i.yb(3),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,l.f,x.a,x.i,x.c,x.n,l.j,x.m,x.r,s.m,x.p],pipes:[s.g],styles:[""]}),e})();function uo(e,t){if(1&e&&(i.Pb(0,"tr"),i.Pb(1,"th",16),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.Pb(5,"td"),i.xc(6),i.cc(7,"date"),i.Ob(),i.Pb(8,"td"),i.xc(9),i.Ob(),i.Pb(10,"td"),i.xc(11),i.Ob(),i.Pb(12,"td"),i.xc(13),i.Ob(),i.Pb(14,"td"),i.xc(15),i.Ob(),i.Ob()),2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.zc(" ",e.sr_no," "),i.yb(2),i.zc(" ",i.ec(7,7,e.date.toMillis(),"dd/MM/yyyy")," "),i.yb(3),i.zc(" ",null==e||null==e.chamber?null:e.chamber.name,""),i.yb(2),i.yc(null==e||null==e.floor?null:e.floor.name),i.yb(2),i.yc(null==e||null==e.line?null:e.line.name),i.yb(2),i.zc("",null==e||null==e.pocket?null:e.pocket.name," ")}}let mo=(()=>{class e{constructor(){this.page=1,this.pageSize=8,this.pallotPage=[]}ngOnChanges(e){e.pallotList&&null!=this.pallotList&&this.refreshPallot()}refreshPallot(){this.pallotPage=this.pallotList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onSearch(e){e.length>=2?this.pallotPage=this.search(e):this.refreshPallot()}search(e){return this.pallotList.filter(t=>{const o=e.toLowerCase();return t.sr_no.toLowerCase().includes(o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["pallot-list"]],inputs:{pallotList:"pallotList"},features:[i.wb],decls:40,vars:8,consts:[[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","SR_no / Phone",1,"form-control","form-control-sm",3,"keyup"],[1,"table","table-striped","border","table-sm"],["colspan","7",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"]],template:function(e,t){1&e&&(i.Pb(0,"form"),i.Pb(1,"div",0),i.Lb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"div",5),i.Lb(7,"i",6),i.Ob(),i.Ob(),i.Pb(8,"input",7),i.Zb("keyup",function(e){return t.onSearch(e.target.value)}),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(9,"table",8),i.Pb(10,"thead"),i.Pb(11,"tr"),i.Pb(12,"td",9),i.xc(13," Pallot List "),i.Ob(),i.Ob(),i.Pb(14,"tr"),i.Pb(15,"th",10),i.xc(16,"#"),i.Ob(),i.Pb(17,"th",10),i.xc(18,"SR"),i.Ob(),i.Pb(19,"th",10),i.xc(20,"Date"),i.Ob(),i.Pb(21,"th",10),i.xc(22,"Chamber"),i.Ob(),i.Pb(23,"th",10),i.xc(24,"Floor"),i.Ob(),i.Pb(25,"th",10),i.xc(26,"Line"),i.Ob(),i.Pb(27,"th",10),i.xc(28,"Pocket"),i.Ob(),i.Ob(),i.Ob(),i.Pb(29,"tbody"),i.vc(30,uo,16,10,"tr",11),i.Ob(),i.Ob(),i.Pb(31,"div",12),i.Pb(32,"ngb-pagination",13),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshPallot()}),i.Ob(),i.Pb(33,"select",14),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshPallot()}),i.Pb(34,"option",15),i.xc(35,"4/Page"),i.Ob(),i.Pb(36,"option",15),i.xc(37,"8/Page"),i.Ob(),i.Pb(38,"option",15),i.xc(39,"16/Page"),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(30),i.hc("ngForOf",t.pallotPage),i.yb(2),i.hc("collectionSize",t.pallotList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[x.s,x.j,x.k,s.m,l.i,x.p,x.i,x.l,x.m,x.r],pipes:[s.d],styles:[""]}),e})(),go=(()=>{class e{constructor(e,t,o,n,r,i,c){this.chamberService=e,this.floorService=t,this.lineService=o,this.pallotService=n,this.pocketService=r,this.util=i,this.cdr=c,this.sendingData=!1,this.loadingData=!1,this.errorMessage=""}ngOnInit(){this.getChamberList(),this.getPallotList()}ngAfterContentChecked(){this.cdr.detectChanges()}ngAfterViewChecked(){this.cdr.detectChanges()}getChamberList(){return Object(O.a)(this,void 0,void 0,function*(){this.chamberService.chambers$.subscribe(e=>{this.chamberList=e,this.chamberList.sort(this.util.dynamicSortObject("name"))})})}getFloorList(e){return Object(O.a)(this,void 0,void 0,function*(){this.floorService.floors$.subscribe(t=>{this.floorList=t.filter(t=>t.chamber._id==e),this.floorList.sort(this.util.dynamicSortObject("name"))})})}getLineList(e){return Object(O.a)(this,void 0,void 0,function*(){console.log(e),this.lineService.lines$.subscribe(t=>{this.lineList=t.filter(t=>t.floor._id==e),console.log(this.lineList),this.lineList.sort(this.util.dynamicSortObject("name"))})})}getPocketList(e){return Object(O.a)(this,void 0,void 0,function*(){this.pocketService.pockets$.subscribe(t=>{this.pocketList=t.filter(t=>t.line._id==e),this.lineList.sort(this.util.dynamicSortObject("name"))})})}getPallotList(){return Object(O.a)(this,void 0,void 0,function*(){this.pallotService.pallots$.subscribe(e=>{this.pallotList=e,this.pallotList.sort(this.util.dynamicSortObject("priority"))})})}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign({},e);console.log(t),yield this.pallotService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{createdAt:this.pallot.createdAt});yield this.pallotService.update(this.pallot._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.pallotService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Line Deleting ERROR ! "}),this.clear())})}onEdit(e){this.pallot=this.pallotList.find(t=>t._id===e)}clear(){this.pallot=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(y.a),i.Kb(M.a),i.Kb(Z.a),i.Kb(to.a),i.Kb(W.a),i.Kb(P.a),i.Kb(i.h))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-pallot"]],decls:9,vars:6,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"pallot","chamberList","floorList","lineList","pocketList","create","update","delete","selectChamber","selectFloor","selectLine"],[1,"col-md-8","mt-2"],[3,"pallotList"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Pallot\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"pallot-form",5),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)})("selectChamber",function(e){return t.getFloorList(e)})("selectFloor",function(e){return t.getLineList(e)})("selectLine",function(e){return t.getPocketList(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"div",6),i.Lb(8,"pallot-list",7),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("pallot",t.pallot)("chamberList",t.chamberList)("floorList",t.floorList)("lineList",t.lineList)("pocketList",t.pocketList),i.yb(2),i.hc("pallotList",t.pallotList))},directives:[ho,mo],styles:[""]}),e})(),fo=(()=>{class e{constructor(e){this.afs=e,this.serviceUrl="loan",this._loanSource=new _t.BehaviorSubject([]),this.loans$=this._loanSource.asObservable(),this.loans=[],this.getAndStoreAll()}create(e){return delete e._id,e.createdAt=new Date,this.afs.collection(this.serviceUrl).add(Object.assign({},e))}getAndStoreAll(){return this.afs.collection(this.serviceUrl,e=>e.orderBy("sr_no")).snapshotChanges().subscribe(e=>{this.loans=[],e.forEach(e=>{let t=e.payload.doc.data();t._id=e.payload.doc.id,this.loans.push(t)}),this._loanSource.next(this.loans)})}getAll(){return this.afs.collection(this.serviceUrl,e=>e.orderBy("sr_no")).snapshotChanges().pipe(Object(Ct.map)(e=>e.map(e=>{const t=e.payload.doc.data();return Object.assign({id:e.payload.doc.id},t)})))}get(e){return this.afs.doc(this.serviceUrl+"/"+e).valueChanges()}update(e,t){return delete t._id,this.afs.doc(this.serviceUrl+"/"+e).update(Object.assign({},t))}delete(e){return this.afs.doc(this.serviceUrl+"/"+e).delete()}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(wt.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function po(e,t){if(1&e&&(i.Pb(0,"div",27),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function vo(e,t){1&e&&(i.Pb(0,"small",28),i.xc(1," Year required "),i.Ob())}function Oo(e,t){1&e&&(i.Pb(0,"small",29),i.xc(1,"SR No Required"),i.Ob())}function yo(e,t){1&e&&(i.Pb(0,"small",28),i.xc(1," Loan amount required "),i.Ob())}function Po(e,t){1&e&&(i.Pb(0,"small",28),i.xc(1," Loan amount required "),i.Ob())}function xo(e,t){1&e&&(i.Pb(0,"small",28),i.xc(1," Loan profit required "),i.Ob())}function Lo(e,t){1&e&&(i.Pb(0,"small",28),i.xc(1," Loan payable required "),i.Ob())}function _o(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",26),i.Zb("click",function(){return i.pc(e),i.bc().onDelete()}),i.xc(1,"Delete"),i.Ob()}}function Co(e,t){if(1&e&&(i.Pb(0,"div",28),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let wo=(()=>{class e{constructor(e,t,o){this.fb=e,this.util=t,this.inventoryService=o,this.create=new i.n,this.update=new i.n,this.delete=new i.n,this.errorMessage="",this.exists=!1,this.mouseoverShifting=!1,this.searchInventory=e=>e.pipe(Mt(200),Object(Et.a)(),Object(Ft.a)(e=>(e.length<2?[]:this.inventoryList.filter(t=>t.sr_no.indexOf(e.toLowerCase())>-1).slice(0,10)).map(e=>e.sr_no))),this.ngDate=this.util.convertJsDateToNgbDate(new Date),this.createForm(),this.getInventoryList()}ngOnChanges(e){e.loan&&null!=this.loan&&(this.form.reset(),this.exists=!0,this.form.patchValue(this.loan))}getInventoryList(){return Object(O.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.subscribe(e=>{this.inventoryList=e.filter(e=>e.year=this.ngDate.year)})})}createForm(){this.form=this.fb.group({date:[this.ngDate,x.q.required],year:[this.ngDate.year,x.q.required],sr_no:["",x.q.required],amount:[0,x.q.required],rate:[0,x.q.required],payable:[0,x.q.required],profit:[0,x.q.required]})}submit(){if(this.form.valid){const e=this.form.value,t=this.util.convertNgbDateToJsDate(e.date),o=Object.assign(Object.assign({},e),{date:t});this.exists?this.update.emit(o):this.create.emit(o),this.clear()}}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}calculateLoan(){const e=this.form.value,t=e.rate*e.amount/100,o=e.amount+t;this.form.controls.profit.setValue(t),this.form.controls.payable.setValue(o)}onDelete(){this.delete.emit(this.loan._id),this.clear()}clear(){this.exists=!1,this.loan=null,this.errorMessage="",this.form.reset(),this.form.controls.date.setValue(this.ngDate)}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b),i.Kb(P.a),i.Kb(St))},e.\u0275cmp=i.Eb({type:e,selectors:[["loan-form"]],inputs:{loan:"loan"},outputs:{create:"create",update:"update",delete:"delete"},features:[i.wb],decls:54,vars:14,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],[1,"input-group"],["for","date",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],[1,"col-sm-10"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["date","ngbDatepicker"],["for","year",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","year","formControlName","year","placeholder","Year",1,"form-control","form-control-sm"],["class","text-danger",4,"ngIf"],["for","sr_no",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["id","sr_no","type","text","formControlName","sr_no",1,"form-control","form-control-sm",3,"ngbTypeahead","editable"],["class","form-text text-danger",4,"ngIf"],["for","amount",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","amount","formControlName","amount","placeholder","Loan amount",1,"form-control","form-control-sm",3,"change"],["for","rate",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","rate","formControlName","rate","placeholder","Loan rate",1,"form-control","form-control-sm",3,"change"],["for","profit",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","profit","formControlName","profit","placeholder","Loan profit","readonly","",1,"form-control","form-control-sm"],["for","payable",1,"d-none","d-sm-block","col-sm-2","col-form-label","col-form-label-sm"],["type","number","id","payable","formControlName","payable","placeholder","Loan payable","readonly","",1,"form-control","form-control-sm"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button","class","btn btn-sm btn-light mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[1,"alert","alert-danger"],[1,"text-danger"],[1,"form-text","text-danger"]],template:function(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",0),i.xc(1),i.Ob(),i.vc(2,po,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"label",5),i.xc(7,"Date*"),i.Ob(),i.Pb(8,"div",6),i.Pb(9,"input",7,8),i.Zb("click",function(){return i.pc(e),i.oc(10).toggle()}),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(11,"div",3),i.Pb(12,"label",9),i.xc(13,"Year*"),i.Ob(),i.Pb(14,"div",6),i.Lb(15,"input",10),i.vc(16,vo,2,0,"small",11),i.Ob(),i.Ob(),i.Pb(17,"div",3),i.Pb(18,"label",12),i.xc(19,"SR No*"),i.Ob(),i.Pb(20,"div",6),i.Lb(21,"input",13),i.vc(22,Oo,2,0,"small",14),i.Ob(),i.Ob(),i.Pb(23,"div",3),i.Pb(24,"label",15),i.xc(25,"Amount*"),i.Ob(),i.Pb(26,"div",6),i.Pb(27,"input",16),i.Zb("change",function(){return t.calculateLoan()}),i.Ob(),i.vc(28,yo,2,0,"small",11),i.Ob(),i.Ob(),i.Pb(29,"div",3),i.Pb(30,"label",17),i.xc(31,"Rate*"),i.Ob(),i.Pb(32,"div",6),i.Pb(33,"input",18),i.Zb("change",function(){return t.calculateLoan()}),i.Ob(),i.vc(34,Po,2,0,"small",11),i.Ob(),i.Ob(),i.Pb(35,"div",3),i.Pb(36,"label",19),i.xc(37,"Profit"),i.Ob(),i.Pb(38,"div",6),i.Lb(39,"input",20),i.vc(40,xo,2,0,"small",11),i.Ob(),i.Ob(),i.Pb(41,"div",3),i.Pb(42,"label",21),i.xc(43,"Payable"),i.Ob(),i.Pb(44,"div",6),i.Lb(45,"input",22),i.vc(46,Lo,2,0,"small",11),i.Ob(),i.Ob(),i.Pb(47,"div",23),i.Pb(48,"button",24),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(49),i.Ob(),i.vc(50,_o,2,0,"button",25),i.Pb(51,"button",26),i.Zb("click",function(){return t.clear()}),i.xc(52,"Clear"),i.Ob(),i.Ob(),i.vc(53,Co,2,1,"div",11),i.Ob()}2&e&&(i.yb(1),i.zc(" ",t.exists?"Update":"New"," Loan\n"),i.yb(1),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(13),i.hc("ngIf",t.form.controls.year.errors&&t.form.controls.year.touched),i.yb(5),i.hc("ngbTypeahead",t.searchInventory)("editable",!1),i.yb(1),i.hc("ngIf",t.form.controls.sr_no.errors&&t.form.controls.sr_no.touched),i.yb(6),i.hc("ngIf",t.form.controls.amount.errors&&t.form.controls.amount.touched),i.yb(6),i.hc("ngIf",t.form.controls.rate.errors&&t.form.controls.rate.touched),i.yb(6),i.hc("ngIf",t.form.controls.profit.errors&&t.form.controls.profit.touched),i.yb(6),i.hc("ngIf",t.form.controls.payable.errors&&t.form.controls.payable.touched),i.yb(3),i.yc(t.exists?"Update":"Save"),i.yb(1),i.hc("ngIf",t.exists),i.yb(3),i.hc("ngIf",t.mouseoverShifting))},directives:[s.n,x.s,x.j,x.d,l.f,x.a,x.i,x.c,x.n,l.j],styles:[""]}),e})();function So(e,t){if(1&e&&(i.Pb(0,"tr"),i.Pb(1,"th",16),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.Pb(5,"td",17),i.xc(6),i.Ob(),i.Pb(7,"td",17),i.xc(8),i.Ob(),i.Pb(9,"td",17),i.xc(10),i.Ob(),i.Pb(11,"td",17),i.xc(12),i.Ob(),i.Ob()),2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.zc(" ",e.sr_no," "),i.yb(2),i.zc(" ",e.amount," "),i.yb(2),i.zc(" ",e.rate," "),i.yb(2),i.zc(" ",e.profit," "),i.yb(2),i.zc(" ",e.payable," ")}}let ko=(()=>{class e{constructor(e,t){this.loanService=e,this.util=t,this.sendingData=!1,this.loadingData=!1,this.loanList=[],this.page=1,this.pageSize=8,this.loanPage=[],this.errorMessage=""}ngOnInit(){this.getLoanList()}getLoanList(){return Object(O.a)(this,void 0,void 0,function*(){this.loanService.loans$.subscribe(e=>{this.loanList=e,this.loanList.sort(this.util.dynamicSortObject("sr_no")),this.refreshLoan()})})}refreshLoan(){this.loanPage=this.loanList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign({},e);yield this.loanService.create(t).then(e=>{console.log(e)}).catch(e=>{console.log("error",e)})})}onUpdate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0;const t=Object.assign(Object.assign({},e),{createdAt:this.loan.createdAt});yield this.loanService.update(this.loan._id,t).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Group Updating ERROR ! "}),this.clear()})}onDelete(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,confirm("Are you sure to delete")&&(yield this.loanService.delete(e).then(()=>{this.sendingData=!1}).catch(e=>{this.sendingData=!1,this.errorMessage="Loan Deleting ERROR ! "}),this.clear())})}onEdit(e){this.loan=this.loanList.find(t=>t._id===e)}clear(){this.loan=null,this.errorMessage="",this.sendingData=!1,this.loadingData=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(fo),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-loan"]],decls:37,vars:9,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-4","p-md-0","mt-2"],[1,"border","rounded"],[3,"loan","create","update","delete"],[1,"col-md-8","mt-2"],[1,"table","table-striped","border","table-sm"],["colspan","6",1,"form-head"],["scope","col"],["scope","col",1,"text-right"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"text-right"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Loan\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"loan-form",5),i.Zb("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)})("delete",function(e){return t.onDelete(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"div",6),i.Pb(8,"table",7),i.Pb(9,"thead"),i.Pb(10,"tr"),i.Pb(11,"td",8),i.xc(12," Loan List "),i.Ob(),i.Ob(),i.Pb(13,"tr"),i.Pb(14,"th",9),i.xc(15,"#"),i.Ob(),i.Pb(16,"th",9),i.xc(17,"SR No"),i.Ob(),i.Pb(18,"th",10),i.xc(19,"Amount"),i.Ob(),i.Pb(20,"th",10),i.xc(21,"Rate"),i.Ob(),i.Pb(22,"th",10),i.xc(23,"Profit"),i.Ob(),i.Pb(24,"th",10),i.xc(25,"Payable"),i.Ob(),i.Ob(),i.Ob(),i.Pb(26,"tbody"),i.vc(27,So,13,6,"tr",11),i.Ob(),i.Ob(),i.Pb(28,"div",12),i.Pb(29,"ngb-pagination",13),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshLoan()}),i.Ob(),i.Pb(30,"select",14),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshLoan()}),i.Pb(31,"option",15),i.xc(32,"4/Page"),i.Ob(),i.Pb(33,"option",15),i.xc(34,"8/Page"),i.Ob(),i.Pb(35,"option",15),i.xc(36,"16/Page"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("loan",t.loan),i.yb(21),i.hc("ngForOf",t.loanPage),i.yb(2),i.hc("collectionSize",t.loanList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[wo,s.m,l.i,x.p,x.i,x.l,x.m,x.r],styles:[""]}),e})(),zo=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["app-ledger"]],decls:2,vars:0,template:function(e,t){1&e&&(i.Pb(0,"p"),i.xc(1,"ledger works!"),i.Ob())},styles:[""]}),e})();var Do=o("IzEk"),Mo=o("1IUP");function jo(e,t){if(1&e&&(i.Pb(0,"tr"),i.Pb(1,"th",16),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.Pb(5,"td"),i.Pb(6,"div"),i.xc(7),i.Ob(),i.Pb(8,"div"),i.xc(9),i.Ob(),i.Pb(10,"div"),i.xc(11),i.Ob(),i.Ob(),i.Pb(12,"td"),i.Pb(13,"div"),i.Pb(14,"div"),i.xc(15),i.Ob(),i.Pb(16,"div"),i.xc(17),i.Ob(),i.Pb(18,"div"),i.xc(19),i.Ob(),i.Ob(),i.Ob(),i.Pb(20,"td"),i.Pb(21,"div"),i.xc(22),i.Ob(),i.Pb(23,"div"),i.xc(24),i.Ob(),i.Pb(25,"div"),i.xc(26),i.Ob(),i.Ob(),i.Pb(27,"td"),i.Pb(28,"div"),i.Pb(29,"div"),i.xc(30),i.Ob(),i.Pb(31,"div"),i.xc(32),i.Ob(),i.Pb(33,"div"),i.xc(34),i.Ob(),i.Ob(),i.Ob(),i.Pb(35,"td"),i.xc(36),i.Ob(),i.Pb(37,"td"),i.Pb(38,"a",17),i.xc(39,"Print"),i.Ob(),i.Ob(),i.Ob()),2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.yc(e.sr_no),i.yb(3),i.Ac("Name : ",null==e.customer?null:e.customer.name," [",null==e.customer?null:e.customer.phone,"]"),i.yb(2),i.zc("C/O : ",null==e.customer?null:e.customer.father,""),i.yb(2),i.yc(null==e.customer?null:e.customer.address),i.yb(4),i.zc("Amount: ",e.loan_amount," "),i.yb(2),i.zc("Rate: ",e.loan_rate," "),i.yb(2),i.zc("Payable: ",e.loan_payable," "),i.yb(3),i.zc("Quanity: ",e.quantity," "),i.yb(2),i.zc("Rate: ",e.rate," "),i.yb(2),i.zc("Amount: ",e.service_amount," "),i.yb(4),i.zc("Quanity: ",e.emptyBag_quantity," "),i.yb(2),i.zc("Rate: ",e.emptyBag_rate," "),i.yb(2),i.zc("Amount: ",e.emptyBag_amount," "),i.yb(2),i.yc(e.total_amount),i.yb(2),i.jc("routerLink","/dashboard/contract/",e._id,"")}}let qo=(()=>{class e{constructor(){this.page=1,this.pageSize=8,this.ledgerPage=[]}ngOnChanges(e){e.ledgerList&&null!=this.ledgerList&&this.refreshLedger()}refreshLedger(){this.ledgerPage=this.ledgerList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onSearch(e){e.length>=2?this.ledgerPage=this.search(e):this.refreshLedger()}search(e){return this.ledgerList.filter(t=>{const o=e.toLowerCase();return t.sr_no.toLowerCase().includes(o)||t.customer.name.includes(o)||t.customer.phone.includes(o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["ledger-list"]],inputs:{ledgerList:"ledgerList"},features:[i.wb],decls:42,vars:8,consts:[[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","Name / Phone",1,"form-control","form-control-sm",3,"keyup"],[1,"table","table-striped","border","table-sm"],["colspan","8",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[3,"routerLink"]],template:function(e,t){1&e&&(i.Pb(0,"form"),i.Pb(1,"div",0),i.Lb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"div",5),i.Lb(7,"i",6),i.Ob(),i.Ob(),i.Pb(8,"input",7),i.Zb("keyup",function(e){return t.onSearch(e.target.value)}),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(9,"table",8),i.Pb(10,"thead"),i.Pb(11,"tr"),i.Pb(12,"td",9),i.xc(13," Ledger List "),i.Ob(),i.Ob(),i.Pb(14,"tr"),i.Pb(15,"th",10),i.xc(16,"#"),i.Ob(),i.Pb(17,"th",10),i.xc(18,"SR_No"),i.Ob(),i.Pb(19,"th",10),i.xc(20,"Party"),i.Ob(),i.Pb(21,"th",10),i.xc(22,"Loan"),i.Ob(),i.Pb(23,"th",10),i.xc(24,"Product"),i.Ob(),i.Pb(25,"th",10),i.xc(26,"Empty bag"),i.Ob(),i.Pb(27,"th",10),i.xc(28,"Total"),i.Ob(),i.Pb(29,"th",10),i.xc(30,"Action"),i.Ob(),i.Ob(),i.Ob(),i.Pb(31,"tbody"),i.vc(32,jo,40,17,"tr",11),i.Ob(),i.Ob(),i.Pb(33,"div",12),i.Pb(34,"ngb-pagination",13),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshLedger()}),i.Ob(),i.Pb(35,"select",14),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshLedger()}),i.Pb(36,"option",15),i.xc(37,"4/Page"),i.Ob(),i.Pb(38,"option",15),i.xc(39,"8/Page"),i.Ob(),i.Pb(40,"option",15),i.xc(41,"16/Page"),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(32),i.hc("ngForOf",t.ledgerPage),i.yb(2),i.hc("collectionSize",t.ledgerList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[x.s,x.j,x.k,s.m,l.i,x.p,x.i,x.l,x.m,x.r,n.d],styles:[""]}),e})();function Io(e,t){1&e&&(i.Pb(0,"h4",19),i.xc(1,"Edit Ledger"),i.Ob())}function Eo(e,t){1&e&&(i.Pb(0,"small",20),i.xc(1,"SR No Required"),i.Ob())}function Fo(e,t){if(1&e&&(i.Pb(0,"div",21),i.Pb(1,"label",22),i.xc(2,"Party"),i.Ob(),i.Pb(3,"div",23),i.xc(4),i.Ob(),i.Pb(5,"div",24),i.xc(6),i.Ob(),i.Pb(7,"div",23),i.xc(8),i.Ob(),i.Ob()),2&e){const e=i.bc();i.yb(4),i.Ac(" ",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.name,"[",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.phone,"]"),i.yb(2),i.zc("C/O: ",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.father,""),i.yb(2),i.zc(" ",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.address,"")}}function No(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",8),i.Pb(1,"label",25),i.xc(2,"Loan"),i.Ob(),i.Pb(3,"div"),i.Pb(4,"small"),i.xc(5," Amount "),i.Ob(),i.Pb(6,"input",26),i.Zb("change",function(){return i.pc(e),i.bc().onLoanChange()}),i.Ob(),i.Ob(),i.Pb(7,"div"),i.Pb(8,"small"),i.xc(9," Rate "),i.Ob(),i.Pb(10,"input",27),i.Zb("change",function(){return i.pc(e),i.bc().onLoanChange()}),i.Ob(),i.Ob(),i.Pb(11,"div"),i.Pb(12,"small"),i.xc(13," Profit "),i.Ob(),i.Lb(14,"input",28),i.Ob(),i.Pb(15,"div"),i.Pb(16,"small"),i.xc(17,"Payable "),i.Ob(),i.Lb(18,"input",29),i.Ob(),i.Ob()}}function Vo(e,t){if(1&e&&(i.Pb(0,"div",8),i.Pb(1,"label",22),i.xc(2,"Loan"),i.Ob(),i.Pb(3,"div",24),i.xc(4),i.Ob(),i.Pb(5,"div",24),i.xc(6),i.Ob(),i.Pb(7,"div",24),i.xc(8),i.Ob(),i.Ob()),2&e){const e=i.bc();i.yb(4),i.zc(" Amount ",null==e.form.value||null==e.form.value.loan?null:e.form.value.loan.amount,""),i.yb(2),i.zc("Rate ",null==e.form.value||null==e.form.value.loan?null:e.form.value.loan.rate,""),i.yb(2),i.zc("Payable ",null==e.form.value||null==e.form.value.loan?null:e.form.value.loan.payable,"")}}function Ro(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",8),i.Pb(1,"label",30),i.xc(2,"Product"),i.Ob(),i.Pb(3,"div"),i.Pb(4,"small"),i.xc(5," Quantity "),i.Ob(),i.Lb(6,"input",31),i.Ob(),i.Pb(7,"div"),i.Pb(8,"small"),i.xc(9," Rate "),i.Ob(),i.Pb(10,"input",32),i.Zb("change",function(){return i.pc(e),i.bc().onQuantityChange()}),i.Ob(),i.Ob(),i.Pb(11,"div"),i.Pb(12,"small"),i.xc(13," Amount "),i.Ob(),i.Lb(14,"input",33),i.Ob(),i.Ob()}}function Ao(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",8),i.Pb(1,"label",34),i.xc(2,"Empty bag"),i.Ob(),i.Pb(3,"div"),i.Pb(4,"small"),i.xc(5," Quantity "),i.Ob(),i.Pb(6,"input",35),i.Zb("change",function(){return i.pc(e),i.bc().onEmptybagChange()}),i.Ob(),i.Ob(),i.Pb(7,"div"),i.Pb(8,"small"),i.xc(9," Rate "),i.Ob(),i.Pb(10,"input",36),i.Zb("change",function(){return i.pc(e),i.bc().onEmptybagChange()}),i.Ob(),i.Ob(),i.Pb(11,"div"),i.Pb(12,"small"),i.xc(13," Amount "),i.Ob(),i.Lb(14,"input",37),i.Ob(),i.Ob()}}function Zo(e,t){1&e&&(i.Pb(0,"div",8),i.Pb(1,"label",38),i.xc(2,"Total"),i.Ob(),i.Pb(3,"div"),i.Lb(4,"input",39),i.Ob(),i.Ob())}function Uo(e,t){if(1&e&&(i.Pb(0,"div",19),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}let $o=(()=>{class e{constructor(e,t,o,n){this.fb=e,this.inventoryService=t,this.ledgerService=o,this.util=n,this.exists=!1,this.mouseoverShifting=!1,this.ledgerList=[],this.errorMessage="",this.inventoryList=[],this.searchInventory=e=>e.pipe(Mt(200),Object(Et.a)(),Object(Ft.a)(e=>(e.length<2?[]:this.inventoryList.filter(t=>t.sr_no.indexOf(e.toLowerCase())>-1&&t.year==this.year).slice(0,10)).map(e=>e.sr_no)));let r=new Date;this.year=r.getFullYear(),this.getAllLedger(),this.createForm()}getAllLedger(){return Object(O.a)(this,void 0,void 0,function*(){this.ledgerService.ledgers$.subscribe(e=>{this.ledgerList=e})})}ngOnInit(){this.getInventoryList(this.year)}createForm(){this.form=this.fb.group({sr_no:["",x.q.required],year:[this.year,x.q.required],customer:["",x.q.required],agent:[""],loan_amount:[0],loan_rate:[0],loan_profit:[""],loan_payable:[""],note:[""],quantity:[0,x.q.required],rate:[0,x.q.required],service_amount:[0],emptyBag_quantity:[0],emptyBag_rate:[0],emptyBag_amount:[0],labour_charge:[0],transport_amount:[0],others_amount:[0],advance_amount:[0],total_amount:[0,x.q.required]})}getInventoryList(e){return Object(O.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.subscribe(t=>{this.inventoryList=t.filter(t=>t.year==e)})})}onSelectSRNo(e){return Object(O.a)(this,void 0,void 0,function*(){yield this.ledgerService.ledgers$.pipe(Object(Do.a)(1)).subscribe(t=>{const o=t.find(t=>t.sr_no==e.item);if(o)this.id=o._id,this.exists=!0,this.form.patchValue(o);else{this.exists=!1;const t=this.inventoryList.find(t=>t.sr_no==e.item);this.form.controls.customer.setValue(t.customer),t.agent&&this.form.controls.agent.setValue(t.agent),this.form.controls.agent.setValue(t.agent),this.form.controls.quantity.setValue(t.quantity)}})})}onQuantityChange(){const e=this.form.value;this.form.controls.service_amount.setValue(e.rate*e.quantity),this.calculateTotal()}onEmptybagChange(){const e=this.form.value;this.form.controls.emptyBag_amount.setValue(e.emptyBag_quantity*e.emptyBag_rate),this.calculateTotal()}onLoanChange(){const e=this.form.value,t=e.loan_amount*e.loan_rate/100,o=t+e.loan_amount;this.form.controls.loan_profit.setValue(t),this.form.controls.loan_payable.setValue(o),this.calculateTotal()}calculateTotal(){const e=this.form.value;this.form.controls.total_amount.setValue(e.service_amount+e.emptyBag_amount+(e.loan?e.loan.payable:0))}submit(){return Object(O.a)(this,void 0,void 0,function*(){if(this.form.valid){const e=this.form.value;Object.keys(e).forEach(t=>void 0===e[t]?delete e[t]:{}),this.exists?yield this.ledgerService.update(this.id,e).then(e=>{this.clear()}).catch(e=>console.log("error",e)):yield this.ledgerService.create(e).then(e=>{this.clear()}).catch(e=>console.log("error",e))}})}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clear(){this.id=null,this.form.reset(),this.form.controls.year.setValue(this.year),this.exists=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b),i.Kb(St),i.Kb(Mo.a),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-ledger-add"]],decls:32,vars:13,consts:[[1,"page-head"],[1,"container"],[1,"col-12","p-md-0","mt-2"],[1,"border","rounded"],[1,"form-head"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],["class","text-danger",4,"ngIf"],[1,"form-group","row"],[1,"col-auto"],["for","sr_no",1,"d-none","d-sm-block"],["id","sr_no","type","text","formControlName","sr_no",1,"form-control","form-control-sm",3,"ngbTypeahead","editable","selectItem"],["class","form-text text-danger",4,"ngIf"],["type","number","id","year","formControlName","year","placeholder","Year",1,"form-control","form-control-sm"],["class","col-auto","style","max-width: 200px;",4,"ngIf"],["class","col-auto",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],[3,"ledgerList"],[1,"text-danger"],[1,"form-text","text-danger"],[1,"col-auto",2,"max-width","200px"],["for","customer",1,"d-none","d-sm-block"],[1,"form-control","form-control-sm",2,"height","auto","min-height","2rem"],[1,"form-control","form-control-sm"],["for","loan",1,"d-none","d-sm-block"],["type","number","id","loan_amount","formControlName","loan_amount",1,"form-control","form-control-sm",3,"change"],["type","number","id","loan_rate","formControlName","loan_rate",1,"form-control","form-control-sm",3,"change"],["type","number","id","loan_profit","formControlName","loan_profit","readonly","",1,"form-control","form-control-sm"],["type","number","id","loan_payable","formControlName","loan_payable","readonly","",1,"form-control","form-control-sm"],["for","product",1,"d-none","d-sm-block"],["type","number","id","quantity","formControlName","quantity","readonly","",1,"form-control","form-control-sm"],["type","number","id","rate","formControlName","rate",1,"form-control","form-control-sm",3,"change"],["type","number","id","service_amount","formControlName","service_amount","readonly","",1,"form-control","form-control-sm"],["for","rate",1,"d-none","d-sm-block"],["type","number","id","emptyBag_quantity","formControlName","emptyBag_quantity",1,"form-control","form-control-sm",3,"change"],["type","number","id","emptyBag_rate","formControlName","emptyBag_rate",1,"form-control","form-control-sm",3,"change"],["type","number","id","emptyBag_amount","formControlName","emptyBag_amount","readonly","",1,"form-control","form-control-sm"],["for","total",1,"d-none","d-sm-block"],["type","number","id","total_amount","formControlName","total_amount","readonly","",1,"form-control","form-control-sm"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Add Ledger\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.xc(6," New Ledger "),i.Ob(),i.Pb(7,"form",5),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.vc(8,Io,2,0,"h4",6),i.Pb(9,"div",7),i.Pb(10,"div",8),i.Pb(11,"label",9),i.xc(12,"SR No*"),i.Ob(),i.Pb(13,"input",10),i.Zb("selectItem",function(e){return t.onSelectSRNo(e)}),i.Ob(),i.vc(14,Eo,2,0,"small",11),i.Pb(15,"label",9),i.xc(16,"Year*"),i.Ob(),i.Lb(17,"input",12),i.Ob(),i.vc(18,Fo,9,4,"div",13),i.vc(19,No,19,0,"div",14),i.vc(20,Vo,9,3,"div",14),i.vc(21,Ro,15,0,"div",14),i.vc(22,Ao,15,0,"div",14),i.vc(23,Zo,5,0,"div",14),i.Ob(),i.Pb(24,"div",15),i.Pb(25,"button",16),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(26,"Save"),i.Ob(),i.Pb(27,"button",17),i.Zb("click",function(){return t.clear()}),i.xc(28,"Clear"),i.Ob(),i.Ob(),i.vc(29,Uo,2,1,"div",6),i.Ob(),i.Ob(),i.Ob(),i.Pb(30,"div",2),i.Lb(31,"ledger-list",18),i.Ob(),i.Ob()),2&e&&(i.yb(7),i.hc("formGroup",t.form),i.yb(1),i.hc("ngIf",t.exists),i.yb(5),i.hc("ngbTypeahead",t.searchInventory)("editable",!1),i.yb(1),i.hc("ngIf",t.form.controls.sr_no.errors&&t.form.controls.sr_no.touched),i.yb(4),i.hc("ngIf",t.form.value.customer),i.yb(1),i.hc("ngIf",t.form.value.customer),i.yb(1),i.hc("ngIf",t.form.value.loan),i.yb(1),i.hc("ngIf",t.form.value.customer),i.yb(1),i.hc("ngIf",t.form.value.customer),i.yb(1),i.hc("ngIf",t.form.value.customer),i.yb(6),i.hc("ngIf",t.mouseoverShifting),i.yb(2),i.hc("ledgerList",t.ledgerList))},directives:[x.s,x.j,x.d,s.n,x.a,l.j,x.i,x.c,x.n,qo],styles:[""]}),e})();function Ko(e,t){1&e&&(i.Pb(0,"div",12),i.xc(1,"\u09ae\u09be\u09b0\u09ab\u09a4\u0983"),i.Ob())}let Bo=(()=>{class e{constructor(e,t,o){this.activatedRoute=e,this.ledgerService=t,this.inventoryService=o,this.company=Xt,this.id=e.snapshot.params.id}ngOnInit(){this.id&&this.getLedger(this.id)}getLedger(e){return Object(O.a)(this,void 0,void 0,function*(){yield this.ledgerService.ledgers$.pipe(Object(Do.a)(2)).subscribe(t=>{this.ledger=t.find(t=>t._id==e),this.ledger&&this.ledger.sr_no&&this.getInventory(this.ledger.sr_no)})})}getInventory(e){return Object(O.a)(this,void 0,void 0,function*(){console.log("sr",e),yield this.inventoryService.inventorys$.pipe(Object(Do.a)(2)).subscribe(t=>{this.inventory=t.find(t=>t.sr_no==e)})})}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(n.a),i.Kb(Mo.a),i.Kb(St))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-contract"]],decls:157,vars:19,consts:[[1,"output"],[1,"receipt"],[1,"row"],[1,"col-12"],[1,"head"],[1,"text-center"],[1,"p-2","border","border-dark","rounded"],[1,"col-6"],[1,"col-6","text-right"],[1,"row",2,"font-size","18px"],[1,"col-auto","pr-0"],[1,"col"],[1,"col-auto","p-0"],[1,"col-2"],[1,"col-3"],[1,"row","mt-3",2,"font-size","18px"],["class","col-auto p-0",4,"ngIf"],[1,"col-auto"],[1,"row","mb-5","pt-5"],[1,"table","table-bordered","table-sm"],[2,"min-width","100px"],[1,"text-center","col-amount"],["colspan","10"],["rowspan","2"],["colspan","2"],["rowspan","2",2,"min-width","100px"],[1,"row","mt-5","py-5"],[1,"border-top","border-dark"],[1,"col","text-center"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.Pb(2,"div",2),i.Pb(3,"div",3),i.Pb(4,"div",4),i.Pb(5,"h5",5),i.Pb(6,"span",6),i.xc(7,"\u099a\u09c1\u0995\u09cd\u09a4\u09bf \u09aa\u09a4\u09cd\u09b0"),i.Ob(),i.Ob(),i.Pb(8,"h3",5),i.xc(9),i.Ob(),i.Pb(10,"h5",5),i.xc(11),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(12,"div",2),i.Lb(13,"div",7),i.Pb(14,"div",8),i.xc(15,"\u09a4\u09be\u09b0\u09bf\u0996\u0983 _ _ _/ _ _ _/ _ _ _ _ \x1b"),i.Ob(),i.Ob(),i.Pb(16,"div",9),i.Pb(17,"div",10),i.xc(18,"\u09ae\u099c\u09c1\u09a4\u0995\u09be\u09b0\u09c0\u09b0 \u09a8\u09be\u09ae\u0983 "),i.Ob(),i.Pb(19,"div",11),i.Pb(20,"strong"),i.xc(21),i.Ob(),i.Ob(),i.Pb(22,"div",12),i.xc(23,"\u09ae\u09cb\u09ac\u09be\u0987\u09b2 \u09a8\u09ae\u09cd\u09ac\u09b0\u0983 "),i.Ob(),i.Pb(24,"div",13),i.Pb(25,"strong"),i.xc(26),i.Ob(),i.Ob(),i.Pb(27,"div",12),i.xc(28,"\u09aa\u09bf\u09a4\u09be\u09b0 \u09a8\u09be\u09ae\u0983 "),i.Ob(),i.Pb(29,"div",14),i.Pb(30,"strong"),i.xc(31),i.Ob(),i.Ob(),i.Ob(),i.Pb(32,"div",15),i.Pb(33,"div",11),i.Pb(34,"strong"),i.xc(35),i.Ob(),i.Ob(),i.vc(36,Ko,2,0,"div",16),i.Pb(37,"div",17),i.Pb(38,"strong"),i.xc(39),i.Ob(),i.Ob(),i.Pb(40,"div",10),i.xc(41,"\u09b2\u099f \u09a8\u0982 "),i.Ob(),i.Pb(42,"div",17),i.Pb(43,"strong"),i.xc(44),i.Ob(),i.Ob(),i.Ob(),i.Pb(45,"div",18),i.Pb(46,"div",3),i.Pb(47,"table",19),i.Pb(48,"tbody"),i.Pb(49,"tr",5),i.Pb(50,"td"),i.xc(51,"\u0986\u09b2\u09c1\u09b0 \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 "),i.Lb(52,"br"),i.xc(53," \u09b8\u0982\u0996\u09cd\u09af\u09be"),i.Ob(),i.Pb(54,"td"),i.xc(55,"\u09ac\u09b8\u09cd\u09a4\u09be \u09aa\u09cd\u09b0\u09a4\u09bf \u09ad\u09be\u09dc\u09be\u09b0 "),i.Lb(56,"br"),i.xc(57," \u09b9\u09be\u09b0 (\u099f\u09be\u0995\u09be) "),i.Ob(),i.Pb(58,"td"),i.xc(59,"\u09ae\u09cb\u099f \u09ad\u09be\u09dc\u09be "),i.Lb(60,"br"),i.xc(61," (\u099f\u09be\u0995\u09be) "),i.Ob(),i.Pb(62,"td"),i.xc(63,"\u0996\u09be\u09b2\u09bf \u09ac\u09b8\u09cd\u09a4\u09be"),i.Ob(),i.Pb(64,"td"),i.xc(65,"\u09aa\u09cd\u09b0\u09a4\u09bf\u099f\u09bf \u0996\u09be\u09b2\u09bf "),i.Lb(66,"br"),i.xc(67," \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09ae\u09c2\u09b2\u09cd\u09af "),i.Ob(),i.Pb(68,"td"),i.xc(69,"\u09ae\u09cb\u099f \u0996\u09be\u09b2\u09bf "),i.Lb(70,"br"),i.xc(71," \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09ae\u09c2\u09b2\u09cd\u09af "),i.Ob(),i.Pb(72,"td"),i.xc(73,"\u098b\u09a3 "),i.Lb(74,"br"),i.xc(75," (\u099f\u09be\u0995\u09be)"),i.Ob(),i.Pb(76,"td"),i.xc(77,"\u098b\u09a3 \u0996\u09b0\u099a "),i.Lb(78,"br"),i.xc(79," (\u099f\u09be\u0995\u09be) "),i.Ob(),i.Pb(80,"td"),i.xc(81,"\u09ae\u09cb\u099f "),i.Lb(82,"br"),i.xc(83," \u09aa\u09cd\u09b0\u09be\u09aa\u09cd\u09af \u099f\u09be\u0995\u09be"),i.Ob(),i.Pb(84,"td",20),i.xc(85,"\u09ae\u09a8\u09cd\u09a4\u09ac\u09cd\u09af"),i.Ob(),i.Ob(),i.Pb(86,"tr",21),i.Pb(87,"td"),i.xc(88),i.Ob(),i.Pb(89,"td"),i.xc(90),i.Ob(),i.Pb(91,"td"),i.xc(92),i.Ob(),i.Pb(93,"td"),i.xc(94),i.Ob(),i.Pb(95,"td"),i.xc(96),i.Ob(),i.Pb(97,"td"),i.xc(98),i.Ob(),i.Pb(99,"td"),i.xc(100),i.Ob(),i.Pb(101,"td"),i.xc(102),i.Ob(),i.Pb(103,"td"),i.Pb(104,"strong"),i.xc(105),i.Ob(),i.Ob(),i.Lb(106,"td"),i.Ob(),i.Pb(107,"tr"),i.Pb(108,"td",22),i.xc(109,"\u09ae\u09cb\u099f \u09aa\u09cd\u09b0\u09be\u09aa\u09cd\u09af \u099f\u09be\u0995\u09be (\u0995\u09a5\u09be\u09df) - "),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(110,"table",19),i.Pb(111,"tbody"),i.Pb(112,"tr",5),i.Pb(113,"td",23),i.xc(114,"\u09ad\u09be\u09dc\u09be \u0986\u09a6\u09be\u09df\u09c7\u09b0 \u09a4\u09be\u09b0\u09bf\u0996 "),i.Ob(),i.Pb(115,"td",23),i.xc(116,"\u09b0\u09b6\u09bf\u09a6/\u099b\u09be\u09dc\u09aa\u09a4\u09cd\u09b0 \u09a8\u0982 "),i.Ob(),i.Pb(117,"td",23),i.xc(118,"\u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be"),i.Ob(),i.Pb(119,"td",23),i.xc(120,"\u0986\u09a6\u09be\u09df\u0995\u09c3\u09a4 \u099f\u09be\u0995\u09be"),i.Ob(),i.Pb(121,"td",24),i.xc(122,"\u0985\u09ac\u09b6\u09bf\u09b7\u09cd\u099f\u09c7\u09b0 \u09ac\u09bf\u09ac\u09b0\u09a3"),i.Ob(),i.Pb(123,"td",23),i.xc(124,"\u0986\u09a6\u09be\u09df\u0995\u09be\u09b0\u09c0\u09b0 \u09b8\u09be\u0995\u09cd\u09b7\u09b0"),i.Ob(),i.Pb(125,"td",25),i.xc(126,"\u09ae\u09a8\u09cd\u09a4\u09ac\u09cd\u09af"),i.Ob(),i.Ob(),i.Pb(127,"tr",5),i.Pb(128,"td"),i.xc(129,"\u0989\u09a6\u09cd\u09ac\u09c3\u09a4\u09cd\u09a4 \u09ac\u09b8\u09cd\u09a4\u09be"),i.Ob(),i.Pb(130,"td"),i.xc(131,"\u09aa\u09cd\u09b0\u09be\u09aa\u09cd\u09af \u099f\u09be\u0995\u09be"),i.Ob(),i.Ob(),i.Pb(132,"tr",21),i.Lb(133,"td"),i.Lb(134,"td"),i.Lb(135,"td"),i.Lb(136,"td"),i.Lb(137,"td"),i.Lb(138,"td"),i.Lb(139,"td"),i.Lb(140,"td"),i.Ob(),i.Ob(),i.Ob(),i.xc(141," > \u09ac\u09bf\u09b6\u09c7\u09b7 \u09a6\u09cd\u09b0\u09b7\u09cd\u099f\u09ac\u09cd\u09af\u0983 \u098f\u0995 \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u0993\u099c\u09a8 \u09eb\u09e6\u0995\u09c7\u099c\u09bf\u09b0 \u098a\u09b0\u09cd\u09a6\u09cd\u09a7\u09c7 \u09b9\u09ac\u09c7 \u09a8\u09be\u0964 "),i.Lb(142,"br"),i.xc(143," > \u0985\u09aa\u09b0 \u09aa\u09c3\u09b7\u09cd\u09a0\u09be\u09b0 \u09b6\u09b0\u09cd\u09a4\u09be\u09ac\u09b2\u09c0 \u09aa\u09b0\u09bf\u09df\u09be/ \u099c\u09cd\u099e\u09be\u09a4 \u09b8\u09cd\u09ac-\u099c\u09cd\u099e\u09be\u09a8\u09c7 \u0993 \u09b8\u09c1\u09b8\u09cd\u09a5 \u09b6\u09b0\u09c0\u09b0\u09c7 \u099a\u09c1\u0995\u09cd\u09a4\u09bf \u09aa\u09a4\u09cd\u09b0 \u09b8\u09cd\u09ac\u09be\u0995\u09cd\u09b7\u09b0 \u0995\u09b0\u09bf\u09b2\u09bf\u09df\u09be\u09ae\u0964 "),i.Ob(),i.Ob(),i.Pb(144,"div",26),i.Pb(145,"div",17),i.Pb(146,"span",27),i.xc(147,"\u09b8\u09b9\u0995\u09be\u09b0\u09c0\u09b0 \u09b8\u09be\u0995\u09cd\u09b7\u09b0"),i.Ob(),i.Ob(),i.Pb(148,"div",28),i.Pb(149,"span",27),i.xc(150,"\u09ae\u099c\u09c1\u09a6\u0995\u09be\u09b0\u09c0/\u09aa\u09cd\u09b0\u09c0\u09a4\u09bf\u09a8\u09bf\u09a7\u09bf\u09b0 \u09b8\u09be\u0995\u09cd\u09b7\u09b0"),i.Ob(),i.Ob(),i.Pb(151,"div",28),i.Pb(152,"span",27),i.xc(153,"\u09b8\u09c1\u09aa\u09be\u09b0\u09ad\u09be\u0987\u099c\u09be\u09b0/\u09b9\u09bf\u09b8\u09be\u09ac \u09b0\u0995\u09cd\u09b7\u0995"),i.Ob(),i.Ob(),i.Pb(154,"div",17),i.Pb(155,"span",27),i.xc(156,"\u09ac\u09cd\u09af\u09ac\u09b8\u09cd\u09a5\u09be\u09aa\u0995"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(9),i.yc(null==t.company?null:t.company.name_bd),i.yb(2),i.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),i.yb(10),i.zc(" ",null==t.ledger||null==t.ledger.customer?null:t.ledger.customer.name,""),i.yb(5),i.zc(" ",null==t.ledger||null==t.ledger.customer?null:t.ledger.customer.phone,""),i.yb(5),i.zc(" ",null==t.ledger||null==t.ledger.customer?null:t.ledger.customer.father,""),i.yb(4),i.zc(" ",null==t.ledger||null==t.ledger.customer?null:t.ledger.customer.address,""),i.yb(1),i.hc("ngIf",null==t.inventory?null:t.inventory.agent),i.yb(3),i.yc(null==t.inventory||null==t.inventory.agent?null:t.inventory.agent.name),i.yb(5),i.yc(null==t.inventory?null:t.inventory.sr_no),i.yb(44),i.yc(null==t.ledger?null:t.ledger.quantity),i.yb(2),i.yc(null==t.ledger?null:t.ledger.rate),i.yb(2),i.yc(null==t.ledger?null:t.ledger.service_amount),i.yb(2),i.yc(null==t.ledger?null:t.ledger.emptyBag_quantity),i.yb(2),i.yc(null==t.ledger?null:t.ledger.emptyBag_rate),i.yb(2),i.yc(null==t.ledger?null:t.ledger.emptyBag_amount),i.yb(2),i.yc(null==t.ledger?null:t.ledger.loan_amount),i.yb(2),i.yc(null==t.ledger?null:t.ledger.loan_profit),i.yb(3),i.zc(" ",null==t.ledger?null:t.ledger.total_amount,""))},directives:[s.n],styles:["[_nghost-%COMP%]{display:block;background:#e0e0e0}h3[_ngcontent-%COMP%]{text-align:center}.receipt[_ngcontent-%COMP%]{height:8.5in;width:100%;float:left;padding:10px}.output[_ngcontent-%COMP%]{height:8.5in;width:11in;position:absolute;top:50px;left:10px}.col-amount[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:100px;vertical-align:middle;font-size:18px}@media print{.output[_ngcontent-%COMP%]{transform:rotate(270deg);top:2in;left:-1in}}"]}),e})();var To=o("HK7g"),Qo=function(e){return e.RECEIVE="RECEIVE",e.DELIVERY="DELIVERY",e}({});function Go(e,t){if(1&e&&(i.Pb(0,"div",26),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.errorMessage,"\n")}}function Yo(e,t){if(1&e&&(i.Pb(0,"option",27),i.xc(1),i.Ob()),2&e){const e=t.$implicit;i.hc("value",e.key),i.yb(1),i.zc(" ",e.value," ")}}function Jo(e,t){if(1&e&&(i.Nb(0),i.Pb(1,"label",28),i.xc(2,"Party name"),i.Ob(),i.Pb(3,"label",29),i.xc(4),i.Ob(),i.Pb(5,"label",28),i.xc(6,"Party phone"),i.Ob(),i.Pb(7,"label",29),i.xc(8),i.Ob(),i.Pb(9,"label",28),i.xc(10,"Party father"),i.Ob(),i.Pb(11,"label",29),i.xc(12),i.Ob(),i.Mb()),2&e){const e=i.bc();i.yb(4),i.zc("",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.name," "),i.yb(4),i.zc("",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.phone," "),i.yb(4),i.zc("",null==e.form.value||null==e.form.value.customer?null:e.form.value.customer.father," ")}}function Ho(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",4),i.Pb(1,"label",30),i.xc(2,"Loan*"),i.Ob(),i.Pb(3,"input",31),i.Zb("change",function(){return i.pc(e),i.bc().onLoanChange()}),i.Ob(),i.Pb(4,"label",32),i.xc(5,"Loan Profit*"),i.Ob(),i.Lb(6,"input",33),i.Pb(7,"label",34),i.xc(8,"Loan Payable*"),i.Ob(),i.Lb(9,"input",35),i.Ob()}}function Wo(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",4),i.Pb(1,"label",36),i.xc(2,"Quantity*"),i.Ob(),i.Pb(3,"input",37),i.Zb("change",function(){return i.pc(e),i.bc().onQuantityChange()}),i.Ob(),i.Pb(4,"label",38),i.xc(5,"Rate*"),i.Ob(),i.Lb(6,"input",39),i.Pb(7,"label",40),i.xc(8,"Rent*"),i.Ob(),i.Lb(9,"input",41),i.Ob()}}function Xo(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",4),i.Pb(1,"label",42),i.xc(2,"Empty Bag Quantity*"),i.Ob(),i.Pb(3,"input",43),i.Zb("change",function(){return i.pc(e),i.bc().onEmptybagQuantityChange()}),i.Ob(),i.Pb(4,"label",44),i.xc(5,"Empty bag rate*"),i.Ob(),i.Lb(6,"input",45),i.Pb(7,"label",46),i.xc(8,"Empty bag amount*"),i.Ob(),i.Lb(9,"input",47),i.Ob()}}function en(e,t){1&e&&(i.Pb(0,"div",4),i.Pb(1,"label",48),i.xc(2,"Total*"),i.Ob(),i.Lb(3,"input",49),i.Ob())}function tn(e,t){if(1&e&&(i.Pb(0,"div",50),i.xc(1),i.Ob()),2&e){const e=i.bc();i.yb(1),i.zc(" ",e.getFormValidationErrors()," ")}}function on(e,t){if(1&e&&(i.Pb(0,"table",51),i.Pb(1,"thead"),i.Pb(2,"tr"),i.Pb(3,"td",52),i.xc(4," Ledger info "),i.Ob(),i.Ob(),i.Pb(5,"tr"),i.Pb(6,"th",53),i.xc(7,"#"),i.Ob(),i.Pb(8,"th",53),i.xc(9,"SR_No"),i.Ob(),i.Pb(10,"th",53),i.xc(11,"Party"),i.Ob(),i.Pb(12,"th",53),i.xc(13,"Loan"),i.Ob(),i.Pb(14,"th",53),i.xc(15,"Product"),i.Ob(),i.Pb(16,"th",53),i.xc(17,"Empty bag"),i.Ob(),i.Pb(18,"th",53),i.xc(19,"Total"),i.Ob(),i.Ob(),i.Ob(),i.Pb(20,"tbody"),i.Pb(21,"tr"),i.Pb(22,"th",54),i.xc(23,"1"),i.Ob(),i.Pb(24,"td"),i.xc(25),i.Ob(),i.Pb(26,"td"),i.Pb(27,"div"),i.xc(28),i.Ob(),i.Pb(29,"div"),i.xc(30),i.Ob(),i.Pb(31,"div"),i.xc(32),i.Ob(),i.Ob(),i.Pb(33,"td"),i.Pb(34,"div"),i.Pb(35,"div"),i.xc(36),i.Ob(),i.Pb(37,"div"),i.xc(38),i.Ob(),i.Pb(39,"div"),i.xc(40),i.Ob(),i.Ob(),i.Ob(),i.Pb(41,"td"),i.Pb(42,"div"),i.xc(43),i.Ob(),i.Pb(44,"div"),i.xc(45),i.Ob(),i.Pb(46,"div"),i.xc(47),i.Ob(),i.Ob(),i.Pb(48,"td"),i.Pb(49,"div"),i.Pb(50,"div"),i.xc(51),i.Ob(),i.Pb(52,"div"),i.xc(53),i.Ob(),i.Pb(54,"div"),i.xc(55),i.Ob(),i.Ob(),i.Ob(),i.Pb(56,"td"),i.xc(57),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e){const e=i.bc();i.yb(25),i.yc(e.ledger.sr_no),i.yb(3),i.Ac("Name : ",null==e.ledger.customer?null:e.ledger.customer.name," [",null==e.ledger.customer?null:e.ledger.customer.phone,"]"),i.yb(2),i.zc("C/O : ",null==e.ledger.customer?null:e.ledger.customer.father,""),i.yb(2),i.yc(null==e.ledger.customer?null:e.ledger.customer.address),i.yb(4),i.zc("Amount: ",e.ledger.loan_amount," "),i.yb(2),i.zc("Rate: ",e.ledger.loan_rate," "),i.yb(2),i.zc("Payable: ",e.ledger.loan_payable," "),i.yb(3),i.zc("Quanity: ",e.ledger.quantity," "),i.yb(2),i.zc("Rate: ",e.ledger.rate," "),i.yb(2),i.zc("Amount: ",e.ledger.service_amount," "),i.yb(4),i.zc("Quanity: ",e.ledger.emptyBag_quantity," "),i.yb(2),i.zc("Rate: ",e.ledger.emptyBag_rate," "),i.yb(2),i.zc("Amount: ",e.ledger.emptyBag_amount," "),i.yb(2),i.yc(e.ledger.total_amount)}}function nn(e,t){if(1&e&&(i.Pb(0,"tr"),i.Pb(1,"td",54),i.xc(2),i.Ob(),i.Pb(3,"td",54),i.xc(4),i.Ob(),i.Pb(5,"td"),i.Pb(6,"div"),i.xc(7),i.Ob(),i.Pb(8,"div"),i.xc(9),i.Ob(),i.Pb(10,"div"),i.xc(11),i.Ob(),i.Ob(),i.Pb(12,"td",60),i.xc(13),i.Ob(),i.Pb(14,"td",60),i.xc(15),i.Ob(),i.Pb(16,"td",60),i.xc(17),i.Ob(),i.Pb(18,"td",60),i.xc(19),i.Ob(),i.Pb(20,"td",60),i.xc(21),i.Ob(),i.Pb(22,"td",60),i.xc(23),i.Ob(),i.Pb(24,"th",60),i.xc(25),i.Ob(),i.Ob()),2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.yc(e.sr_no),i.yb(3),i.yc(e.customer.name),i.yb(2),i.yc(e.customer.phone),i.yb(2),i.yc(e.customer.address),i.yb(2),i.yc(e.loan_amount),i.yb(2),i.yc(e.loan_payable),i.yb(2),i.yc(e.quantity),i.yb(2),i.yc(e.service_rent),i.yb(2),i.yc(e.emptyBag_quantity),i.yb(2),i.yc(e.emptyBag_amount),i.yb(2),i.yc(e.total)}}function rn(e,t){if(1&e&&(i.Pb(0,"table",55),i.Pb(1,"thead"),i.Pb(2,"tr"),i.Pb(3,"td",56),i.xc(4," Delivery info "),i.Ob(),i.Ob(),i.Pb(5,"tr"),i.Pb(6,"th",57),i.xc(7,"#"),i.Ob(),i.Pb(8,"th",57),i.xc(9,"SR_No"),i.Ob(),i.Pb(10,"th",57),i.xc(11,"Party"),i.Ob(),i.Pb(12,"th",58),i.xc(13,"Loan"),i.Ob(),i.Pb(14,"th",58),i.xc(15,"Product"),i.Ob(),i.Pb(16,"th",58),i.xc(17,"Empty Bag"),i.Ob(),i.Pb(18,"th",57),i.xc(19,"Total"),i.Ob(),i.Ob(),i.Pb(20,"tr"),i.Pb(21,"th"),i.xc(22,"Amount"),i.Ob(),i.Pb(23,"th"),i.xc(24,"Payable"),i.Ob(),i.Pb(25,"th"),i.xc(26,"Quantity"),i.Ob(),i.Pb(27,"th"),i.xc(28,"Rent"),i.Ob(),i.Pb(29,"th"),i.xc(30,"Quanity"),i.Ob(),i.Pb(31,"th"),i.xc(32,"Price"),i.Ob(),i.Ob(),i.Ob(),i.Pb(33,"tbody"),i.vc(34,nn,26,12,"tr",59),i.Pb(35,"tr"),i.Lb(36,"td"),i.Lb(37,"td"),i.Lb(38,"td"),i.Pb(39,"th",60),i.xc(40),i.Ob(),i.Pb(41,"th",60),i.xc(42),i.Ob(),i.Pb(43,"th",60),i.xc(44),i.Ob(),i.Pb(45,"th",60),i.xc(46),i.Ob(),i.Pb(47,"th",60),i.xc(48),i.Ob(),i.Pb(49,"th",60),i.xc(50),i.Ob(),i.Pb(51,"th",60),i.xc(52),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e){const e=i.bc();i.yb(34),i.hc("ngForOf",e.preDel),i.yb(6),i.yc(e.pre_delivery.loan_amount),i.yb(2),i.yc(e.pre_delivery.loan_payable),i.yb(2),i.yc(e.pre_delivery.quantity),i.yb(2),i.yc(e.pre_delivery.service_rent),i.yb(2),i.yc(e.pre_delivery.emptyBag_quantity),i.yb(2),i.yc(e.pre_delivery.emptyBag_amount),i.yb(2),i.yc(e.pre_delivery.total)}}let cn=(()=>{class e{constructor(e,t){this.fb=e,this.util=t,this.create=new i.n,this.errorMessage="",this.mouseoverShifting=!1,this.typeEnum=Qo,this.searchLedger=e=>e.pipe(Mt(200),Object(Et.a)(),Object(Ft.a)(e=>(e.length<2?[]:this.ledgerList.filter(t=>t.sr_no.indexOf(e.toLowerCase())>-1&&t.year==this.ngDate.year).slice(0,10)).map(e=>e.sr_no))),this.pre_delivery={quantity:0,service_rent:0,loan_amount:0,loan_profit:0,loan_payable:0,emptyBag_quantity:0,emptyBag_amount:0,total:0},this.ngDate=this.util.convertJsDateToNgbDate(new Date),this.createForm(),this.form.get("inventoryType").disable()}ngOnChanges(e){e.vouchar_no&&null!=this.vouchar_no&&this.form.controls.vouchar_no.setValue(this.vouchar_no+1)}createForm(){this.form=this.fb.group({vouchar_no:["",x.q.required],date:[this.ngDate,x.q.required],year:[this.ngDate.year,x.q.required],inventoryType:["DELIVERY",x.q.required],sr_no:["",x.q.required],customer:["",x.q.required],quantity:["",x.q.required],rate:["",x.q.required],service_rent:["",x.q.required],loan_amount:["",x.q.required],loan_rate:["",x.q.required],loan_profit:["",x.q.required],loan_payable:["",x.q.required],emptyBag_quantity:["",x.q.required],emptyBag_rate:["",x.q.required],emptyBag_amount:["",x.q.required],total:["",x.q.required]})}onSelectSRNo(e){const t=this.ledgerList.find(t=>t.sr_no==e.item&&t.year==this.ngDate.year);this.ledger=t,this.preDel=this.deliveryList.filter(t=>t.sr_no==e.item&&t.year==this.ngDate.year);let o={quantity:0,service_rent:0,loan_amount:0,loan_profit:0,loan_payable:0,emptyBag_quantity:0,emptyBag_amount:0,total:0};this.preDel&&(this.preDel.forEach(e=>{o.quantity+=e.quantity,o.service_rent+=e.service_rent,o.loan_amount+=e.loan_amount,o.loan_payable+=e.loan_payable,o.emptyBag_quantity+=e.emptyBag_quantity,o.emptyBag_amount+=e.emptyBag_amount,o.total+=e.total}),this.pre_delivery=o),this.form.patchValue({customer:t.customer,quantity:t.quantity-o.quantity,rate:t.rate,service_rent:t.service_amount-o.service_rent,loan_amount:t.loan_amount?t.loan_amount-o.loan_amount:0,loan_rate:t.loan_rate?t.loan_rate:0,loan_profit:t.loan_profit?t.loan_profit-o.loan_profit:0,loan_payable:t.loan_payable?t.loan_payable-o.loan_payable:0,emptyBag_quantity:t.emptyBag_quantity-o.emptyBag_quantity,emptyBag_rate:t.emptyBag_rate,emptyBag_amount:t.emptyBag_amount-o.emptyBag_amount,total:t.service_amount+(t.loan_payable?t.loan_payable:0)+t.emptyBag_amount}),this.updateTotal()}onQuantityChange(){const e=this.form.value;this.form.controls.service_rent.setValue(e.quantity*e.rate),this.updateTotal()}onEmptybagQuantityChange(){const e=this.form.value;this.form.controls.emptyBag_amount.setValue(e.emptyBag_quantity*e.emptyBag_rate),this.updateTotal()}onLoanChange(){const e=this.form.value,t=e.loan_amount*e.loan_rate/100,o=t+e.loan_amount;this.form.controls.loan_profit.setValue(t),this.form.controls.loan_payable.setValue(o),this.updateTotal()}updateTotal(){const e=this.form.value;this.form.controls.total.setValue(e.service_rent+e.loan_payable+e.emptyBag_amount)}submit(){if(this.form.valid){this.errorMessage="",this.updateTotal();const e=this.form.value;if(e.quantity>this.ledger.quantity-this.pre_delivery.quantity)this.errorMessage="Quantity value error, should be less then or equl to "+(this.ledger.quantity-this.pre_delivery.quantity);else if(e.loan_amount>this.ledger.loan_amount-this.pre_delivery.loan_amount)this.errorMessage="Loan error, should be less then or equal to "+(this.ledger.loan_amount-this.pre_delivery.loan_amount);else if(e.emptyBag_quantity>this.ledger.emptyBag_quantity-this.pre_delivery.emptyBag_quantity)this.errorMessage="Empty bag error, should be less then or equal to "+(this.ledger.emptyBag_quantity-this.pre_delivery.emptyBag_quantity);else if(e.total>0){const t=this.util.convertNgbDateToJsDate(e.date),o=Object.assign(Object.assign({},e),{date:t});this.create.emit(o),this.clear()}}}getFormValidationErrors(){let e="";return Object.keys(this.form.controls).forEach(t=>{const o=this.form.get(t).errors;null!=o&&Object.keys(o).forEach(o=>{e+=t+" : "+o+"; "})}),e}clear(){this.ledger=null,this.preDel=null,this.pre_delivery={quantity:0,service_rent:0,loan_amount:0,loan_profit:0,loan_payable:0,emptyBag_quantity:0,emptyBag_amount:0,total:0},this.form.reset(),this.form.patchValue({vouchar_no:this.vouchar_no+1,date:this.ngDate,year:this.ngDate.year,inventoryType:"DELIVERY"})}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(x.b),i.Kb(P.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["delivery-form"]],inputs:{vouchar_no:"vouchar_no",ledgerList:"ledgerList",deliveryList:"deliveryList"},outputs:{create:"create"},features:[i.wb],decls:40,vars:15,consts:[[1,"form-head"],["class","alert alert-danger",4,"ngIf"],[1,"p-3",3,"formGroup","ngSubmit","mouseleave"],[1,"form-group","row"],[1,"col-auto"],["for","vouchar_no",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","text","id","vouchar_no","formControlName","vouchar_no","readonly","",1,"form-control","form-control-sm"],["for","inventoryType",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","inventoryType","formControlName","inventoryType",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","year",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","year","formControlName","year","placeholder","Year",1,"form-control","form-control-sm"],["for","date",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","formControlName","date",1,"form-control","form-control-sm",3,"click"],["date","ngbDatepicker"],["for","sr_no",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","sr_no","type","text","formControlName","sr_no",1,"form-control","form-control-sm",3,"ngbTypeahead","editable","selectItem"],[4,"ngIf"],["class","col-auto",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight"],["type","submit",1,"btn","btn-sm","btn-light","mx-1",3,"mouseenter"],["type","button",1,"btn","btn-sm","btn-light","mx-1",3,"click"],["class","text-danger",4,"ngIf"],["class","table table-striped border table-sm",4,"ngIf"],["class","table table-bordered table-sm",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"],["for","customer",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["id","customer",1,"form-control","form-control-sm","m-0"],["for","loan_amount",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","loan_amount","formControlName","loan_amount","placeholder","Loan amount",1,"form-control","form-control-sm",3,"change"],["for","loan_profit",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","loan_profit","formControlName","loan_profit","readonly","",1,"form-control","form-control-sm"],["for","loan_payable",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","loan_payable","formControlName","loan_payable","readonly","",1,"form-control","form-control-sm"],["for","quantity",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","quantity","formControlName","quantity","placeholder","Quantity",1,"form-control","form-control-sm",3,"change"],["for","rate",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","rate","formControlName","rate","placeholder","Rate","readonly","",1,"form-control","form-control-sm"],["for","service_rent",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","service_rent","formControlName","service_rent","placeholder","Service Rent","readonly","",1,"form-control","form-control-sm"],["for","emptyBag_quantity",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","emptyBag_quantity","formControlName","emptyBag_quantity","placeholder","Empty bag quantity",1,"form-control","form-control-sm",3,"change"],["for","emptyBag_rate",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","emptyBag_rate","formControlName","emptyBag_rate","readonly","",1,"form-control","form-control-sm"],["for","emptyBag_amount",1,"d-none","d-sm-block","col-form-label","col-form-label-sm"],["type","number","id","emptyBag_amount","formControlName","emptyBag_amount","readonly","",1,"form-control","form-control-sm"],["for","total",1,"d-none","d-sm-block","col-form-label"],["type","number","id","total","formControlName","total","readonly","",1,"form-control"],[1,"text-danger"],[1,"table","table-striped","border","table-sm"],["colspan","8",1,"form-head"],["scope","col"],["scope","row"],[1,"table","table-bordered","table-sm"],["colspan","10",1,"form-head"],["rowspan","2","scope","col"],["colspan","2","scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"]],template:function(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",0),i.xc(1," New Delivery\n"),i.Ob(),i.vc(2,Go,2,1,"div",1),i.Pb(3,"form",2),i.Zb("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"label",5),i.xc(7,"No.*"),i.Ob(),i.Lb(8,"input",6),i.Pb(9,"label",7),i.xc(10,"Type*"),i.Ob(),i.Pb(11,"select",8),i.Pb(12,"option",9),i.xc(13,"Select a Type"),i.Ob(),i.vc(14,Yo,2,2,"option",10),i.cc(15,"keyvalue"),i.Ob(),i.Pb(16,"label",11),i.xc(17,"Year*"),i.Ob(),i.Lb(18,"input",12),i.Pb(19,"label",13),i.xc(20,"Date*"),i.Ob(),i.Pb(21,"input",14,15),i.Zb("click",function(){return i.pc(e),i.oc(22).toggle()}),i.Ob(),i.Ob(),i.Pb(23,"div",4),i.Pb(24,"label",16),i.xc(25,"SR No*"),i.Ob(),i.Pb(26,"input",17),i.Zb("selectItem",function(e){return t.onSelectSRNo(e)}),i.Ob(),i.vc(27,Jo,13,3,"ng-container",18),i.Ob(),i.vc(28,Ho,10,0,"div",19),i.vc(29,Wo,10,0,"div",19),i.vc(30,Xo,10,0,"div",19),i.vc(31,en,4,0,"div",19),i.Ob(),i.Pb(32,"div",20),i.Pb(33,"button",21),i.Zb("mouseenter",function(){return t.mouseoverShifting=!0}),i.xc(34,"Save"),i.Ob(),i.Pb(35,"button",22),i.Zb("click",function(){return t.clear()}),i.xc(36,"Clear"),i.Ob(),i.Ob(),i.vc(37,tn,2,1,"div",23),i.Ob(),i.vc(38,on,58,15,"table",24),i.vc(39,rn,53,8,"table",25)}2&e&&(i.yb(2),i.hc("ngIf",t.errorMessage.length>0),i.yb(1),i.hc("formGroup",t.form),i.yb(11),i.hc("ngForOf",i.dc(15,13,t.typeEnum)),i.yb(12),i.hc("ngbTypeahead",t.searchLedger)("editable",!1),i.yb(1),i.hc("ngIf",t.form.value.customer),i.yb(1),i.hc("ngIf",t.form.value.customer),i.yb(1),i.hc("ngIf",t.form.value.customer),i.yb(1),i.hc("ngIf",t.form.value.customer),i.yb(1),i.hc("ngIf",t.form.value.customer),i.yb(6),i.hc("ngIf",t.mouseoverShifting),i.yb(1),i.hc("ngIf",t.ledger),i.yb(1),i.hc("ngIf",t.preDel&&t.preDel.length>0))},directives:[s.n,x.s,x.j,x.d,x.a,x.i,x.c,x.p,x.m,x.r,s.m,x.n,l.f,l.j],pipes:[s.h],styles:[""]}),e})();function sn(e,t){if(1&e&&(i.Pb(0,"tr"),i.Pb(1,"th",16),i.xc(2),i.Ob(),i.Pb(3,"td"),i.xc(4),i.Ob(),i.Pb(5,"td"),i.xc(6),i.Ob(),i.Pb(7,"td"),i.xc(8),i.Ob(),i.Pb(9,"td"),i.xc(10),i.Ob(),i.Pb(11,"td"),i.xc(12),i.Ob(),i.Pb(13,"td"),i.xc(14),i.Ob(),i.Pb(15,"td"),i.Pb(16,"a",17),i.xc(17,"Print"),i.Ob(),i.Ob(),i.Ob()),2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.yc(e.sr_no),i.yb(2),i.zc(" ",e.customer.name," "),i.yb(2),i.yc(e.service_rent),i.yb(2),i.yc(e.emptyBag_amount),i.yb(2),i.yc(e.loan_payable),i.yb(2),i.yc(e.total),i.yb(2),i.jc("routerLink","/dashboard/delivery-print/",e._id,"")}}let an=(()=>{class e{constructor(){this.page=1,this.pageSize=8,this.deliveryPage=[]}ngOnChanges(e){e.deliveryList&&null!=this.deliveryList&&this.refreshDelivery()}refreshDelivery(){this.deliveryPage=this.deliveryList.map((e,t)=>Object.assign({id:t+1},e)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}onSearch(e){e.length>=2?(console.log(e,e.length),this.deliveryPage=this.search(e)):this.refreshDelivery()}search(e){return this.deliveryList.filter(t=>{const o=e.toLowerCase();return t.sr_no.toLowerCase().includes(o)||t.customer.name.includes(o)||t.customer.phone.includes(o)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["delivery-list"]],inputs:{deliveryList:"deliveryList"},features:[i.wb],decls:41,vars:8,consts:[[1,"row"],[1,"col"],[1,"col-auto"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-filter"],["type","text","id","search","placeholder","Name / Phone",1,"form-control","form-control-sm",3,"keyup"],[1,"table","table-striped","border","table-sm"],["colspan","8",1,"form-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],["size","sm",3,"collectionSize","page","pageSize","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["scope","row"],[1,"edit_link",3,"routerLink"]],template:function(e,t){1&e&&(i.Pb(0,"form"),i.Pb(1,"div",0),i.Lb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"div",5),i.Lb(7,"i",6),i.Ob(),i.Ob(),i.Pb(8,"input",7),i.Zb("keyup",function(e){return t.onSearch(e.target.value)}),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(9,"table",8),i.Pb(10,"thead"),i.Pb(11,"tr"),i.Pb(12,"td",9),i.xc(13," Delivery List "),i.Ob(),i.Ob(),i.Pb(14,"tr"),i.Pb(15,"th",10),i.xc(16,"#"),i.Ob(),i.Pb(17,"th",10),i.xc(18,"SR_No"),i.Ob(),i.Pb(19,"th",10),i.xc(20,"Party"),i.Ob(),i.Pb(21,"th",10),i.xc(22,"Rent"),i.Ob(),i.Pb(23,"th",10),i.xc(24,"Empty bag"),i.Ob(),i.Pb(25,"th",10),i.xc(26,"Loan"),i.Ob(),i.Pb(27,"th",10),i.xc(28,"Total"),i.Ob(),i.Lb(29,"th"),i.Ob(),i.Ob(),i.Pb(30,"tbody"),i.vc(31,sn,18,8,"tr",11),i.Ob(),i.Ob(),i.Pb(32,"div",12),i.Pb(33,"ngb-pagination",13),i.Zb("pageChange",function(e){return t.page=e})("pageChange",function(){return t.refreshDelivery()}),i.Ob(),i.Pb(34,"select",14),i.Zb("ngModelChange",function(e){return t.pageSize=e})("ngModelChange",function(){return t.refreshDelivery()}),i.Pb(35,"option",15),i.xc(36,"4/Page"),i.Ob(),i.Pb(37,"option",15),i.xc(38,"8/Page"),i.Ob(),i.Pb(39,"option",15),i.xc(40,"16/Page"),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(31),i.hc("ngForOf",t.deliveryPage),i.yb(2),i.hc("collectionSize",t.deliveryList.length)("page",t.page)("pageSize",t.pageSize),i.yb(1),i.hc("ngModel",t.pageSize),i.yb(1),i.hc("ngValue",4),i.yb(2),i.hc("ngValue",8),i.yb(2),i.hc("ngValue",16))},directives:[x.s,x.j,x.k,s.m,l.i,x.p,x.i,x.l,x.m,x.r,n.d],styles:[""]}),e})(),bn=(()=>{class e{constructor(e,t,o){this.deliveryService=e,this.ledgerService=t,this.router=o,this.sendingData=!1,this.ledgerList=[],this.deliveryList=[],this.year=(new Date).getFullYear()}ngOnInit(){this.getDeliveryListbyYear(this.year),this.getLedgerforyear(this.year)}getLedgerforyear(e){return Object(O.a)(this,void 0,void 0,function*(){this.ledgerService.ledgers$.pipe(Object(Do.a)(2)).subscribe(t=>{this.ledgerList=t.filter(t=>t.year==e)})})}getDeliveryListbyYear(e){return Object(O.a)(this,void 0,void 0,function*(){this.deliveryService.deliverys$.subscribe(t=>{this.deliveryList=t.filter(t=>t.year==e)})})}onCreate(e){return Object(O.a)(this,void 0,void 0,function*(){this.sendingData=!0,yield this.deliveryService.create(e).then(e=>{this.router.navigate(["dashboard/delivery-print",e.id])}).catch(e=>{console.log("error",e)})})}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(To.a),i.Kb(Mo.a),i.Kb(n.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-delivery"]],decls:9,vars:4,consts:[[1,"page-head"],[1,"container"],[1,"row"],[1,"col-md-12","p-md-0","mt-2"],[1,"border","rounded"],[3,"ledgerList","deliveryList","vouchar_no","create"],[3,"deliveryList"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Delivery\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"delivery-form",5),i.Zb("create",function(e){return t.onCreate(e)}),i.Ob(),i.Ob(),i.Ob(),i.Pb(7,"div",3),i.Lb(8,"delivery-list",6),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(6),i.hc("ledgerList",t.ledgerList)("deliveryList",t.deliveryList)("vouchar_no",t.deliveryList.length),i.yb(2),i.hc("deliveryList",t.deliveryList))},directives:[cn,an],styles:[""]}),e})(),ln=(()=>{class e{constructor(e,t){this.deliveryService=e,this.activatedRoute=t,this.company=Xt,this.id=t.snapshot.params.id}ngOnInit(){this.id&&this.getDelivery(this.id)}getDelivery(e){return Object(O.a)(this,void 0,void 0,function*(){this.deliveryService.deliverys$.subscribe(t=>{this.delivery=t.find(t=>t._id==e)})})}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(To.a),i.Kb(n.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-delivery-print"]],decls:242,vars:58,consts:[[1,"output"],[1,"receipt1","border-right"],[1,"row"],[1,"col-12","text-center"],[1,"border","p-1","strong","rounded"],[1,"head"],[1,"text-center","company-name"],[1,"text-center"],[1,"col-6"],[1,"col-6","text-right"],[1,"col-auto"],[1,"col","p-0"],[1,"col-auto","pl-0"],[1,"table","table-bordered","my-3","mb-5"],[1,"text-right"],["colspan","3"],["colspan","4"],[1,"row","mt-5","pt-5"],[1,"col-auto","mt-5"],[1,"border-top"],[1,"col","text-center","mt-5"],[1,"col-auto","text-right","mt-5"],[1,"receipt2","border-right"],[1,"row","mt-3"],[1,"col"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.Pb(2,"div",2),i.Pb(3,"div",3),i.Pb(4,"span",4),i.xc(5,"\u09ad\u09be\u09dc\u09be \u0986\u09a6\u09be\u09df \u09b0\u09b8\u09bf\u09a6"),i.Ob(),i.Ob(),i.Ob(),i.Pb(6,"div",5),i.Pb(7,"div",6),i.xc(8),i.Ob(),i.Pb(9,"div",7),i.xc(10),i.Ob(),i.Ob(),i.Pb(11,"div",2),i.Pb(12,"div",8),i.xc(13,"\u09b2\u099f \u09a8\u0982 - "),i.Pb(14,"strong"),i.xc(15),i.Ob(),i.Ob(),i.Pb(16,"div",9),i.xc(17),i.cc(18,"date"),i.Ob(),i.Ob(),i.Pb(19,"div",2),i.Pb(20,"div",10),i.xc(21,"\u0997\u09cd\u09b0\u09be\u09b9\u0995\u09c7\u09b0 \u09a8\u09be\u09ae\u0983 "),i.Ob(),i.Pb(22,"div",11),i.Pb(23,"strong"),i.xc(24),i.Ob(),i.Ob(),i.Pb(25,"div",10),i.xc(26,"\u09aa\u09bf\u09a4\u09be\u0983 "),i.Ob(),i.Pb(27,"div",12),i.Pb(28,"strong"),i.xc(29),i.Ob(),i.Ob(),i.Ob(),i.Pb(30,"div",2),i.Pb(31,"div",10),i.xc(32,"\u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 "),i.Ob(),i.Pb(33,"div",11),i.Pb(34,"strong"),i.xc(35),i.Ob(),i.Ob(),i.Ob(),i.Pb(36,"div",2),i.Pb(37,"div",10),i.xc(38,"\u09a0\u09bf\u0995\u09be\u09a8\u09be\u0983 "),i.Ob(),i.Pb(39,"div",11),i.Pb(40,"strong"),i.xc(41),i.Ob(),i.Ob(),i.Ob(),i.Pb(42,"table",13),i.Pb(43,"tbody"),i.Pb(44,"tr"),i.Pb(45,"td"),i.xc(46,"\u09ac\u09bf\u09ac\u09b0\u09a3"),i.Ob(),i.Pb(47,"td",7),i.xc(48,"\u09b8\u0982\u0996\u09cd\u09af\u09be"),i.Ob(),i.Pb(49,"td",7),i.xc(50,"\u09b9\u09be\u09b0"),i.Ob(),i.Pb(51,"td",14),i.xc(52,"\u09ae\u09cb\u099f"),i.Ob(),i.Ob(),i.Pb(53,"tr"),i.Pb(54,"td"),i.xc(55,"\u0986\u09b2\u09c1\u09b0 \u09ac\u09b8\u09cd\u09a4\u09be"),i.Ob(),i.Pb(56,"td",7),i.xc(57),i.Ob(),i.Pb(58,"td",7),i.xc(59),i.Ob(),i.Pb(60,"td",14),i.xc(61),i.Ob(),i.Ob(),i.Pb(62,"tr"),i.Pb(63,"td"),i.xc(64,"\u0996\u09be\u09b2\u09bf \u09ac\u09b8\u09cd\u09a4\u09be"),i.Ob(),i.Pb(65,"td",7),i.xc(66),i.Ob(),i.Pb(67,"td",7),i.xc(68),i.Ob(),i.Pb(69,"td",14),i.xc(70),i.Ob(),i.Ob(),i.Pb(71,"tr"),i.Pb(72,"td"),i.xc(73,"\u098b\u09a3"),i.Ob(),i.Pb(74,"td",7),i.xc(75),i.Ob(),i.Pb(76,"td",7),i.xc(77),i.Ob(),i.Pb(78,"td",14),i.xc(79),i.Ob(),i.Ob(),i.Pb(80,"tr"),i.Pb(81,"td",15),i.xc(82,"\u09b8\u09b0\u09cd\u09ac\u09ae\u09cb\u099f \u09aa\u09cd\u09b0\u09be\u09aa\u09cd\u09a4\u0983 "),i.Ob(),i.Pb(83,"td",14),i.xc(84),i.Ob(),i.Ob(),i.Pb(85,"tr"),i.Pb(86,"td",16),i.xc(87,"\u099f\u09be\u0995\u09be \u0995\u09a5\u09be\u09df\u0983"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(88,"div",17),i.Pb(89,"div",18),i.Pb(90,"span",19),i.xc(91,"\u0995\u09b0\u09cd\u09ae\u09be\u09a7\u09cd\u09af\u0995\u09cd\u09b7"),i.Ob(),i.Ob(),i.Pb(92,"div",20),i.Pb(93,"span",19),i.xc(94," \u09b8\u09c1\u09aa\u09be\u09b0\u09ad\u09be\u0987\u099c\u09be\u09b0/\u09b9\u09bf\u09b8\u09be\u09ac \u09b0\u0995\u09cd\u09b7\u0995 "),i.Ob(),i.Ob(),i.Pb(95,"div",21),i.Pb(96,"span",19),i.xc(97,"\u0986\u09a6\u09be\u09df\u0995\u09be\u09b0\u09c0"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(98,"div",22),i.Pb(99,"div",2),i.Pb(100,"div",3),i.Pb(101,"span",4),i.xc(102,"\u099b\u09be\u09dc\u09aa\u09a4\u09cd\u09b0 \u09b0\u09b8\u09bf\u09a6"),i.Ob(),i.Ob(),i.Ob(),i.Pb(103,"div",5),i.Pb(104,"div",6),i.xc(105),i.Ob(),i.Pb(106,"div",7),i.xc(107),i.Ob(),i.Ob(),i.Pb(108,"div",2),i.Pb(109,"div",8),i.xc(110,"\u09b2\u099f \u09a8\u0982 - "),i.Pb(111,"strong"),i.xc(112),i.Ob(),i.Ob(),i.Pb(113,"div",9),i.xc(114),i.cc(115,"date"),i.Ob(),i.Ob(),i.Pb(116,"div",2),i.Pb(117,"div",10),i.xc(118,"\u0997\u09cd\u09b0\u09be\u09b9\u0995\u09c7\u09b0 \u09a8\u09be\u09ae\u0983 "),i.Ob(),i.Pb(119,"div",11),i.Pb(120,"strong"),i.xc(121),i.Ob(),i.Ob(),i.Pb(122,"div",10),i.xc(123,"\u09aa\u09bf\u09a4\u09be\u0983 "),i.Ob(),i.Pb(124,"div",12),i.Pb(125,"strong"),i.xc(126),i.Ob(),i.Ob(),i.Ob(),i.Pb(127,"div",2),i.Pb(128,"div",10),i.xc(129,"\u09a0\u09bf\u0995\u09be\u09a8\u09be\u0983 "),i.Ob(),i.Pb(130,"div",11),i.Pb(131,"strong"),i.xc(132),i.Ob(),i.Ob(),i.Ob(),i.Pb(133,"div",2),i.Pb(134,"div",10),i.xc(135,"\u09aa\u09cd\u09b0\u09a6\u09a4\u09cd\u09a4 \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be\u0983 "),i.Ob(),i.Pb(136,"div",11),i.Pb(137,"strong"),i.xc(138),i.Ob(),i.Ob(),i.Ob(),i.Pb(139,"div",23),i.Pb(140,"div",24),i.Pb(141,"span",19),i.xc(142," \u09aa\u09b0\u09bf\u09a6\u09b0\u09cd\u09b6\u0995 "),i.Ob(),i.Ob(),i.Pb(143,"div",10),i.Pb(144,"span",19),i.xc(145,"\u0995\u09b0\u09cd\u09ae\u09be\u09a7\u09cd\u09af\u0995\u09cd\u09b7"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(146,"div",22),i.Pb(147,"div",2),i.Pb(148,"div",3),i.Pb(149,"span",4),i.xc(150,"\u09b2\u09c7\u09ac\u09be\u09b0 \u0995\u09aa\u09bf"),i.Ob(),i.Ob(),i.Ob(),i.Pb(151,"div",5),i.Pb(152,"div",6),i.xc(153),i.Ob(),i.Pb(154,"div",7),i.xc(155),i.Ob(),i.Ob(),i.Pb(156,"div",2),i.Pb(157,"div",8),i.xc(158,"\u09b2\u099f \u09a8\u0982 - "),i.Pb(159,"strong"),i.xc(160),i.Ob(),i.Ob(),i.Pb(161,"div",9),i.xc(162),i.cc(163,"date"),i.Ob(),i.Ob(),i.Pb(164,"div",2),i.Pb(165,"div",10),i.xc(166,"\u0997\u09cd\u09b0\u09be\u09b9\u0995\u09c7\u09b0 \u09a8\u09be\u09ae\u0983 "),i.Ob(),i.Pb(167,"div",11),i.Pb(168,"strong"),i.xc(169),i.Ob(),i.Ob(),i.Pb(170,"div",10),i.xc(171,"\u09aa\u09bf\u09a4\u09be\u0983 "),i.Ob(),i.Pb(172,"div",12),i.Pb(173,"strong"),i.xc(174),i.Ob(),i.Ob(),i.Ob(),i.Pb(175,"div",2),i.Pb(176,"div",10),i.xc(177,"\u09a0\u09bf\u0995\u09be\u09a8\u09be\u0983 "),i.Ob(),i.Pb(178,"div",11),i.Pb(179,"strong"),i.xc(180),i.Ob(),i.Ob(),i.Ob(),i.Pb(181,"div",2),i.Pb(182,"div",10),i.xc(183,"\u09aa\u09cd\u09b0\u09a6\u09a4\u09cd\u09a4 \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be\u0983 "),i.Ob(),i.Pb(184,"div",11),i.Pb(185,"strong"),i.xc(186),i.Ob(),i.Ob(),i.Ob(),i.Pb(187,"div",23),i.Pb(188,"div",24),i.Pb(189,"span",19),i.xc(190," \u09aa\u09b0\u09bf\u09a6\u09b0\u09cd\u09b6\u0995 "),i.Ob(),i.Ob(),i.Pb(191,"div",10),i.Pb(192,"span",19),i.xc(193,"\u0995\u09b0\u09cd\u09ae\u09be\u09a7\u09cd\u09af\u0995\u09cd\u09b7"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(194,"div",22),i.Pb(195,"div",2),i.Pb(196,"div",3),i.Pb(197,"span",4),i.xc(198,"\u0997\u09c7\u099f \u09aa\u09be\u09b6"),i.Ob(),i.Ob(),i.Ob(),i.Pb(199,"div",5),i.Pb(200,"div",6),i.xc(201),i.Ob(),i.Pb(202,"div",7),i.xc(203),i.Ob(),i.Ob(),i.Pb(204,"div",2),i.Pb(205,"div",8),i.xc(206,"\u09b2\u099f \u09a8\u0982 - "),i.Pb(207,"strong"),i.xc(208),i.Ob(),i.Ob(),i.Pb(209,"div",9),i.xc(210),i.cc(211,"date"),i.Ob(),i.Ob(),i.Pb(212,"div",2),i.Pb(213,"div",10),i.xc(214,"\u0997\u09cd\u09b0\u09be\u09b9\u0995\u09c7\u09b0 \u09a8\u09be\u09ae\u0983 "),i.Ob(),i.Pb(215,"div",11),i.Pb(216,"strong"),i.xc(217),i.Ob(),i.Ob(),i.Pb(218,"div",10),i.xc(219,"\u09aa\u09bf\u09a4\u09be\u0983 "),i.Ob(),i.Pb(220,"div",12),i.Pb(221,"strong"),i.xc(222),i.Ob(),i.Ob(),i.Ob(),i.Pb(223,"div",2),i.Pb(224,"div",10),i.xc(225,"\u09a0\u09bf\u0995\u09be\u09a8\u09be\u0983 "),i.Ob(),i.Pb(226,"div",11),i.Pb(227,"strong"),i.xc(228),i.Ob(),i.Ob(),i.Ob(),i.Pb(229,"div",2),i.Pb(230,"div",10),i.xc(231,"\u09aa\u09cd\u09b0\u09a6\u09a4\u09cd\u09a4 \u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be\u0983 "),i.Ob(),i.Pb(232,"div",11),i.Pb(233,"strong"),i.xc(234),i.Ob(),i.Ob(),i.Ob(),i.Pb(235,"div",23),i.Pb(236,"div",24),i.Pb(237,"span",19),i.xc(238," \u09aa\u09b0\u09bf\u09a6\u09b0\u09cd\u09b6\u0995 "),i.Ob(),i.Ob(),i.Pb(239,"div",10),i.Pb(240,"span",19),i.xc(241,"\u0995\u09b0\u09cd\u09ae\u09be\u09a7\u09cd\u09af\u0995\u09cd\u09b7"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(8),i.yc(null==t.company?null:t.company.name_bd),i.yb(2),i.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),i.yb(5),i.yc(null==t.delivery?null:t.delivery.sr_no),i.yb(2),i.zc("\u09a4\u09be\u09b0\u09bf\u0996 - \x1b",i.ec(18,46,null==t.delivery?null:t.delivery.date.toMillis(),"dd/MM/yyyy"),""),i.yb(7),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.name,""),i.yb(5),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.father,""),i.yb(6),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.phone,""),i.yb(6),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.address,""),i.yb(16),i.yc(null==t.delivery?null:t.delivery.quantity),i.yb(2),i.yc(null==t.delivery?null:t.delivery.rate),i.yb(2),i.yc(null==t.delivery?null:t.delivery.service_rent),i.yb(5),i.yc(null==t.delivery?null:t.delivery.emptyBag_quantity),i.yb(2),i.yc(null==t.delivery?null:t.delivery.emptyBag_rate),i.yb(2),i.yc(null==t.delivery?null:t.delivery.emptyBag_amount),i.yb(5),i.yc(null==t.delivery?null:t.delivery.loan_amount),i.yb(2),i.yc(null==t.delivery?null:t.delivery.loan_rate),i.yb(2),i.yc(null==t.delivery?null:t.delivery.loan_payable),i.yb(5),i.yc(null==t.delivery?null:t.delivery.total),i.yb(21),i.yc(null==t.company?null:t.company.name_bd),i.yb(2),i.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),i.yb(5),i.yc(null==t.delivery?null:t.delivery.sr_no),i.yb(2),i.zc("\u09a4\u09be\u09b0\u09bf\u0996 - \x1b",i.ec(115,49,null==t.delivery?null:t.delivery.date.toMillis(),"dd/MM/yyyy"),""),i.yb(7),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.name,""),i.yb(5),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.father,""),i.yb(6),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.address,""),i.yb(6),i.zc(" ",null==t.delivery?null:t.delivery.quantity,""),i.yb(15),i.yc(null==t.company?null:t.company.name_bd),i.yb(2),i.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),i.yb(5),i.yc(null==t.delivery?null:t.delivery.sr_no),i.yb(2),i.zc("\u09a4\u09be\u09b0\u09bf\u0996 - \x1b",i.ec(163,52,null==t.delivery?null:t.delivery.date.toMillis(),"dd/MM/yyyy"),""),i.yb(7),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.name,""),i.yb(5),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.father,""),i.yb(6),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.address,""),i.yb(6),i.zc(" ",null==t.delivery?null:t.delivery.quantity,""),i.yb(15),i.yc(null==t.company?null:t.company.name_bd),i.yb(2),i.Ac("",null==t.company?null:t.company.address_bd,"| \u09ae\u09cb\u09ac\u09be\u0987\u09b2\u0983 ",null==t.company?null:t.company.phone_bd,""),i.yb(5),i.yc(null==t.delivery?null:t.delivery.sr_no),i.yb(2),i.zc("\u09a4\u09be\u09b0\u09bf\u0996 - \x1b",i.ec(211,55,null==t.delivery?null:t.delivery.date.toMillis(),"dd/MM/yyyy"),""),i.yb(7),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.name,""),i.yb(5),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.father,""),i.yb(6),i.zc(" ",null==t.delivery||null==t.delivery.customer?null:t.delivery.customer.address,""),i.yb(6),i.zc(" ",null==t.delivery?null:t.delivery.quantity,""))},pipes:[s.d],styles:["[_nghost-%COMP%]{display:block;background:#e0e0e0;font-size:12px}h3[_ngcontent-%COMP%]{text-align:center}.receipt[_ngcontent-%COMP%]{width:50%;height:25%;float:left;padding:10px;border:1px solid #000}.receipt1[_ngcontent-%COMP%]{height:48%}.receipt1[_ngcontent-%COMP%], .receipt2[_ngcontent-%COMP%]{width:50%;float:left;padding:10px;border-bottom:1px solid #000}.receipt2[_ngcontent-%COMP%]{height:16%}.output[_ngcontent-%COMP%]{height:297mm;width:210mm;position:absolute;top:50px;left:10px;padding:5px 15px}.company-name[_ngcontent-%COMP%]{font-size:17px}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.15rem}@media print{.output[_ngcontent-%COMP%]{left:0;top:0}}"]}),e})();function dn(e,t){if(1&e){const e=i.Qb();i.Nb(0),i.Pb(1,"customer-list",22),i.Zb("edit",function(t){return i.pc(e),i.bc().onCustomerClick(t)}),i.Ob(),i.Mb()}if(2&e){const e=i.bc();i.yb(1),i.hc("customerList",e.customerList)("short",!0)}}function hn(e,t){if(1&e){const e=i.Qb();i.Nb(0),i.Pb(1,"agent-list",23),i.Zb("edit",function(t){return i.pc(e),i.bc().onAgentClick(t)}),i.Ob(),i.Mb()}if(2&e){const e=i.bc();i.yb(1),i.hc("agentList",e.agentList)("short",!0)}}function un(e,t){if(1&e&&(i.Pb(0,"tr"),i.Pb(1,"th",24),i.xc(2),i.Ob(),i.Pb(3,"td",20),i.xc(4),i.Ob(),i.Pb(5,"td",20),i.xc(6),i.Ob(),i.Lb(7,"td"),i.Lb(8,"td"),i.Lb(9,"td"),i.Ob()),2&e){const e=t.$implicit,o=t.index;i.yb(2),i.yc(o+1),i.yb(2),i.zc(" ",e.sr_no," "),i.yb(2),i.zc(" ",e.quantity," ")}}const mn=function(e,t){return{"btn-primary":e,"btn-light":t}},gn=[{path:"",component:v,children:[{path:"chamber",component:D},{path:"floor",component:A},{path:"line",component:H},{path:"pocket",component:be},{path:"agent",component:Qe},{path:"customer",component:at},{path:"inventory",component:Ht},{path:"inventory-print/:id",component:eo},{path:"inventory-report",component:(()=>{class e{constructor(e,t,o,n){this.inventoryService=e,this.util=t,this.agentService=o,this.customerService=n,this.company_info=Xt,this.mode="agent",this.inventoryList=[],this.agentList=[],this.customerList=[],this.filteredInventoryList=[],this.total=0,this.year=(new Date).getFullYear(),this.getAgentList(),this.getCustomerList()}ngOnInit(){this.getInventoryByYear(this.year)}getInventoryByYear(e){return Object(O.a)(this,void 0,void 0,function*(){this.inventoryService.inventorys$.pipe(Object(Do.a)(2)).subscribe(t=>{this.inventoryList=t.filter(t=>t.year==e)})})}getCustomerList(){return Object(O.a)(this,void 0,void 0,function*(){this.customerService.customers$.pipe(Object(Do.a)(2)).subscribe(e=>{this.customerList=e,this.customerList.sort(this.util.dynamicSortObject("priority"))})})}getAgentList(){return Object(O.a)(this,void 0,void 0,function*(){this.agentService.agents$.pipe(Object(Do.a)(2)).subscribe(e=>{this.agentList=e,this.agentList.sort(this.util.dynamicSortObject("name"))})})}onModechange(e){this.mode=e}onCustomerClick(e){this.filteredInventoryList=this.inventoryList.filter(t=>t.customer._id==e),this.calculateTotalQuantity()}onAgentClick(e){this.filteredInventoryList=this.inventoryList.filter(t=>null!=t.agent&&t.agent._id==e),this.calculateTotalQuantity()}calculateTotalQuantity(){let e=0;this.filteredInventoryList.forEach(t=>{e+=t.quantity}),this.total=e}onPrint(){window.print()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(St),i.Kb(P.a),i.Kb(je.a),i.Kb(Ge.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-inventory-report"]],decls:49,vars:15,consts:[[1,"page-head","d-print-none"],[1,"container"],[1,"row"],[1,"col-md-4","d-print-none"],[1,"d-flex","justify-content-between"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-sm",3,"ngClass","click"],["type","radio","name","options","id","option1"],["type","radio","name","options","id","option2"],[1,"btn","btn-sm","btn-primary","ml-5",3,"click"],[1,"fa","fa-print"],[4,"ngIf"],[1,"col"],[1,"table","table-bordered","table-sm"],["colspan","7",1,"text-center","pt-3"],["scope","col",2,"width","4%"],["scope","col",1,"text-center",2,"width","15%"],["scope","col",1,"text-center"],["scope","col",1,"text-center",2,"width","20%"],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3"],[3,"customerList","short","edit"],[3,"agentList","short","edit"],["scope","row"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.xc(1," Inventory report\n"),i.Ob(),i.Pb(2,"div",1),i.Pb(3,"div",2),i.Pb(4,"div",3),i.Pb(5,"div",4),i.Pb(6,"div",5),i.Pb(7,"label",6),i.Zb("click",function(){return t.onModechange("agent")}),i.Lb(8,"input",7),i.xc(9," Agent "),i.Ob(),i.Pb(10,"label",6),i.Zb("click",function(){return t.onModechange("party")}),i.Lb(11,"input",8),i.xc(12," Party "),i.Ob(),i.Ob(),i.Pb(13,"button",9),i.Zb("click",function(){return t.onPrint()}),i.Lb(14,"i",10),i.xc(15,"Print"),i.Ob(),i.Ob(),i.vc(16,dn,2,2,"ng-container",11),i.vc(17,hn,2,2,"ng-container",11),i.Ob(),i.Pb(18,"div",12),i.Pb(19,"table",13),i.Pb(20,"thead"),i.Pb(21,"tr"),i.Pb(22,"td",14),i.Pb(23,"h4"),i.xc(24),i.Ob(),i.Pb(25,"h5"),i.xc(26),i.Ob(),i.Ob(),i.Ob(),i.Pb(27,"tr"),i.Pb(28,"th",15),i.xc(29,"#"),i.Ob(),i.Pb(30,"th",16),i.xc(31,"\u09b2\u099f \u09a8\u0982"),i.Ob(),i.Pb(32,"th",16),i.xc(33,"\u09ac\u09b8\u09cd\u09a4\u09be\u09b0 \u09b8\u0982\u0996\u09cd\u09af\u09be "),i.Ob(),i.Pb(34,"th",17),i.xc(35,"\u0996\u09be\u09b2\u09bf \u09ac\u09b8\u09cd\u09a4\u09be "),i.Ob(),i.Pb(36,"th",17),i.xc(37,"\u098b\u09a3\u09c7\u09b0 \u09aa\u09b0\u09bf\u09ae\u09be\u09a3"),i.Ob(),i.Pb(38,"th",18),i.xc(39,"\u09ae\u09a8\u09cd\u09a4\u09ac\u09cd\u09af"),i.Ob(),i.Ob(),i.Ob(),i.Pb(40,"tbody"),i.vc(41,un,10,3,"tr",19),i.Pb(42,"tr"),i.Lb(43,"th"),i.Pb(44,"th",20),i.xc(45,"\u09ae\u09cb\u099f"),i.Ob(),i.Pb(46,"th",20),i.xc(47),i.Ob(),i.Lb(48,"th",21),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(7),i.hc("ngClass",i.lc(9,mn,"agent"===t.mode,"party"===t.mode)),i.yb(3),i.hc("ngClass",i.lc(12,mn,"party"===t.mode,"agent"===t.mode)),i.yb(6),i.hc("ngIf","party"==t.mode),i.yb(1),i.hc("ngIf","agent"==t.mode),i.yb(7),i.Ac("",t.company_info.name_bd," (",t.company_info.service_bd,")"),i.yb(2),i.zc("\u0996\u09be\u09b2\u09bf \u09ac\u09b8\u09cd\u09a4\u09be \u0993 \u098b\u09a3\u09c7\u09b0 \u09b9\u09bf\u09b8\u09be\u09ac - ",t.year,""),i.yb(15),i.hc("ngForOf",t.filteredInventoryList),i.yb(6),i.yc(t.total))},directives:[s.l,s.n,s.m,st,Te],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-family:SolaimanLipi}td[_ngcontent-%COMP%]{padding:15px}@media print{@page{size[_ngcontent-%COMP%]:A4;padding:15px}}"]}),e})()},{path:"ledger",component:zo},{path:"ledger-add",component:$o},{path:"ledger-add/:id",component:$o},{path:"contract/:id",component:Bo},{path:"delivery",component:bn},{path:"delivery-print/:id",component:ln},{path:"pallot",component:go},{path:"loan",component:ko},{path:"user",component:Me},{path:"role",component:pe},{path:"company",component:Lt},{path:"test",component:Wt},{path:"",component:b}]}];let fn=(()=>{class e{}return e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({factory:function(t){return new(t||e)},imports:[[r.a,n.e.forChild(gn)]]}),e})()}}]);